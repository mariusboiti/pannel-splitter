(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(u){if(u.ep)return;u.ep=!0;const o=i(u);fetch(u.href,o)}})();var Vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yp(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var i=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var u=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,u.get?u:{enumerable:!0,get:function(){return e[a]}})}),i}var kc={exports:{}},Fa={},bc={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),wp=Symbol.for("react.portal"),xp=Symbol.for("react.fragment"),Sp=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),bp=Symbol.for("react.provider"),Cp=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Pp=Symbol.for("react.suspense"),zp=Symbol.for("react.memo"),Tp=Symbol.for("react.lazy"),rf=Symbol.iterator;function Np(e){return e===null||typeof e!="object"?null:(e=rf&&e[rf]||e["@@iterator"],typeof e=="function"?e:null)}var Cc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ec=Object.assign,Pc={};function Pi(e,n,i){this.props=e,this.context=n,this.refs=Pc,this.updater=i||Cc}Pi.prototype.isReactComponent={};Pi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Pi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zc(){}zc.prototype=Pi.prototype;function jl(e,n,i){this.props=e,this.context=n,this.refs=Pc,this.updater=i||Cc}var Dl=jl.prototype=new zc;Dl.constructor=jl;Ec(Dl,Pi.prototype);Dl.isPureReactComponent=!0;var sf=Array.isArray,Tc=Object.prototype.hasOwnProperty,Bl={current:null},Nc={key:!0,ref:!0,__self:!0,__source:!0};function Ic(e,n,i){var a,u={},o=null,h=null;if(n!=null)for(a in n.ref!==void 0&&(h=n.ref),n.key!==void 0&&(o=""+n.key),n)Tc.call(n,a)&&!Nc.hasOwnProperty(a)&&(u[a]=n[a]);var g=arguments.length-2;if(g===1)u.children=i;else if(1<g){for(var y=Array(g),I=0;I<g;I++)y[I]=arguments[I+2];u.children=y}if(e&&e.defaultProps)for(a in g=e.defaultProps,g)u[a]===void 0&&(u[a]=g[a]);return{$$typeof:ws,type:e,key:o,ref:h,props:u,_owner:Bl.current}}function Ip(e,n){return{$$typeof:ws,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Ul(e){return typeof e=="object"&&e!==null&&e.$$typeof===ws}function Op(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var af=/\/+/g;function _o(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Op(""+e.key):n.toString(36)}function ta(e,n,i,a,u){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(o){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case ws:case wp:h=!0}}if(h)return h=e,u=u(h),e=a===""?"."+_o(h,0):a,sf(u)?(i="",e!=null&&(i=e.replace(af,"$&/")+"/"),ta(u,n,i,"",function(I){return I})):u!=null&&(Ul(u)&&(u=Ip(u,i+(!u.key||h&&h.key===u.key?"":(""+u.key).replace(af,"$&/")+"/")+e)),n.push(u)),1;if(h=0,a=a===""?".":a+":",sf(e))for(var g=0;g<e.length;g++){o=e[g];var y=a+_o(o,g);h+=ta(o,n,i,y,u)}else if(y=Np(e),typeof y=="function")for(e=y.call(e),g=0;!(o=e.next()).done;)o=o.value,y=a+_o(o,g++),h+=ta(o,n,i,y,u);else if(o==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return h}function Rs(e,n,i){if(e==null)return e;var a=[],u=0;return ta(e,a,"","",function(o){return n.call(i,o,u++)}),a}function Mp(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},na={transition:null},Ap={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:na,ReactCurrentOwner:Bl};function Oc(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:Rs,forEach:function(e,n,i){Rs(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return Rs(e,function(){n++}),n},toArray:function(e){return Rs(e,function(n){return n})||[]},only:function(e){if(!Ul(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=Pi;ft.Fragment=xp;ft.Profiler=kp;ft.PureComponent=jl;ft.StrictMode=Sp;ft.Suspense=Pp;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ap;ft.act=Oc;ft.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Ec({},e.props),u=e.key,o=e.ref,h=e._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,h=Bl.current),n.key!==void 0&&(u=""+n.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(y in n)Tc.call(n,y)&&!Nc.hasOwnProperty(y)&&(a[y]=n[y]===void 0&&g!==void 0?g[y]:n[y])}var y=arguments.length-2;if(y===1)a.children=i;else if(1<y){g=Array(y);for(var I=0;I<y;I++)g[I]=arguments[I+2];a.children=g}return{$$typeof:ws,type:e.type,key:u,ref:o,props:a,_owner:h}};ft.createContext=function(e){return e={$$typeof:Cp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bp,_context:e},e.Consumer=e};ft.createElement=Ic;ft.createFactory=function(e){var n=Ic.bind(null,e);return n.type=e,n};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:Ep,render:e}};ft.isValidElement=Ul;ft.lazy=function(e){return{$$typeof:Tp,_payload:{_status:-1,_result:e},_init:Mp}};ft.memo=function(e,n){return{$$typeof:zp,type:e,compare:n===void 0?null:n}};ft.startTransition=function(e){var n=na.transition;na.transition={};try{e()}finally{na.transition=n}};ft.unstable_act=Oc;ft.useCallback=function(e,n){return tn.current.useCallback(e,n)};ft.useContext=function(e){return tn.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};ft.useEffect=function(e,n){return tn.current.useEffect(e,n)};ft.useId=function(){return tn.current.useId()};ft.useImperativeHandle=function(e,n,i){return tn.current.useImperativeHandle(e,n,i)};ft.useInsertionEffect=function(e,n){return tn.current.useInsertionEffect(e,n)};ft.useLayoutEffect=function(e,n){return tn.current.useLayoutEffect(e,n)};ft.useMemo=function(e,n){return tn.current.useMemo(e,n)};ft.useReducer=function(e,n,i){return tn.current.useReducer(e,n,i)};ft.useRef=function(e){return tn.current.useRef(e)};ft.useState=function(e){return tn.current.useState(e)};ft.useSyncExternalStore=function(e,n,i){return tn.current.useSyncExternalStore(e,n,i)};ft.useTransition=function(){return tn.current.useTransition()};ft.version="18.3.1";bc.exports=ft;var et=bc.exports;const Lp=Fl(et);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp=et,Fp=Symbol.for("react.element"),jp=Symbol.for("react.fragment"),Dp=Object.prototype.hasOwnProperty,Bp=Rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Up={key:!0,ref:!0,__self:!0,__source:!0};function Mc(e,n,i){var a,u={},o=null,h=null;i!==void 0&&(o=""+i),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(h=n.ref);for(a in n)Dp.call(n,a)&&!Up.hasOwnProperty(a)&&(u[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)u[a]===void 0&&(u[a]=n[a]);return{$$typeof:Fp,type:e,key:o,ref:h,props:u,_owner:Bp.current}}Fa.Fragment=jp;Fa.jsx=Mc;Fa.jsxs=Mc;kc.exports=Fa;var ne=kc.exports,Vo={},Ac={exports:{}},mn={},Lc={exports:{}},Rc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(Me,ge){var je=Me.length;Me.push(ge);e:for(;0<je;){var ve=je-1>>>1,_e=Me[ve];if(0<u(_e,ge))Me[ve]=ge,Me[je]=_e,je=ve;else break e}}function i(Me){return Me.length===0?null:Me[0]}function a(Me){if(Me.length===0)return null;var ge=Me[0],je=Me.pop();if(je!==ge){Me[0]=je;e:for(var ve=0,_e=Me.length,Ke=_e>>>1;ve<Ke;){var Ve=2*(ve+1)-1,Fe=Me[Ve],ht=Ve+1,yt=Me[ht];if(0>u(Fe,je))ht<_e&&0>u(yt,Fe)?(Me[ve]=yt,Me[ht]=je,ve=ht):(Me[ve]=Fe,Me[Ve]=je,ve=Ve);else if(ht<_e&&0>u(yt,je))Me[ve]=yt,Me[ht]=je,ve=ht;else break e}}return ge}function u(Me,ge){var je=Me.sortIndex-ge.sortIndex;return je!==0?je:Me.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var h=Date,g=h.now();e.unstable_now=function(){return h.now()-g}}var y=[],I=[],U=1,D=null,W=3,v=!1,H=!1,N=!1,Z=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Me){for(var ge=i(I);ge!==null;){if(ge.callback===null)a(I);else if(ge.startTime<=Me)a(I),ge.sortIndex=ge.expirationTime,n(y,ge);else break;ge=i(I)}}function G(Me){if(N=!1,A(Me),!H)if(i(y)!==null)H=!0,ke(J);else{var ge=i(I);ge!==null&&Te(G,ge.startTime-Me)}}function J(Me,ge){H=!1,N&&(N=!1,S(me),me=-1),v=!0;var je=W;try{for(A(ge),D=i(y);D!==null&&(!(D.expirationTime>ge)||Me&&!xe());){var ve=D.callback;if(typeof ve=="function"){D.callback=null,W=D.priorityLevel;var _e=ve(D.expirationTime<=ge);ge=e.unstable_now(),typeof _e=="function"?D.callback=_e:D===i(y)&&a(y),A(ge)}else a(y);D=i(y)}if(D!==null)var Ke=!0;else{var Ve=i(I);Ve!==null&&Te(G,Ve.startTime-ge),Ke=!1}return Ke}finally{D=null,W=je,v=!1}}var ie=!1,le=null,me=-1,pe=5,he=-1;function xe(){return!(e.unstable_now()-he<pe)}function Q(){if(le!==null){var Me=e.unstable_now();he=Me;var ge=!0;try{ge=le(!0,Me)}finally{ge?de():(ie=!1,le=null)}}else ie=!1}var de;if(typeof z=="function")de=function(){z(Q)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,be=O.port2;O.port1.onmessage=Q,de=function(){be.postMessage(null)}}else de=function(){Z(Q,0)};function ke(Me){le=Me,ie||(ie=!0,de())}function Te(Me,ge){me=Z(function(){Me(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Me){Me.callback=null},e.unstable_continueExecution=function(){H||v||(H=!0,ke(J))},e.unstable_forceFrameRate=function(Me){0>Me||125<Me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<Me?Math.floor(1e3/Me):5},e.unstable_getCurrentPriorityLevel=function(){return W},e.unstable_getFirstCallbackNode=function(){return i(y)},e.unstable_next=function(Me){switch(W){case 1:case 2:case 3:var ge=3;break;default:ge=W}var je=W;W=ge;try{return Me()}finally{W=je}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Me,ge){switch(Me){case 1:case 2:case 3:case 4:case 5:break;default:Me=3}var je=W;W=Me;try{return ge()}finally{W=je}},e.unstable_scheduleCallback=function(Me,ge,je){var ve=e.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?ve+je:ve):je=ve,Me){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=je+_e,Me={id:U++,callback:ge,priorityLevel:Me,startTime:je,expirationTime:_e,sortIndex:-1},je>ve?(Me.sortIndex=je,n(I,Me),i(y)===null&&Me===i(I)&&(N?(S(me),me=-1):N=!0,Te(G,je-ve))):(Me.sortIndex=_e,n(y,Me),H||v||(H=!0,ke(J))),Me},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(Me){var ge=W;return function(){var je=W;W=ge;try{return Me.apply(this,arguments)}finally{W=je}}}})(Rc);Lc.exports=Rc;var Wp=Lc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=et,gn=Wp;function Be(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fc=new Set,rs={};function Gr(e,n){wi(e,n),wi(e+"Capture",n)}function wi(e,n){for(rs[e]=n,e=0;e<n.length;e++)Fc.add(n[e])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=Object.prototype.hasOwnProperty,Hp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,of={},lf={};function Zp(e){return Ho.call(lf,e)?!0:Ho.call(of,e)?!1:Hp.test(e)?lf[e]=!0:(of[e]=!0,!1)}function $p(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gp(e,n,i,a){if(n===null||typeof n>"u"||$p(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function nn(e,n,i,a,u,o,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=h}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];$t[n]=new nn(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wl=/[\-:]([a-z])/g;function Vl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Wl,Vl);$t[n]=new nn(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Wl,Vl);$t[n]=new nn(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Wl,Vl);$t[n]=new nn(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hl(e,n,i,a){var u=$t.hasOwnProperty(n)?$t[n]:null;(u!==null?u.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Gp(n,i,u,a)&&(i=null),a||u===null?Zp(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(n=u.attributeName,a=u.attributeNamespace,i===null?e.removeAttribute(n):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var ir=Vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fs=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),Zl=Symbol.for("react.strict_mode"),Zo=Symbol.for("react.profiler"),jc=Symbol.for("react.provider"),Dc=Symbol.for("react.context"),$l=Symbol.for("react.forward_ref"),$o=Symbol.for("react.suspense"),Go=Symbol.for("react.suspense_list"),Gl=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),Bc=Symbol.for("react.offscreen"),uf=Symbol.iterator;function Li(e){return e===null||typeof e!="object"?null:(e=uf&&e[uf]||e["@@iterator"],typeof e=="function"?e:null)}var Et=Object.assign,vo;function Vi(e){if(vo===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);vo=n&&n[1]||""}return`
`+vo+e}var yo=!1;function wo(e,n){if(!e||yo)return"";yo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var a=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){a=I}e.call(n.prototype)}else{try{throw Error()}catch(I){a=I}e()}}catch(I){if(I&&a&&typeof I.stack=="string"){for(var u=I.stack.split(`
`),o=a.stack.split(`
`),h=u.length-1,g=o.length-1;1<=h&&0<=g&&u[h]!==o[g];)g--;for(;1<=h&&0<=g;h--,g--)if(u[h]!==o[g]){if(h!==1||g!==1)do if(h--,g--,0>g||u[h]!==o[g]){var y=`
`+u[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=g);break}}}finally{yo=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Vi(e):""}function qp(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=wo(e.type,!1),e;case 11:return e=wo(e.type.render,!1),e;case 1:return e=wo(e.type,!0),e;default:return""}}function qo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ri:return"Fragment";case ni:return"Portal";case Zo:return"Profiler";case Zl:return"StrictMode";case $o:return"Suspense";case Go:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dc:return(e.displayName||"Context")+".Consumer";case jc:return(e._context.displayName||"Context")+".Provider";case $l:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gl:return n=e.displayName||null,n!==null?n:qo(e.type)||"Memo";case fr:n=e._payload,e=e._init;try{return qo(e(n))}catch{}}return null}function Kp(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qo(n);case 8:return n===Zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qp(e){var n=Uc(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){a=""+h,o.call(this,h)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function js(e){e._valueTracker||(e._valueTracker=Qp(e))}function Wc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=Uc(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function da(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ko(e,n){var i=n.checked;return Et({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ff(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=br(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Vc(e,n){n=n.checked,n!=null&&Hl(e,"checked",n,!1)}function Qo(e,n){Vc(e,n);var i=br(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Xo(e,n.type,i):n.hasOwnProperty("defaultValue")&&Xo(e,n.type,br(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function cf(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Xo(e,n,i){(n!=="number"||da(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Hi=Array.isArray;function pi(e,n,i,a){if(e=e.options,n){n={};for(var u=0;u<i.length;u++)n["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=n.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+br(i),n=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Yo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(Be(91));return Et({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hf(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(Be(92));if(Hi(i)){if(1<i.length)throw Error(Be(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:br(i)}}function Hc(e,n){var i=br(n.value),a=br(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function df(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Zc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Zc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ds,$c=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,u){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function is(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xp=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(e){Xp.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),qi[n]=qi[e]})});function Gc(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||qi.hasOwnProperty(e)&&qi[e]?(""+n).trim():n+"px"}function qc(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,u=Gc(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,u):e[i]=u}}var Yp=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(e,n){if(n){if(Yp[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(Be(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(Be(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(Be(61))}if(n.style!=null&&typeof n.style!="object")throw Error(Be(62))}}function tl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function ql(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rl=null,gi=null,mi=null;function pf(e){if(e=ks(e)){if(typeof rl!="function")throw Error(Be(280));var n=e.stateNode;n&&(n=Wa(n),rl(e.stateNode,e.type,n))}}function Kc(e){gi?mi?mi.push(e):mi=[e]:gi=e}function Qc(){if(gi){var e=gi,n=mi;if(mi=gi=null,pf(e),n)for(e=0;e<n.length;e++)pf(n[e])}}function Xc(e,n){return e(n)}function Yc(){}var xo=!1;function Jc(e,n,i){if(xo)return e(n,i);xo=!0;try{return Xc(e,n,i)}finally{xo=!1,(gi!==null||mi!==null)&&(Yc(),Qc())}}function ss(e,n){var i=e.stateNode;if(i===null)return null;var a=Wa(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(Be(231,n,typeof i));return i}var il=!1;if(er)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){il=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{il=!1}function Jp(e,n,i,a,u,o,h,g,y){var I=Array.prototype.slice.call(arguments,3);try{n.apply(i,I)}catch(U){this.onError(U)}}var Ki=!1,pa=null,ga=!1,sl=null,eg={onError:function(e){Ki=!0,pa=e}};function tg(e,n,i,a,u,o,h,g,y){Ki=!1,pa=null,Jp.apply(eg,arguments)}function ng(e,n,i,a,u,o,h,g,y){if(tg.apply(this,arguments),Ki){if(Ki){var I=pa;Ki=!1,pa=null}else throw Error(Be(198));ga||(ga=!0,sl=I)}}function qr(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function eh(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function gf(e){if(qr(e)!==e)throw Error(Be(188))}function rg(e){var n=e.alternate;if(!n){if(n=qr(e),n===null)throw Error(Be(188));return n!==e?null:e}for(var i=e,a=n;;){var u=i.return;if(u===null)break;var o=u.alternate;if(o===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===i)return gf(u),e;if(o===a)return gf(u),n;o=o.sibling}throw Error(Be(188))}if(i.return!==a.return)i=u,a=o;else{for(var h=!1,g=u.child;g;){if(g===i){h=!0,i=u,a=o;break}if(g===a){h=!0,a=u,i=o;break}g=g.sibling}if(!h){for(g=o.child;g;){if(g===i){h=!0,i=o,a=u;break}if(g===a){h=!0,a=o,i=u;break}g=g.sibling}if(!h)throw Error(Be(189))}}if(i.alternate!==a)throw Error(Be(190))}if(i.tag!==3)throw Error(Be(188));return i.stateNode.current===i?e:n}function th(e){return e=rg(e),e!==null?nh(e):null}function nh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=nh(e);if(n!==null)return n;e=e.sibling}return null}var rh=gn.unstable_scheduleCallback,mf=gn.unstable_cancelCallback,ig=gn.unstable_shouldYield,sg=gn.unstable_requestPaint,Nt=gn.unstable_now,ag=gn.unstable_getCurrentPriorityLevel,Kl=gn.unstable_ImmediatePriority,ih=gn.unstable_UserBlockingPriority,ma=gn.unstable_NormalPriority,og=gn.unstable_LowPriority,sh=gn.unstable_IdlePriority,ja=null,Zn=null;function lg(e){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(ja,e,void 0,(e.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:cg,ug=Math.log,fg=Math.LN2;function cg(e){return e>>>=0,e===0?32:31-(ug(e)/fg|0)|0}var Bs=64,Us=4194304;function Zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _a(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,o=e.pingedLanes,h=i&268435455;if(h!==0){var g=h&~u;g!==0?a=Zi(g):(o&=h,o!==0&&(a=Zi(o)))}else h=i&~u,h!==0?a=Zi(h):o!==0&&(a=Zi(o));if(a===0)return 0;if(n!==0&&n!==a&&!(n&u)&&(u=a&-a,o=n&-n,u>=o||u===16&&(o&4194240)!==0))return n;if(a&4&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-Rn(n),u=1<<i,a|=e[i],n&=~u;return a}function hg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dg(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes;0<o;){var h=31-Rn(o),g=1<<h,y=u[h];y===-1?(!(g&i)||g&a)&&(u[h]=hg(g,n)):y<=n&&(e.expiredLanes|=g),o&=~g}}function al(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ah(){var e=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),e}function So(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function xs(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Rn(n),e[n]=i}function pg(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-Rn(i),o=1<<u;n[u]=0,a[u]=-1,e[u]=-1,i&=~o}}function Ql(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-Rn(i),u=1<<a;u&n|e[a]&n&&(e[a]|=n),i&=~u}}var _t=0;function oh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lh,Xl,uh,fh,ch,ol=!1,Ws=[],mr=null,_r=null,vr=null,as=new Map,os=new Map,hr=[],gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _f(e,n){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":as.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(n.pointerId)}}function Fi(e,n,i,a,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:o,targetContainers:[u]},n!==null&&(n=ks(n),n!==null&&Xl(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function mg(e,n,i,a,u){switch(n){case"focusin":return mr=Fi(mr,e,n,i,a,u),!0;case"dragenter":return _r=Fi(_r,e,n,i,a,u),!0;case"mouseover":return vr=Fi(vr,e,n,i,a,u),!0;case"pointerover":var o=u.pointerId;return as.set(o,Fi(as.get(o)||null,e,n,i,a,u)),!0;case"gotpointercapture":return o=u.pointerId,os.set(o,Fi(os.get(o)||null,e,n,i,a,u)),!0}return!1}function hh(e){var n=Fr(e.target);if(n!==null){var i=qr(n);if(i!==null){if(n=i.tag,n===13){if(n=eh(i),n!==null){e.blockedOn=n,ch(e.priority,function(){uh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ra(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=ll(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);nl=a,i.target.dispatchEvent(a),nl=null}else return n=ks(i),n!==null&&Xl(n),e.blockedOn=i,!1;n.shift()}return!0}function vf(e,n,i){ra(e)&&i.delete(n)}function _g(){ol=!1,mr!==null&&ra(mr)&&(mr=null),_r!==null&&ra(_r)&&(_r=null),vr!==null&&ra(vr)&&(vr=null),as.forEach(vf),os.forEach(vf)}function ji(e,n){e.blockedOn===n&&(e.blockedOn=null,ol||(ol=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,_g)))}function ls(e){function n(u){return ji(u,e)}if(0<Ws.length){ji(Ws[0],e);for(var i=1;i<Ws.length;i++){var a=Ws[i];a.blockedOn===e&&(a.blockedOn=null)}}for(mr!==null&&ji(mr,e),_r!==null&&ji(_r,e),vr!==null&&ji(vr,e),as.forEach(n),os.forEach(n),i=0;i<hr.length;i++)a=hr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<hr.length&&(i=hr[0],i.blockedOn===null);)hh(i),i.blockedOn===null&&hr.shift()}var _i=ir.ReactCurrentBatchConfig,va=!0;function vg(e,n,i,a){var u=_t,o=_i.transition;_i.transition=null;try{_t=1,Yl(e,n,i,a)}finally{_t=u,_i.transition=o}}function yg(e,n,i,a){var u=_t,o=_i.transition;_i.transition=null;try{_t=4,Yl(e,n,i,a)}finally{_t=u,_i.transition=o}}function Yl(e,n,i,a){if(va){var u=ll(e,n,i,a);if(u===null)Oo(e,n,a,ya,i),_f(e,a);else if(mg(u,e,n,i,a))a.stopPropagation();else if(_f(e,a),n&4&&-1<gg.indexOf(e)){for(;u!==null;){var o=ks(u);if(o!==null&&lh(o),o=ll(e,n,i,a),o===null&&Oo(e,n,a,ya,i),o===u)break;u=o}u!==null&&a.stopPropagation()}else Oo(e,n,a,null,i)}}var ya=null;function ll(e,n,i,a){if(ya=null,e=ql(a),e=Fr(e),e!==null)if(n=qr(e),n===null)e=null;else if(i=n.tag,i===13){if(e=eh(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ya=e,null}function dh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ag()){case Kl:return 1;case ih:return 4;case ma:case og:return 16;case sh:return 536870912;default:return 16}default:return 16}}var pr=null,Jl=null,ia=null;function ph(){if(ia)return ia;var e,n=Jl,i=n.length,a,u="value"in pr?pr.value:pr.textContent,o=u.length;for(e=0;e<i&&n[e]===u[e];e++);var h=i-e;for(a=1;a<=h&&n[i-a]===u[o-a];a++);return ia=u.slice(e,1<a?1-a:void 0)}function sa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vs(){return!0}function yf(){return!1}function _n(e){function n(i,a,u,o,h){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(o):o[g]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vs:yf,this.isPropagationStopped=yf,this}return Et(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=_n(zi),Ss=Et({},zi,{view:0,detail:0}),wg=_n(Ss),ko,bo,Di,Da=Et({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(ko=e.screenX-Di.screenX,bo=e.screenY-Di.screenY):bo=ko=0,Di=e),ko)},movementY:function(e){return"movementY"in e?e.movementY:bo}}),wf=_n(Da),xg=Et({},Da,{dataTransfer:0}),Sg=_n(xg),kg=Et({},Ss,{relatedTarget:0}),Co=_n(kg),bg=Et({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cg=_n(bg),Eg=Et({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pg=_n(Eg),zg=Et({},zi,{data:0}),xf=_n(zg),Tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Og(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ig[e])?!!n[e]:!1}function tu(){return Og}var Mg=Et({},Ss,{key:function(e){if(e.key){var n=Tg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ng[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(e){return e.type==="keypress"?sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ag=_n(Mg),Lg=Et({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sf=_n(Lg),Rg=Et({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),Fg=_n(Rg),jg=Et({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dg=_n(jg),Bg=Et({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=_n(Bg),Wg=[9,13,27,32],nu=er&&"CompositionEvent"in window,Qi=null;er&&"documentMode"in document&&(Qi=document.documentMode);var Vg=er&&"TextEvent"in window&&!Qi,gh=er&&(!nu||Qi&&8<Qi&&11>=Qi),kf=" ",bf=!1;function mh(e,n){switch(e){case"keyup":return Wg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _h(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function Hg(e,n){switch(e){case"compositionend":return _h(n);case"keypress":return n.which!==32?null:(bf=!0,kf);case"textInput":return e=n.data,e===kf&&bf?null:e;default:return null}}function Zg(e,n){if(ii)return e==="compositionend"||!nu&&mh(e,n)?(e=ph(),ia=Jl=pr=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gh&&n.locale!=="ko"?null:n.data;default:return null}}var $g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$g[e.type]:n==="textarea"}function vh(e,n,i,a){Kc(a),n=wa(n,"onChange"),0<n.length&&(i=new eu("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var Xi=null,us=null;function Gg(e){Th(e,0)}function Ba(e){var n=oi(e);if(Wc(n))return e}function qg(e,n){if(e==="change")return n}var yh=!1;if(er){var Eo;if(er){var Po="oninput"in document;if(!Po){var Ef=document.createElement("div");Ef.setAttribute("oninput","return;"),Po=typeof Ef.oninput=="function"}Eo=Po}else Eo=!1;yh=Eo&&(!document.documentMode||9<document.documentMode)}function Pf(){Xi&&(Xi.detachEvent("onpropertychange",wh),us=Xi=null)}function wh(e){if(e.propertyName==="value"&&Ba(us)){var n=[];vh(n,us,e,ql(e)),Jc(Gg,n)}}function Kg(e,n,i){e==="focusin"?(Pf(),Xi=n,us=i,Xi.attachEvent("onpropertychange",wh)):e==="focusout"&&Pf()}function Qg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ba(us)}function Xg(e,n){if(e==="click")return Ba(n)}function Yg(e,n){if(e==="input"||e==="change")return Ba(n)}function Jg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var jn=typeof Object.is=="function"?Object.is:Jg;function fs(e,n){if(jn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!Ho.call(n,u)||!jn(e[u],n[u]))return!1}return!0}function zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tf(e,n){var i=zf(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zf(i)}}function xh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sh(){for(var e=window,n=da();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=da(e.document)}return n}function ru(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function e0(e){var n=Sh(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&xh(i.ownerDocument.documentElement,i)){if(a!==null&&ru(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,o=Math.min(a.start,u);a=a.end===void 0?o:Math.min(a.end,u),!e.extend&&o>a&&(u=a,a=o,o=u),u=Tf(i,o);var h=Tf(i,a);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),o>a?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t0=er&&"documentMode"in document&&11>=document.documentMode,si=null,ul=null,Yi=null,fl=!1;function Nf(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fl||si==null||si!==da(a)||(a=si,"selectionStart"in a&&ru(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Yi&&fs(Yi,a)||(Yi=a,a=wa(ul,"onSelect"),0<a.length&&(n=new eu("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=si)))}function Hs(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ai={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionend:Hs("Transition","TransitionEnd")},zo={},kh={};er&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Ua(e){if(zo[e])return zo[e];if(!ai[e])return e;var n=ai[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in kh)return zo[e]=n[i];return e}var bh=Ua("animationend"),Ch=Ua("animationiteration"),Eh=Ua("animationstart"),Ph=Ua("transitionend"),zh=new Map,If="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,n){zh.set(e,n),Gr(n,[e])}for(var To=0;To<If.length;To++){var No=If[To],n0=No.toLowerCase(),r0=No[0].toUpperCase()+No.slice(1);Er(n0,"on"+r0)}Er(bh,"onAnimationEnd");Er(Ch,"onAnimationIteration");Er(Eh,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(Ph,"onTransitionEnd");wi("onMouseEnter",["mouseout","mouseover"]);wi("onMouseLeave",["mouseout","mouseover"]);wi("onPointerEnter",["pointerout","pointerover"]);wi("onPointerLeave",["pointerout","pointerover"]);Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i0=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function Of(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,ng(a,n,void 0,e),e.currentTarget=null}function Th(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var o=void 0;if(n)for(var h=a.length-1;0<=h;h--){var g=a[h],y=g.instance,I=g.currentTarget;if(g=g.listener,y!==o&&u.isPropagationStopped())break e;Of(u,g,I),o=y}else for(h=0;h<a.length;h++){if(g=a[h],y=g.instance,I=g.currentTarget,g=g.listener,y!==o&&u.isPropagationStopped())break e;Of(u,g,I),o=y}}}if(ga)throw e=sl,ga=!1,sl=null,e}function wt(e,n){var i=n[gl];i===void 0&&(i=n[gl]=new Set);var a=e+"__bubble";i.has(a)||(Nh(n,e,2,!1),i.add(a))}function Io(e,n,i){var a=0;n&&(a|=4),Nh(i,e,a,n)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[Zs]){e[Zs]=!0,Fc.forEach(function(i){i!=="selectionchange"&&(i0.has(i)||Io(i,!1,e),Io(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Zs]||(n[Zs]=!0,Io("selectionchange",!1,n))}}function Nh(e,n,i,a){switch(dh(n)){case 1:var u=vg;break;case 4:u=yg;break;default:u=Yl}i=u.bind(null,n,i,e),u=void 0,!il||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,i,{capture:!0,passive:u}):e.addEventListener(n,i,!0):u!==void 0?e.addEventListener(n,i,{passive:u}):e.addEventListener(n,i,!1)}function Oo(e,n,i,a,u){var o=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var g=a.stateNode.containerInfo;if(g===u||g.nodeType===8&&g.parentNode===u)break;if(h===4)for(h=a.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===u||y.nodeType===8&&y.parentNode===u))return;h=h.return}for(;g!==null;){if(h=Fr(g),h===null)return;if(y=h.tag,y===5||y===6){a=o=h;continue e}g=g.parentNode}}a=a.return}Jc(function(){var I=o,U=ql(i),D=[];e:{var W=zh.get(e);if(W!==void 0){var v=eu,H=e;switch(e){case"keypress":if(sa(i)===0)break e;case"keydown":case"keyup":v=Ag;break;case"focusin":H="focus",v=Co;break;case"focusout":H="blur",v=Co;break;case"beforeblur":case"afterblur":v=Co;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Fg;break;case bh:case Ch:case Eh:v=Cg;break;case Ph:v=Dg;break;case"scroll":v=wg;break;case"wheel":v=Ug;break;case"copy":case"cut":case"paste":v=Pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sf}var N=(n&4)!==0,Z=!N&&e==="scroll",S=N?W!==null?W+"Capture":null:W;N=[];for(var z=I,A;z!==null;){A=z;var G=A.stateNode;if(A.tag===5&&G!==null&&(A=G,S!==null&&(G=ss(z,S),G!=null&&N.push(hs(z,G,A)))),Z)break;z=z.return}0<N.length&&(W=new v(W,H,null,i,U),D.push({event:W,listeners:N}))}}if(!(n&7)){e:{if(W=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",W&&i!==nl&&(H=i.relatedTarget||i.fromElement)&&(Fr(H)||H[tr]))break e;if((v||W)&&(W=U.window===U?U:(W=U.ownerDocument)?W.defaultView||W.parentWindow:window,v?(H=i.relatedTarget||i.toElement,v=I,H=H?Fr(H):null,H!==null&&(Z=qr(H),H!==Z||H.tag!==5&&H.tag!==6)&&(H=null)):(v=null,H=I),v!==H)){if(N=wf,G="onMouseLeave",S="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(N=Sf,G="onPointerLeave",S="onPointerEnter",z="pointer"),Z=v==null?W:oi(v),A=H==null?W:oi(H),W=new N(G,z+"leave",v,i,U),W.target=Z,W.relatedTarget=A,G=null,Fr(U)===I&&(N=new N(S,z+"enter",H,i,U),N.target=A,N.relatedTarget=Z,G=N),Z=G,v&&H)t:{for(N=v,S=H,z=0,A=N;A;A=ei(A))z++;for(A=0,G=S;G;G=ei(G))A++;for(;0<z-A;)N=ei(N),z--;for(;0<A-z;)S=ei(S),A--;for(;z--;){if(N===S||S!==null&&N===S.alternate)break t;N=ei(N),S=ei(S)}N=null}else N=null;v!==null&&Mf(D,W,v,N,!1),H!==null&&Z!==null&&Mf(D,Z,H,N,!0)}}e:{if(W=I?oi(I):window,v=W.nodeName&&W.nodeName.toLowerCase(),v==="select"||v==="input"&&W.type==="file")var J=qg;else if(Cf(W))if(yh)J=Yg;else{J=Qg;var ie=Kg}else(v=W.nodeName)&&v.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(J=Xg);if(J&&(J=J(e,I))){vh(D,J,i,U);break e}ie&&ie(e,W,I),e==="focusout"&&(ie=W._wrapperState)&&ie.controlled&&W.type==="number"&&Xo(W,"number",W.value)}switch(ie=I?oi(I):window,e){case"focusin":(Cf(ie)||ie.contentEditable==="true")&&(si=ie,ul=I,Yi=null);break;case"focusout":Yi=ul=si=null;break;case"mousedown":fl=!0;break;case"contextmenu":case"mouseup":case"dragend":fl=!1,Nf(D,i,U);break;case"selectionchange":if(t0)break;case"keydown":case"keyup":Nf(D,i,U)}var le;if(nu)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else ii?mh(e,i)&&(me="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(me="onCompositionStart");me&&(gh&&i.locale!=="ko"&&(ii||me!=="onCompositionStart"?me==="onCompositionEnd"&&ii&&(le=ph()):(pr=U,Jl="value"in pr?pr.value:pr.textContent,ii=!0)),ie=wa(I,me),0<ie.length&&(me=new xf(me,e,null,i,U),D.push({event:me,listeners:ie}),le?me.data=le:(le=_h(i),le!==null&&(me.data=le)))),(le=Vg?Hg(e,i):Zg(e,i))&&(I=wa(I,"onBeforeInput"),0<I.length&&(U=new xf("onBeforeInput","beforeinput",null,i,U),D.push({event:U,listeners:I}),U.data=le))}Th(D,n)})}function hs(e,n,i){return{instance:e,listener:n,currentTarget:i}}function wa(e,n){for(var i=n+"Capture",a=[];e!==null;){var u=e,o=u.stateNode;u.tag===5&&o!==null&&(u=o,o=ss(e,i),o!=null&&a.unshift(hs(e,o,u)),o=ss(e,n),o!=null&&a.push(hs(e,o,u))),e=e.return}return a}function ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mf(e,n,i,a,u){for(var o=n._reactName,h=[];i!==null&&i!==a;){var g=i,y=g.alternate,I=g.stateNode;if(y!==null&&y===a)break;g.tag===5&&I!==null&&(g=I,u?(y=ss(i,o),y!=null&&h.unshift(hs(i,y,g))):u||(y=ss(i,o),y!=null&&h.push(hs(i,y,g)))),i=i.return}h.length!==0&&e.push({event:n,listeners:h})}var s0=/\r\n?/g,a0=/\u0000|\uFFFD/g;function Af(e){return(typeof e=="string"?e:""+e).replace(s0,`
`).replace(a0,"")}function $s(e,n,i){if(n=Af(n),Af(e)!==n&&i)throw Error(Be(425))}function xa(){}var cl=null,hl=null;function dl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,o0=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,l0=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(e){return Lf.resolve(null).then(e).catch(u0)}:pl;function u0(e){setTimeout(function(){throw e})}function Mo(e,n){var i=n,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),ls(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);ls(n)}function yr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Rf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Ti=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ti,ds="__reactProps$"+Ti,tr="__reactContainer$"+Ti,gl="__reactEvents$"+Ti,f0="__reactListeners$"+Ti,c0="__reactHandles$"+Ti;function Fr(e){var n=e[Hn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[tr]||i[Hn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Rf(e);e!==null;){if(i=e[Hn])return i;e=Rf(e)}return n}e=i,i=e.parentNode}return null}function ks(e){return e=e[Hn]||e[tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Be(33))}function Wa(e){return e[ds]||null}var ml=[],li=-1;function Pr(e){return{current:e}}function xt(e){0>li||(e.current=ml[li],ml[li]=null,li--)}function vt(e,n){li++,ml[li]=e.current,e.current=n}var Cr={},Yt=Pr(Cr),ln=Pr(!1),Wr=Cr;function xi(e,n){var i=e.type.contextTypes;if(!i)return Cr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var u={},o;for(o in i)u[o]=n[o];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function un(e){return e=e.childContextTypes,e!=null}function Sa(){xt(ln),xt(Yt)}function Ff(e,n,i){if(Yt.current!==Cr)throw Error(Be(168));vt(Yt,n),vt(ln,i)}function Ih(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var u in a)if(!(u in n))throw Error(Be(108,Kp(e)||"Unknown",u));return Et({},i,a)}function ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Wr=Yt.current,vt(Yt,e),vt(ln,ln.current),!0}function jf(e,n,i){var a=e.stateNode;if(!a)throw Error(Be(169));i?(e=Ih(e,n,Wr),a.__reactInternalMemoizedMergedChildContext=e,xt(ln),xt(Yt),vt(Yt,e)):xt(ln),vt(ln,i)}var Qn=null,Va=!1,Ao=!1;function Oh(e){Qn===null?Qn=[e]:Qn.push(e)}function h0(e){Va=!0,Oh(e)}function zr(){if(!Ao&&Qn!==null){Ao=!0;var e=0,n=_t;try{var i=Qn;for(_t=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Qn=null,Va=!1}catch(u){throw Qn!==null&&(Qn=Qn.slice(e+1)),rh(Kl,zr),u}finally{_t=n,Ao=!1}}return null}var ui=[],fi=0,ba=null,Ca=0,wn=[],xn=0,Vr=null,Xn=1,Yn="";function Lr(e,n){ui[fi++]=Ca,ui[fi++]=ba,ba=e,Ca=n}function Mh(e,n,i){wn[xn++]=Xn,wn[xn++]=Yn,wn[xn++]=Vr,Vr=e;var a=Xn;e=Yn;var u=32-Rn(a)-1;a&=~(1<<u),i+=1;var o=32-Rn(n)+u;if(30<o){var h=u-u%5;o=(a&(1<<h)-1).toString(32),a>>=h,u-=h,Xn=1<<32-Rn(n)+u|i<<u|a,Yn=o+e}else Xn=1<<o|i<<u|a,Yn=e}function iu(e){e.return!==null&&(Lr(e,1),Mh(e,1,0))}function su(e){for(;e===ba;)ba=ui[--fi],ui[fi]=null,Ca=ui[--fi],ui[fi]=null;for(;e===Vr;)Vr=wn[--xn],wn[xn]=null,Yn=wn[--xn],wn[xn]=null,Xn=wn[--xn],wn[xn]=null}var pn=null,dn=null,St=!1,Ln=null;function Ah(e,n){var i=Sn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Df(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,pn=e,dn=yr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,pn=e,dn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Vr!==null?{id:Xn,overflow:Yn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Sn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,pn=e,dn=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vl(e){if(St){var n=dn;if(n){var i=n;if(!Df(e,n)){if(_l(e))throw Error(Be(418));n=yr(i.nextSibling);var a=pn;n&&Df(e,n)?Ah(a,i):(e.flags=e.flags&-4097|2,St=!1,pn=e)}}else{if(_l(e))throw Error(Be(418));e.flags=e.flags&-4097|2,St=!1,pn=e}}}function Bf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function Gs(e){if(e!==pn)return!1;if(!St)return Bf(e),St=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!dl(e.type,e.memoizedProps)),n&&(n=dn)){if(_l(e))throw Lh(),Error(Be(418));for(;n;)Ah(e,n),n=yr(n.nextSibling)}if(Bf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Be(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){dn=yr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}dn=null}}else dn=pn?yr(e.stateNode.nextSibling):null;return!0}function Lh(){for(var e=dn;e;)e=yr(e.nextSibling)}function Si(){dn=pn=null,St=!1}function au(e){Ln===null?Ln=[e]:Ln.push(e)}var d0=ir.ReactCurrentBatchConfig;function Bi(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Be(309));var a=i.stateNode}if(!a)throw Error(Be(147,e));var u=a,o=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===o?n.ref:(n=function(h){var g=u.refs;h===null?delete g[o]:g[o]=h},n._stringRef=o,n)}if(typeof e!="string")throw Error(Be(284));if(!i._owner)throw Error(Be(290,e))}return e}function qs(e,n){throw e=Object.prototype.toString.call(n),Error(Be(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Uf(e){var n=e._init;return n(e._payload)}function Rh(e){function n(S,z){if(e){var A=S.deletions;A===null?(S.deletions=[z],S.flags|=16):A.push(z)}}function i(S,z){if(!e)return null;for(;z!==null;)n(S,z),z=z.sibling;return null}function a(S,z){for(S=new Map;z!==null;)z.key!==null?S.set(z.key,z):S.set(z.index,z),z=z.sibling;return S}function u(S,z){return S=kr(S,z),S.index=0,S.sibling=null,S}function o(S,z,A){return S.index=A,e?(A=S.alternate,A!==null?(A=A.index,A<z?(S.flags|=2,z):A):(S.flags|=2,z)):(S.flags|=1048576,z)}function h(S){return e&&S.alternate===null&&(S.flags|=2),S}function g(S,z,A,G){return z===null||z.tag!==6?(z=Uo(A,S.mode,G),z.return=S,z):(z=u(z,A),z.return=S,z)}function y(S,z,A,G){var J=A.type;return J===ri?U(S,z,A.props.children,G,A.key):z!==null&&(z.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===fr&&Uf(J)===z.type)?(G=u(z,A.props),G.ref=Bi(S,z,A),G.return=S,G):(G=ha(A.type,A.key,A.props,null,S.mode,G),G.ref=Bi(S,z,A),G.return=S,G)}function I(S,z,A,G){return z===null||z.tag!==4||z.stateNode.containerInfo!==A.containerInfo||z.stateNode.implementation!==A.implementation?(z=Wo(A,S.mode,G),z.return=S,z):(z=u(z,A.children||[]),z.return=S,z)}function U(S,z,A,G,J){return z===null||z.tag!==7?(z=Ur(A,S.mode,G,J),z.return=S,z):(z=u(z,A),z.return=S,z)}function D(S,z,A){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Uo(""+z,S.mode,A),z.return=S,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Fs:return A=ha(z.type,z.key,z.props,null,S.mode,A),A.ref=Bi(S,null,z),A.return=S,A;case ni:return z=Wo(z,S.mode,A),z.return=S,z;case fr:var G=z._init;return D(S,G(z._payload),A)}if(Hi(z)||Li(z))return z=Ur(z,S.mode,A,null),z.return=S,z;qs(S,z)}return null}function W(S,z,A,G){var J=z!==null?z.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return J!==null?null:g(S,z,""+A,G);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Fs:return A.key===J?y(S,z,A,G):null;case ni:return A.key===J?I(S,z,A,G):null;case fr:return J=A._init,W(S,z,J(A._payload),G)}if(Hi(A)||Li(A))return J!==null?null:U(S,z,A,G,null);qs(S,A)}return null}function v(S,z,A,G,J){if(typeof G=="string"&&G!==""||typeof G=="number")return S=S.get(A)||null,g(z,S,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Fs:return S=S.get(G.key===null?A:G.key)||null,y(z,S,G,J);case ni:return S=S.get(G.key===null?A:G.key)||null,I(z,S,G,J);case fr:var ie=G._init;return v(S,z,A,ie(G._payload),J)}if(Hi(G)||Li(G))return S=S.get(A)||null,U(z,S,G,J,null);qs(z,G)}return null}function H(S,z,A,G){for(var J=null,ie=null,le=z,me=z=0,pe=null;le!==null&&me<A.length;me++){le.index>me?(pe=le,le=null):pe=le.sibling;var he=W(S,le,A[me],G);if(he===null){le===null&&(le=pe);break}e&&le&&he.alternate===null&&n(S,le),z=o(he,z,me),ie===null?J=he:ie.sibling=he,ie=he,le=pe}if(me===A.length)return i(S,le),St&&Lr(S,me),J;if(le===null){for(;me<A.length;me++)le=D(S,A[me],G),le!==null&&(z=o(le,z,me),ie===null?J=le:ie.sibling=le,ie=le);return St&&Lr(S,me),J}for(le=a(S,le);me<A.length;me++)pe=v(le,S,me,A[me],G),pe!==null&&(e&&pe.alternate!==null&&le.delete(pe.key===null?me:pe.key),z=o(pe,z,me),ie===null?J=pe:ie.sibling=pe,ie=pe);return e&&le.forEach(function(xe){return n(S,xe)}),St&&Lr(S,me),J}function N(S,z,A,G){var J=Li(A);if(typeof J!="function")throw Error(Be(150));if(A=J.call(A),A==null)throw Error(Be(151));for(var ie=J=null,le=z,me=z=0,pe=null,he=A.next();le!==null&&!he.done;me++,he=A.next()){le.index>me?(pe=le,le=null):pe=le.sibling;var xe=W(S,le,he.value,G);if(xe===null){le===null&&(le=pe);break}e&&le&&xe.alternate===null&&n(S,le),z=o(xe,z,me),ie===null?J=xe:ie.sibling=xe,ie=xe,le=pe}if(he.done)return i(S,le),St&&Lr(S,me),J;if(le===null){for(;!he.done;me++,he=A.next())he=D(S,he.value,G),he!==null&&(z=o(he,z,me),ie===null?J=he:ie.sibling=he,ie=he);return St&&Lr(S,me),J}for(le=a(S,le);!he.done;me++,he=A.next())he=v(le,S,me,he.value,G),he!==null&&(e&&he.alternate!==null&&le.delete(he.key===null?me:he.key),z=o(he,z,me),ie===null?J=he:ie.sibling=he,ie=he);return e&&le.forEach(function(Q){return n(S,Q)}),St&&Lr(S,me),J}function Z(S,z,A,G){if(typeof A=="object"&&A!==null&&A.type===ri&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Fs:e:{for(var J=A.key,ie=z;ie!==null;){if(ie.key===J){if(J=A.type,J===ri){if(ie.tag===7){i(S,ie.sibling),z=u(ie,A.props.children),z.return=S,S=z;break e}}else if(ie.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===fr&&Uf(J)===ie.type){i(S,ie.sibling),z=u(ie,A.props),z.ref=Bi(S,ie,A),z.return=S,S=z;break e}i(S,ie);break}else n(S,ie);ie=ie.sibling}A.type===ri?(z=Ur(A.props.children,S.mode,G,A.key),z.return=S,S=z):(G=ha(A.type,A.key,A.props,null,S.mode,G),G.ref=Bi(S,z,A),G.return=S,S=G)}return h(S);case ni:e:{for(ie=A.key;z!==null;){if(z.key===ie)if(z.tag===4&&z.stateNode.containerInfo===A.containerInfo&&z.stateNode.implementation===A.implementation){i(S,z.sibling),z=u(z,A.children||[]),z.return=S,S=z;break e}else{i(S,z);break}else n(S,z);z=z.sibling}z=Wo(A,S.mode,G),z.return=S,S=z}return h(S);case fr:return ie=A._init,Z(S,z,ie(A._payload),G)}if(Hi(A))return H(S,z,A,G);if(Li(A))return N(S,z,A,G);qs(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,z!==null&&z.tag===6?(i(S,z.sibling),z=u(z,A),z.return=S,S=z):(i(S,z),z=Uo(A,S.mode,G),z.return=S,S=z),h(S)):i(S,z)}return Z}var ki=Rh(!0),Fh=Rh(!1),Ea=Pr(null),Pa=null,ci=null,ou=null;function lu(){ou=ci=Pa=null}function uu(e){var n=Ea.current;xt(Ea),e._currentValue=n}function yl(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function vi(e,n){Pa=e,ou=ci=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(on=!0),e.firstContext=null)}function bn(e){var n=e._currentValue;if(ou!==e)if(e={context:e,memoizedValue:n,next:null},ci===null){if(Pa===null)throw Error(Be(308));ci=e,Pa.dependencies={lanes:0,firstContext:e}}else ci=ci.next=e;return n}var jr=null;function fu(e){jr===null?jr=[e]:jr.push(e)}function jh(e,n,i,a){var u=n.interleaved;return u===null?(i.next=i,fu(n)):(i.next=u.next,u.next=i),n.interleaved=i,nr(e,a)}function nr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var cr=!1;function cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function wr(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,pt&2){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,nr(e,i)}return u=a.interleaved,u===null?(n.next=n,fu(a)):(n.next=u.next,u.next=n),a.interleaved=n,nr(e,i)}function aa(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,Ql(e,i)}}function Wf(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,o=null;if(i=i.firstBaseUpdate,i!==null){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};o===null?u=o=h:o=o.next=h,i=i.next}while(i!==null);o===null?u=o=n:o=o.next=n}else u=o=n;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function za(e,n,i,a){var u=e.updateQueue;cr=!1;var o=u.firstBaseUpdate,h=u.lastBaseUpdate,g=u.shared.pending;if(g!==null){u.shared.pending=null;var y=g,I=y.next;y.next=null,h===null?o=I:h.next=I,h=y;var U=e.alternate;U!==null&&(U=U.updateQueue,g=U.lastBaseUpdate,g!==h&&(g===null?U.firstBaseUpdate=I:g.next=I,U.lastBaseUpdate=y))}if(o!==null){var D=u.baseState;h=0,U=I=y=null,g=o;do{var W=g.lane,v=g.eventTime;if((a&W)===W){U!==null&&(U=U.next={eventTime:v,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var H=e,N=g;switch(W=n,v=i,N.tag){case 1:if(H=N.payload,typeof H=="function"){D=H.call(v,D,W);break e}D=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=N.payload,W=typeof H=="function"?H.call(v,D,W):H,W==null)break e;D=Et({},D,W);break e;case 2:cr=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,W=u.effects,W===null?u.effects=[g]:W.push(g))}else v={eventTime:v,lane:W,tag:g.tag,payload:g.payload,callback:g.callback,next:null},U===null?(I=U=v,y=D):U=U.next=v,h|=W;if(g=g.next,g===null){if(g=u.shared.pending,g===null)break;W=g,g=W.next,W.next=null,u.lastBaseUpdate=W,u.shared.pending=null}}while(!0);if(U===null&&(y=D),u.baseState=y,u.firstBaseUpdate=I,u.lastBaseUpdate=U,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else o===null&&(u.shared.lanes=0);Zr|=h,e.lanes=h,e.memoizedState=D}}function Vf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],u=a.callback;if(u!==null){if(a.callback=null,a=i,typeof u!="function")throw Error(Be(191,u));u.call(a)}}}var bs={},$n=Pr(bs),ps=Pr(bs),gs=Pr(bs);function Dr(e){if(e===bs)throw Error(Be(174));return e}function hu(e,n){switch(vt(gs,n),vt(ps,e),vt($n,bs),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Jo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Jo(n,e)}xt($n),vt($n,n)}function bi(){xt($n),xt(ps),xt(gs)}function Bh(e){Dr(gs.current);var n=Dr($n.current),i=Jo(n,e.type);n!==i&&(vt(ps,e),vt($n,i))}function du(e){ps.current===e&&(xt($n),xt(ps))}var bt=Pr(0);function Ta(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Lo=[];function pu(){for(var e=0;e<Lo.length;e++)Lo[e]._workInProgressVersionPrimary=null;Lo.length=0}var oa=ir.ReactCurrentDispatcher,Ro=ir.ReactCurrentBatchConfig,Hr=0,Ct=null,Rt=null,Bt=null,Na=!1,Ji=!1,ms=0,p0=0;function Kt(){throw Error(Be(321))}function gu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!jn(e[i],n[i]))return!1;return!0}function mu(e,n,i,a,u,o){if(Hr=o,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,oa.current=e===null||e.memoizedState===null?v0:y0,e=i(a,u),Ji){o=0;do{if(Ji=!1,ms=0,25<=o)throw Error(Be(301));o+=1,Bt=Rt=null,n.updateQueue=null,oa.current=w0,e=i(a,u)}while(Ji)}if(oa.current=Ia,n=Rt!==null&&Rt.next!==null,Hr=0,Bt=Rt=Ct=null,Na=!1,n)throw Error(Be(300));return e}function _u(){var e=ms!==0;return ms=0,e}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ct.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Cn(){if(Rt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var n=Bt===null?Ct.memoizedState:Bt.next;if(n!==null)Bt=n,Rt=e;else{if(e===null)throw Error(Be(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Bt===null?Ct.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function _s(e,n){return typeof n=="function"?n(e):n}function Fo(e){var n=Cn(),i=n.queue;if(i===null)throw Error(Be(311));i.lastRenderedReducer=e;var a=Rt,u=a.baseQueue,o=i.pending;if(o!==null){if(u!==null){var h=u.next;u.next=o.next,o.next=h}a.baseQueue=u=o,i.pending=null}if(u!==null){o=u.next,a=a.baseState;var g=h=null,y=null,I=o;do{var U=I.lane;if((Hr&U)===U)y!==null&&(y=y.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),a=I.hasEagerState?I.eagerState:e(a,I.action);else{var D={lane:U,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};y===null?(g=y=D,h=a):y=y.next=D,Ct.lanes|=U,Zr|=U}I=I.next}while(I!==null&&I!==o);y===null?h=a:y.next=g,jn(a,n.memoizedState)||(on=!0),n.memoizedState=a,n.baseState=h,n.baseQueue=y,i.lastRenderedState=a}if(e=i.interleaved,e!==null){u=e;do o=u.lane,Ct.lanes|=o,Zr|=o,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function jo(e){var n=Cn(),i=n.queue;if(i===null)throw Error(Be(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,o=n.memoizedState;if(u!==null){i.pending=null;var h=u=u.next;do o=e(o,h.action),h=h.next;while(h!==u);jn(o,n.memoizedState)||(on=!0),n.memoizedState=o,n.baseQueue===null&&(n.baseState=o),i.lastRenderedState=o}return[o,a]}function Uh(){}function Wh(e,n){var i=Ct,a=Cn(),u=n(),o=!jn(a.memoizedState,u);if(o&&(a.memoizedState=u,on=!0),a=a.queue,vu(Zh.bind(null,i,a,e),[e]),a.getSnapshot!==n||o||Bt!==null&&Bt.memoizedState.tag&1){if(i.flags|=2048,vs(9,Hh.bind(null,i,a,u,n),void 0,null),Ut===null)throw Error(Be(349));Hr&30||Vh(i,n,u)}return u}function Vh(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ct.updateQueue,n===null?(n={lastEffect:null,stores:null},Ct.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Hh(e,n,i,a){n.value=i,n.getSnapshot=a,$h(n)&&Gh(e)}function Zh(e,n,i){return i(function(){$h(n)&&Gh(e)})}function $h(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!jn(e,i)}catch{return!0}}function Gh(e){var n=nr(e,1);n!==null&&Fn(n,e,1,-1)}function Hf(e){var n=Wn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},n.queue=e,e=e.dispatch=_0.bind(null,Ct,e),[n.memoizedState,e]}function vs(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=Ct.updateQueue,n===null?(n={lastEffect:null,stores:null},Ct.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function qh(){return Cn().memoizedState}function la(e,n,i,a){var u=Wn();Ct.flags|=e,u.memoizedState=vs(1|n,i,void 0,a===void 0?null:a)}function Ha(e,n,i,a){var u=Cn();a=a===void 0?null:a;var o=void 0;if(Rt!==null){var h=Rt.memoizedState;if(o=h.destroy,a!==null&&gu(a,h.deps)){u.memoizedState=vs(n,i,o,a);return}}Ct.flags|=e,u.memoizedState=vs(1|n,i,o,a)}function Zf(e,n){return la(8390656,8,e,n)}function vu(e,n){return Ha(2048,8,e,n)}function Kh(e,n){return Ha(4,2,e,n)}function Qh(e,n){return Ha(4,4,e,n)}function Xh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yh(e,n,i){return i=i!=null?i.concat([e]):null,Ha(4,4,Xh.bind(null,n,e),i)}function yu(){}function Jh(e,n){var i=Cn();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&gu(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function ed(e,n){var i=Cn();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&gu(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function td(e,n,i){return Hr&21?(jn(i,n)||(i=ah(),Ct.lanes|=i,Zr|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=i)}function g0(e,n){var i=_t;_t=i!==0&&4>i?i:4,e(!0);var a=Ro.transition;Ro.transition={};try{e(!1),n()}finally{_t=i,Ro.transition=a}}function nd(){return Cn().memoizedState}function m0(e,n,i){var a=Sr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},rd(e))id(n,i);else if(i=jh(e,n,i,a),i!==null){var u=en();Fn(i,e,a,u),sd(i,n,a)}}function _0(e,n,i){var a=Sr(e),u={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(rd(e))id(n,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=n.lastRenderedReducer,o!==null))try{var h=n.lastRenderedState,g=o(h,i);if(u.hasEagerState=!0,u.eagerState=g,jn(g,h)){var y=n.interleaved;y===null?(u.next=u,fu(n)):(u.next=y.next,y.next=u),n.interleaved=u;return}}catch{}finally{}i=jh(e,n,u,a),i!==null&&(u=en(),Fn(i,e,a,u),sd(i,n,a))}}function rd(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function id(e,n){Ji=Na=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function sd(e,n,i){if(i&4194240){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,Ql(e,i)}}var Ia={readContext:bn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},v0={readContext:bn,useCallback:function(e,n){return Wn().memoizedState=[e,n===void 0?null:n],e},useContext:bn,useEffect:Zf,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,la(4194308,4,Xh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return la(4194308,4,e,n)},useInsertionEffect:function(e,n){return la(4,2,e,n)},useMemo:function(e,n){var i=Wn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=Wn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=m0.bind(null,Ct,e),[a.memoizedState,e]},useRef:function(e){var n=Wn();return e={current:e},n.memoizedState=e},useState:Hf,useDebugValue:yu,useDeferredValue:function(e){return Wn().memoizedState=e},useTransition:function(){var e=Hf(!1),n=e[0];return e=g0.bind(null,e[1]),Wn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=Ct,u=Wn();if(St){if(i===void 0)throw Error(Be(407));i=i()}else{if(i=n(),Ut===null)throw Error(Be(349));Hr&30||Vh(a,n,i)}u.memoizedState=i;var o={value:i,getSnapshot:n};return u.queue=o,Zf(Zh.bind(null,a,o,e),[e]),a.flags|=2048,vs(9,Hh.bind(null,a,o,i,n),void 0,null),i},useId:function(){var e=Wn(),n=Ut.identifierPrefix;if(St){var i=Yn,a=Xn;i=(a&~(1<<32-Rn(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=ms++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=p0++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},y0={readContext:bn,useCallback:Jh,useContext:bn,useEffect:vu,useImperativeHandle:Yh,useInsertionEffect:Kh,useLayoutEffect:Qh,useMemo:ed,useReducer:Fo,useRef:qh,useState:function(){return Fo(_s)},useDebugValue:yu,useDeferredValue:function(e){var n=Cn();return td(n,Rt.memoizedState,e)},useTransition:function(){var e=Fo(_s)[0],n=Cn().memoizedState;return[e,n]},useMutableSource:Uh,useSyncExternalStore:Wh,useId:nd,unstable_isNewReconciler:!1},w0={readContext:bn,useCallback:Jh,useContext:bn,useEffect:vu,useImperativeHandle:Yh,useInsertionEffect:Kh,useLayoutEffect:Qh,useMemo:ed,useReducer:jo,useRef:qh,useState:function(){return jo(_s)},useDebugValue:yu,useDeferredValue:function(e){var n=Cn();return Rt===null?n.memoizedState=e:td(n,Rt.memoizedState,e)},useTransition:function(){var e=jo(_s)[0],n=Cn().memoizedState;return[e,n]},useMutableSource:Uh,useSyncExternalStore:Wh,useId:nd,unstable_isNewReconciler:!1};function Mn(e,n){if(e&&e.defaultProps){n=Et({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function wl(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:Et({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Za={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=en(),u=Sr(e),o=Jn(a,u);o.payload=n,i!=null&&(o.callback=i),n=wr(e,o,u),n!==null&&(Fn(n,e,u,a),aa(n,e,u))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=en(),u=Sr(e),o=Jn(a,u);o.tag=1,o.payload=n,i!=null&&(o.callback=i),n=wr(e,o,u),n!==null&&(Fn(n,e,u,a),aa(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=en(),a=Sr(e),u=Jn(i,a);u.tag=2,n!=null&&(u.callback=n),n=wr(e,u,a),n!==null&&(Fn(n,e,a,i),aa(n,e,a))}};function $f(e,n,i,a,u,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,h):n.prototype&&n.prototype.isPureReactComponent?!fs(i,a)||!fs(u,o):!0}function ad(e,n,i){var a=!1,u=Cr,o=n.contextType;return typeof o=="object"&&o!==null?o=bn(o):(u=un(n)?Wr:Yt.current,a=n.contextTypes,o=(a=a!=null)?xi(e,u):Cr),n=new n(i,o),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Za,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=o),n}function Gf(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Za.enqueueReplaceState(n,n.state,null)}function xl(e,n,i,a){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},cu(e);var o=n.contextType;typeof o=="object"&&o!==null?u.context=bn(o):(o=un(n)?Wr:Yt.current,u.context=xi(e,o)),u.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(wl(e,n,o,i),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Za.enqueueReplaceState(u,u.state,null),za(e,i,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Ci(e,n){try{var i="",a=n;do i+=qp(a),a=a.return;while(a);var u=i}catch(o){u=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:n,stack:u,digest:null}}function Do(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Sl(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var x0=typeof WeakMap=="function"?WeakMap:Map;function od(e,n,i){i=Jn(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){Ma||(Ma=!0,Ol=a),Sl(e,n)},i}function ld(e,n,i){i=Jn(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;i.payload=function(){return a(u)},i.callback=function(){Sl(e,n)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(i.callback=function(){Sl(e,n),typeof a!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),i}function qf(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new x0;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(i)||(u.add(i),e=L0.bind(null,e,n,i),n.then(e,e))}function Kf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Qf(e,n,i,a,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Jn(-1,1),n.tag=2,wr(i,n,1))),i.lanes|=1),e)}var S0=ir.ReactCurrentOwner,on=!1;function Jt(e,n,i,a){n.child=e===null?Fh(n,null,i,a):ki(n,e.child,i,a)}function Xf(e,n,i,a,u){i=i.render;var o=n.ref;return vi(n,u),a=mu(e,n,i,a,o,u),i=_u(),e!==null&&!on?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,rr(e,n,u)):(St&&i&&iu(n),n.flags|=1,Jt(e,n,a,u),n.child)}function Yf(e,n,i,a,u){if(e===null){var o=i.type;return typeof o=="function"&&!Pu(o)&&o.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=o,ud(e,n,o,a,u)):(e=ha(i.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(o=e.child,!(e.lanes&u)){var h=o.memoizedProps;if(i=i.compare,i=i!==null?i:fs,i(h,a)&&e.ref===n.ref)return rr(e,n,u)}return n.flags|=1,e=kr(o,a),e.ref=n.ref,e.return=n,n.child=e}function ud(e,n,i,a,u){if(e!==null){var o=e.memoizedProps;if(fs(o,a)&&e.ref===n.ref)if(on=!1,n.pendingProps=a=o,(e.lanes&u)!==0)e.flags&131072&&(on=!0);else return n.lanes=e.lanes,rr(e,n,u)}return kl(e,n,i,a,u)}function fd(e,n,i){var a=n.pendingProps,u=a.children,o=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(di,hn),hn|=i;else{if(!(i&1073741824))return e=o!==null?o.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,vt(di,hn),hn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=o!==null?o.baseLanes:i,vt(di,hn),hn|=a}else o!==null?(a=o.baseLanes|i,n.memoizedState=null):a=i,vt(di,hn),hn|=a;return Jt(e,n,u,i),n.child}function cd(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function kl(e,n,i,a,u){var o=un(i)?Wr:Yt.current;return o=xi(n,o),vi(n,u),i=mu(e,n,i,a,o,u),a=_u(),e!==null&&!on?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,rr(e,n,u)):(St&&a&&iu(n),n.flags|=1,Jt(e,n,i,u),n.child)}function Jf(e,n,i,a,u){if(un(i)){var o=!0;ka(n)}else o=!1;if(vi(n,u),n.stateNode===null)ua(e,n),ad(n,i,a),xl(n,i,a,u),a=!0;else if(e===null){var h=n.stateNode,g=n.memoizedProps;h.props=g;var y=h.context,I=i.contextType;typeof I=="object"&&I!==null?I=bn(I):(I=un(i)?Wr:Yt.current,I=xi(n,I));var U=i.getDerivedStateFromProps,D=typeof U=="function"||typeof h.getSnapshotBeforeUpdate=="function";D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==a||y!==I)&&Gf(n,h,a,I),cr=!1;var W=n.memoizedState;h.state=W,za(n,a,h,u),y=n.memoizedState,g!==a||W!==y||ln.current||cr?(typeof U=="function"&&(wl(n,i,U,a),y=n.memoizedState),(g=cr||$f(n,i,g,a,W,y,I))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=y),h.props=a,h.state=y,h.context=I,a=g):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{h=n.stateNode,Dh(e,n),g=n.memoizedProps,I=n.type===n.elementType?g:Mn(n.type,g),h.props=I,D=n.pendingProps,W=h.context,y=i.contextType,typeof y=="object"&&y!==null?y=bn(y):(y=un(i)?Wr:Yt.current,y=xi(n,y));var v=i.getDerivedStateFromProps;(U=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==D||W!==y)&&Gf(n,h,a,y),cr=!1,W=n.memoizedState,h.state=W,za(n,a,h,u);var H=n.memoizedState;g!==D||W!==H||ln.current||cr?(typeof v=="function"&&(wl(n,i,v,a),H=n.memoizedState),(I=cr||$f(n,i,I,a,W,H,y)||!1)?(U||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,H,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,H,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&W===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&W===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=H),h.props=a,h.state=H,h.context=y,a=I):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&W===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&W===e.memoizedState||(n.flags|=1024),a=!1)}return bl(e,n,i,a,o,u)}function bl(e,n,i,a,u,o){cd(e,n);var h=(n.flags&128)!==0;if(!a&&!h)return u&&jf(n,i,!1),rr(e,n,o);a=n.stateNode,S0.current=n;var g=h&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&h?(n.child=ki(n,e.child,null,o),n.child=ki(n,null,g,o)):Jt(e,n,g,o),n.memoizedState=a.state,u&&jf(n,i,!0),n.child}function hd(e){var n=e.stateNode;n.pendingContext?Ff(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Ff(e,n.context,!1),hu(e,n.containerInfo)}function ec(e,n,i,a,u){return Si(),au(u),n.flags|=256,Jt(e,n,i,a),n.child}var Cl={dehydrated:null,treeContext:null,retryLane:0};function El(e){return{baseLanes:e,cachePool:null,transitions:null}}function dd(e,n,i){var a=n.pendingProps,u=bt.current,o=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(u&2)!==0),g?(o=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),vt(bt,u&1),e===null)return vl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=a.children,e=a.fallback,o?(a=n.mode,o=n.child,h={mode:"hidden",children:h},!(a&1)&&o!==null?(o.childLanes=0,o.pendingProps=h):o=qa(h,a,0,null),e=Ur(e,a,i,null),o.return=n,e.return=n,o.sibling=e,n.child=o,n.child.memoizedState=El(i),n.memoizedState=Cl,e):wu(n,h));if(u=e.memoizedState,u!==null&&(g=u.dehydrated,g!==null))return k0(e,n,h,a,g,u,i);if(o){o=a.fallback,h=n.mode,u=e.child,g=u.sibling;var y={mode:"hidden",children:a.children};return!(h&1)&&n.child!==u?(a=n.child,a.childLanes=0,a.pendingProps=y,n.deletions=null):(a=kr(u,y),a.subtreeFlags=u.subtreeFlags&14680064),g!==null?o=kr(g,o):(o=Ur(o,h,i,null),o.flags|=2),o.return=n,a.return=n,a.sibling=o,n.child=a,a=o,o=n.child,h=e.child.memoizedState,h=h===null?El(i):{baseLanes:h.baseLanes|i,cachePool:null,transitions:h.transitions},o.memoizedState=h,o.childLanes=e.childLanes&~i,n.memoizedState=Cl,a}return o=e.child,e=o.sibling,a=kr(o,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function wu(e,n){return n=qa({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ks(e,n,i,a){return a!==null&&au(a),ki(n,e.child,null,i),e=wu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function k0(e,n,i,a,u,o,h){if(i)return n.flags&256?(n.flags&=-257,a=Do(Error(Be(422))),Ks(e,n,h,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(o=a.fallback,u=n.mode,a=qa({mode:"visible",children:a.children},u,0,null),o=Ur(o,u,h,null),o.flags|=2,a.return=n,o.return=n,a.sibling=o,n.child=a,n.mode&1&&ki(n,e.child,null,h),n.child.memoizedState=El(h),n.memoizedState=Cl,o);if(!(n.mode&1))return Ks(e,n,h,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var g=a.dgst;return a=g,o=Error(Be(419)),a=Do(o,a,void 0),Ks(e,n,h,a)}if(g=(h&e.childLanes)!==0,on||g){if(a=Ut,a!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(a.suspendedLanes|h)?0:u,u!==0&&u!==o.retryLane&&(o.retryLane=u,nr(e,u),Fn(a,e,u,-1))}return Eu(),a=Do(Error(Be(421))),Ks(e,n,h,a)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=R0.bind(null,e),u._reactRetry=n,null):(e=o.treeContext,dn=yr(u.nextSibling),pn=n,St=!0,Ln=null,e!==null&&(wn[xn++]=Xn,wn[xn++]=Yn,wn[xn++]=Vr,Xn=e.id,Yn=e.overflow,Vr=n),n=wu(n,a.children),n.flags|=4096,n)}function tc(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),yl(e.return,n,i)}function Bo(e,n,i,a,u){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=i,o.tailMode=u)}function pd(e,n,i){var a=n.pendingProps,u=a.revealOrder,o=a.tail;if(Jt(e,n,a.children,i),a=bt.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tc(e,i,n);else if(e.tag===19)tc(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(vt(bt,a),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(i=n.child,u=null;i!==null;)e=i.alternate,e!==null&&Ta(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=n.child,n.child=null):(u=i.sibling,i.sibling=null),Bo(n,!1,u,i,o);break;case"backwards":for(i=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Ta(e)===null){n.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Bo(n,!0,i,null,o);break;case"together":Bo(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ua(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function rr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Zr|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(Be(153));if(n.child!==null){for(e=n.child,i=kr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=kr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function b0(e,n,i){switch(n.tag){case 3:hd(n),Si();break;case 5:Bh(n);break;case 1:un(n.type)&&ka(n);break;case 4:hu(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,u=n.memoizedProps.value;vt(Ea,a._currentValue),a._currentValue=u;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(vt(bt,bt.current&1),n.flags|=128,null):i&n.child.childLanes?dd(e,n,i):(vt(bt,bt.current&1),e=rr(e,n,i),e!==null?e.sibling:null);vt(bt,bt.current&1);break;case 19:if(a=(i&n.childLanes)!==0,e.flags&128){if(a)return pd(e,n,i);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),vt(bt,bt.current),a)break;return null;case 22:case 23:return n.lanes=0,fd(e,n,i)}return rr(e,n,i)}var gd,Pl,md,_d;gd=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Pl=function(){};md=function(e,n,i,a){var u=e.memoizedProps;if(u!==a){e=n.stateNode,Dr($n.current);var o=null;switch(i){case"input":u=Ko(e,u),a=Ko(e,a),o=[];break;case"select":u=Et({},u,{value:void 0}),a=Et({},a,{value:void 0}),o=[];break;case"textarea":u=Yo(e,u),a=Yo(e,a),o=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=xa)}el(i,a);var h;i=null;for(I in u)if(!a.hasOwnProperty(I)&&u.hasOwnProperty(I)&&u[I]!=null)if(I==="style"){var g=u[I];for(h in g)g.hasOwnProperty(h)&&(i||(i={}),i[h]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(rs.hasOwnProperty(I)?o||(o=[]):(o=o||[]).push(I,null));for(I in a){var y=a[I];if(g=u!=null?u[I]:void 0,a.hasOwnProperty(I)&&y!==g&&(y!=null||g!=null))if(I==="style")if(g){for(h in g)!g.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(i||(i={}),i[h]="");for(h in y)y.hasOwnProperty(h)&&g[h]!==y[h]&&(i||(i={}),i[h]=y[h])}else i||(o||(o=[]),o.push(I,i)),i=y;else I==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(o=o||[]).push(I,y)):I==="children"?typeof y!="string"&&typeof y!="number"||(o=o||[]).push(I,""+y):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(rs.hasOwnProperty(I)?(y!=null&&I==="onScroll"&&wt("scroll",e),o||g===y||(o=[])):(o=o||[]).push(I,y))}i&&(o=o||[]).push("style",i);var I=o;(n.updateQueue=I)&&(n.flags|=4)}};_d=function(e,n,i,a){i!==a&&(n.flags|=4)};function Ui(e,n){if(!St)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function C0(e,n,i){var a=n.pendingProps;switch(su(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(n),null;case 1:return un(n.type)&&Sa(),Qt(n),null;case 3:return a=n.stateNode,bi(),xt(ln),xt(Yt),pu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ln!==null&&(Ll(Ln),Ln=null))),Pl(e,n),Qt(n),null;case 5:du(n);var u=Dr(gs.current);if(i=n.type,e!==null&&n.stateNode!=null)md(e,n,i,a,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(Be(166));return Qt(n),null}if(e=Dr($n.current),Gs(n)){a=n.stateNode,i=n.type;var o=n.memoizedProps;switch(a[Hn]=n,a[ds]=o,e=(n.mode&1)!==0,i){case"dialog":wt("cancel",a),wt("close",a);break;case"iframe":case"object":case"embed":wt("load",a);break;case"video":case"audio":for(u=0;u<$i.length;u++)wt($i[u],a);break;case"source":wt("error",a);break;case"img":case"image":case"link":wt("error",a),wt("load",a);break;case"details":wt("toggle",a);break;case"input":ff(a,o),wt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},wt("invalid",a);break;case"textarea":hf(a,o),wt("invalid",a)}el(i,o),u=null;for(var h in o)if(o.hasOwnProperty(h)){var g=o[h];h==="children"?typeof g=="string"?a.textContent!==g&&(o.suppressHydrationWarning!==!0&&$s(a.textContent,g,e),u=["children",g]):typeof g=="number"&&a.textContent!==""+g&&(o.suppressHydrationWarning!==!0&&$s(a.textContent,g,e),u=["children",""+g]):rs.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&wt("scroll",a)}switch(i){case"input":js(a),cf(a,o,!0);break;case"textarea":js(a),df(a);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(a.onclick=xa)}a=u,n.updateQueue=a,a!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zc(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=h.createElement(i,{is:a.is}):(e=h.createElement(i),i==="select"&&(h=e,a.multiple?h.multiple=!0:a.size&&(h.size=a.size))):e=h.createElementNS(e,i),e[Hn]=n,e[ds]=a,gd(e,n,!1,!1),n.stateNode=e;e:{switch(h=tl(i,a),i){case"dialog":wt("cancel",e),wt("close",e),u=a;break;case"iframe":case"object":case"embed":wt("load",e),u=a;break;case"video":case"audio":for(u=0;u<$i.length;u++)wt($i[u],e);u=a;break;case"source":wt("error",e),u=a;break;case"img":case"image":case"link":wt("error",e),wt("load",e),u=a;break;case"details":wt("toggle",e),u=a;break;case"input":ff(e,a),u=Ko(e,a),wt("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=Et({},a,{value:void 0}),wt("invalid",e);break;case"textarea":hf(e,a),u=Yo(e,a),wt("invalid",e);break;default:u=a}el(i,u),g=u;for(o in g)if(g.hasOwnProperty(o)){var y=g[o];o==="style"?qc(e,y):o==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&$c(e,y)):o==="children"?typeof y=="string"?(i!=="textarea"||y!=="")&&is(e,y):typeof y=="number"&&is(e,""+y):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rs.hasOwnProperty(o)?y!=null&&o==="onScroll"&&wt("scroll",e):y!=null&&Hl(e,o,y,h))}switch(i){case"input":js(e),cf(e,a,!1);break;case"textarea":js(e),df(e);break;case"option":a.value!=null&&e.setAttribute("value",""+br(a.value));break;case"select":e.multiple=!!a.multiple,o=a.value,o!=null?pi(e,!!a.multiple,o,!1):a.defaultValue!=null&&pi(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=xa)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Qt(n),null;case 6:if(e&&n.stateNode!=null)_d(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(Be(166));if(i=Dr(gs.current),Dr($n.current),Gs(n)){if(a=n.stateNode,i=n.memoizedProps,a[Hn]=n,(o=a.nodeValue!==i)&&(e=pn,e!==null))switch(e.tag){case 3:$s(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(a.nodeValue,i,(e.mode&1)!==0)}o&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Hn]=n,n.stateNode=a}return Qt(n),null;case 13:if(xt(bt),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(St&&dn!==null&&n.mode&1&&!(n.flags&128))Lh(),Si(),n.flags|=98560,o=!1;else if(o=Gs(n),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(Be(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Be(317));o[Hn]=n}else Si(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Qt(n),o=!1}else Ln!==null&&(Ll(Ln),Ln=null),o=!0;if(!o)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||bt.current&1?Ft===0&&(Ft=3):Eu())),n.updateQueue!==null&&(n.flags|=4),Qt(n),null);case 4:return bi(),Pl(e,n),e===null&&cs(n.stateNode.containerInfo),Qt(n),null;case 10:return uu(n.type._context),Qt(n),null;case 17:return un(n.type)&&Sa(),Qt(n),null;case 19:if(xt(bt),o=n.memoizedState,o===null)return Qt(n),null;if(a=(n.flags&128)!==0,h=o.rendering,h===null)if(a)Ui(o,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=Ta(e),h!==null){for(n.flags|=128,Ui(o,!1),a=h.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)o=i,e=a,o.flags&=14680066,h=o.alternate,h===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,e=h.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return vt(bt,bt.current&1|2),n.child}e=e.sibling}o.tail!==null&&Nt()>Ei&&(n.flags|=128,a=!0,Ui(o,!1),n.lanes=4194304)}else{if(!a)if(e=Ta(h),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Ui(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!St)return Qt(n),null}else 2*Nt()-o.renderingStartTime>Ei&&i!==1073741824&&(n.flags|=128,a=!0,Ui(o,!1),n.lanes=4194304);o.isBackwards?(h.sibling=n.child,n.child=h):(i=o.last,i!==null?i.sibling=h:n.child=h,o.last=h)}return o.tail!==null?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=Nt(),n.sibling=null,i=bt.current,vt(bt,a?i&1|2:i&1),n):(Qt(n),null);case 22:case 23:return Cu(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?hn&1073741824&&(Qt(n),n.subtreeFlags&6&&(n.flags|=8192)):Qt(n),null;case 24:return null;case 25:return null}throw Error(Be(156,n.tag))}function E0(e,n){switch(su(n),n.tag){case 1:return un(n.type)&&Sa(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return bi(),xt(ln),xt(Yt),pu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return du(n),null;case 13:if(xt(bt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(Be(340));Si()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return xt(bt),null;case 4:return bi(),null;case 10:return uu(n.type._context),null;case 22:case 23:return Cu(),null;case 24:return null;default:return null}}var Qs=!1,Xt=!1,P0=typeof WeakSet=="function"?WeakSet:Set,qe=null;function hi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Pt(e,n,a)}else i.current=null}function zl(e,n,i){try{i()}catch(a){Pt(e,n,a)}}var nc=!1;function z0(e,n){if(cl=va,e=Sh(),ru(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{i.nodeType,o.nodeType}catch{i=null;break e}var h=0,g=-1,y=-1,I=0,U=0,D=e,W=null;t:for(;;){for(var v;D!==i||u!==0&&D.nodeType!==3||(g=h+u),D!==o||a!==0&&D.nodeType!==3||(y=h+a),D.nodeType===3&&(h+=D.nodeValue.length),(v=D.firstChild)!==null;)W=D,D=v;for(;;){if(D===e)break t;if(W===i&&++I===u&&(g=h),W===o&&++U===a&&(y=h),(v=D.nextSibling)!==null)break;D=W,W=D.parentNode}D=v}i=g===-1||y===-1?null:{start:g,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(hl={focusedElem:e,selectionRange:i},va=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){n=qe;try{var H=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var N=H.memoizedProps,Z=H.memoizedState,S=n.stateNode,z=S.getSnapshotBeforeUpdate(n.elementType===n.type?N:Mn(n.type,N),Z);S.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var A=n.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(G){Pt(n,n.return,G)}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}return H=nc,nc=!1,H}function es(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var o=u.destroy;u.destroy=void 0,o!==void 0&&zl(n,i,o)}u=u.next}while(u!==a)}}function $a(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Tl(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function vd(e){var n=e.alternate;n!==null&&(e.alternate=null,vd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Hn],delete n[ds],delete n[gl],delete n[f0],delete n[c0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yd(e){return e.tag===5||e.tag===3||e.tag===4}function rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nl(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=xa));else if(a!==4&&(e=e.child,e!==null))for(Nl(e,n,i),e=e.sibling;e!==null;)Nl(e,n,i),e=e.sibling}function Il(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Il(e,n,i),e=e.sibling;e!==null;)Il(e,n,i),e=e.sibling}var Ht=null,An=!1;function ur(e,n,i){for(i=i.child;i!==null;)wd(e,n,i),i=i.sibling}function wd(e,n,i){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(ja,i)}catch{}switch(i.tag){case 5:Xt||hi(i,n);case 6:var a=Ht,u=An;Ht=null,ur(e,n,i),Ht=a,An=u,Ht!==null&&(An?(e=Ht,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ht.removeChild(i.stateNode));break;case 18:Ht!==null&&(An?(e=Ht,i=i.stateNode,e.nodeType===8?Mo(e.parentNode,i):e.nodeType===1&&Mo(e,i),ls(e)):Mo(Ht,i.stateNode));break;case 4:a=Ht,u=An,Ht=i.stateNode.containerInfo,An=!0,ur(e,n,i),Ht=a,An=u;break;case 0:case 11:case 14:case 15:if(!Xt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var o=u,h=o.destroy;o=o.tag,h!==void 0&&(o&2||o&4)&&zl(i,n,h),u=u.next}while(u!==a)}ur(e,n,i);break;case 1:if(!Xt&&(hi(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(g){Pt(i,n,g)}ur(e,n,i);break;case 21:ur(e,n,i);break;case 22:i.mode&1?(Xt=(a=Xt)||i.memoizedState!==null,ur(e,n,i),Xt=a):ur(e,n,i);break;default:ur(e,n,i)}}function ic(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new P0),n.forEach(function(a){var u=F0.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}}function On(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];try{var o=e,h=n,g=h;e:for(;g!==null;){switch(g.tag){case 5:Ht=g.stateNode,An=!1;break e;case 3:Ht=g.stateNode.containerInfo,An=!0;break e;case 4:Ht=g.stateNode.containerInfo,An=!0;break e}g=g.return}if(Ht===null)throw Error(Be(160));wd(o,h,u),Ht=null,An=!1;var y=u.alternate;y!==null&&(y.return=null),u.return=null}catch(I){Pt(u,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)xd(n,e),n=n.sibling}function xd(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(n,e),Un(e),a&4){try{es(3,e,e.return),$a(3,e)}catch(N){Pt(e,e.return,N)}try{es(5,e,e.return)}catch(N){Pt(e,e.return,N)}}break;case 1:On(n,e),Un(e),a&512&&i!==null&&hi(i,i.return);break;case 5:if(On(n,e),Un(e),a&512&&i!==null&&hi(i,i.return),e.flags&32){var u=e.stateNode;try{is(u,"")}catch(N){Pt(e,e.return,N)}}if(a&4&&(u=e.stateNode,u!=null)){var o=e.memoizedProps,h=i!==null?i.memoizedProps:o,g=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{g==="input"&&o.type==="radio"&&o.name!=null&&Vc(u,o),tl(g,h);var I=tl(g,o);for(h=0;h<y.length;h+=2){var U=y[h],D=y[h+1];U==="style"?qc(u,D):U==="dangerouslySetInnerHTML"?$c(u,D):U==="children"?is(u,D):Hl(u,U,D,I)}switch(g){case"input":Qo(u,o);break;case"textarea":Hc(u,o);break;case"select":var W=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?pi(u,!!o.multiple,v,!1):W!==!!o.multiple&&(o.defaultValue!=null?pi(u,!!o.multiple,o.defaultValue,!0):pi(u,!!o.multiple,o.multiple?[]:"",!1))}u[ds]=o}catch(N){Pt(e,e.return,N)}}break;case 6:if(On(n,e),Un(e),a&4){if(e.stateNode===null)throw Error(Be(162));u=e.stateNode,o=e.memoizedProps;try{u.nodeValue=o}catch(N){Pt(e,e.return,N)}}break;case 3:if(On(n,e),Un(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{ls(n.containerInfo)}catch(N){Pt(e,e.return,N)}break;case 4:On(n,e),Un(e);break;case 13:On(n,e),Un(e),u=e.child,u.flags&8192&&(o=u.memoizedState!==null,u.stateNode.isHidden=o,!o||u.alternate!==null&&u.alternate.memoizedState!==null||(ku=Nt())),a&4&&ic(e);break;case 22:if(U=i!==null&&i.memoizedState!==null,e.mode&1?(Xt=(I=Xt)||U,On(n,e),Xt=I):On(n,e),Un(e),a&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!U&&e.mode&1)for(qe=e,U=e.child;U!==null;){for(D=qe=U;qe!==null;){switch(W=qe,v=W.child,W.tag){case 0:case 11:case 14:case 15:es(4,W,W.return);break;case 1:hi(W,W.return);var H=W.stateNode;if(typeof H.componentWillUnmount=="function"){a=W,i=W.return;try{n=a,H.props=n.memoizedProps,H.state=n.memoizedState,H.componentWillUnmount()}catch(N){Pt(a,i,N)}}break;case 5:hi(W,W.return);break;case 22:if(W.memoizedState!==null){ac(D);continue}}v!==null?(v.return=W,qe=v):ac(D)}U=U.sibling}e:for(U=null,D=e;;){if(D.tag===5){if(U===null){U=D;try{u=D.stateNode,I?(o=u.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(g=D.stateNode,y=D.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=Gc("display",h))}catch(N){Pt(e,e.return,N)}}}else if(D.tag===6){if(U===null)try{D.stateNode.nodeValue=I?"":D.memoizedProps}catch(N){Pt(e,e.return,N)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;U===D&&(U=null),D=D.return}U===D&&(U=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:On(n,e),Un(e),a&4&&ic(e);break;case 21:break;default:On(n,e),Un(e)}}function Un(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(yd(i)){var a=i;break e}i=i.return}throw Error(Be(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(is(u,""),a.flags&=-33);var o=rc(e);Il(e,o,u);break;case 3:case 4:var h=a.stateNode.containerInfo,g=rc(e);Nl(e,g,h);break;default:throw Error(Be(161))}}catch(y){Pt(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function T0(e,n,i){qe=e,Sd(e)}function Sd(e,n,i){for(var a=(e.mode&1)!==0;qe!==null;){var u=qe,o=u.child;if(u.tag===22&&a){var h=u.memoizedState!==null||Qs;if(!h){var g=u.alternate,y=g!==null&&g.memoizedState!==null||Xt;g=Qs;var I=Xt;if(Qs=h,(Xt=y)&&!I)for(qe=u;qe!==null;)h=qe,y=h.child,h.tag===22&&h.memoizedState!==null?oc(u):y!==null?(y.return=h,qe=y):oc(u);for(;o!==null;)qe=o,Sd(o),o=o.sibling;qe=u,Qs=g,Xt=I}sc(e)}else u.subtreeFlags&8772&&o!==null?(o.return=u,qe=o):sc(e)}}function sc(e){for(;qe!==null;){var n=qe;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Xt||$a(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Xt)if(i===null)a.componentDidMount();else{var u=n.elementType===n.type?i.memoizedProps:Mn(n.type,i.memoizedProps);a.componentDidUpdate(u,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=n.updateQueue;o!==null&&Vf(n,o,a);break;case 3:var h=n.updateQueue;if(h!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Vf(n,h,i)}break;case 5:var g=n.stateNode;if(i===null&&n.flags&4){i=g;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&i.focus();break;case"img":y.src&&(i.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var U=I.memoizedState;if(U!==null){var D=U.dehydrated;D!==null&&ls(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}Xt||n.flags&512&&Tl(n)}catch(W){Pt(n,n.return,W)}}if(n===e){qe=null;break}if(i=n.sibling,i!==null){i.return=n.return,qe=i;break}qe=n.return}}function ac(e){for(;qe!==null;){var n=qe;if(n===e){qe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,qe=i;break}qe=n.return}}function oc(e){for(;qe!==null;){var n=qe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{$a(4,n)}catch(y){Pt(n,i,y)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var u=n.return;try{a.componentDidMount()}catch(y){Pt(n,u,y)}}var o=n.return;try{Tl(n)}catch(y){Pt(n,o,y)}break;case 5:var h=n.return;try{Tl(n)}catch(y){Pt(n,h,y)}}}catch(y){Pt(n,n.return,y)}if(n===e){qe=null;break}var g=n.sibling;if(g!==null){g.return=n.return,qe=g;break}qe=n.return}}var N0=Math.ceil,Oa=ir.ReactCurrentDispatcher,xu=ir.ReactCurrentOwner,kn=ir.ReactCurrentBatchConfig,pt=0,Ut=null,Ot=null,Zt=0,hn=0,di=Pr(0),Ft=0,ys=null,Zr=0,Ga=0,Su=0,ts=null,an=null,ku=0,Ei=1/0,Kn=null,Ma=!1,Ol=null,xr=null,Xs=!1,gr=null,Aa=0,ns=0,Ml=null,fa=-1,ca=0;function en(){return pt&6?Nt():fa!==-1?fa:fa=Nt()}function Sr(e){return e.mode&1?pt&2&&Zt!==0?Zt&-Zt:d0.transition!==null?(ca===0&&(ca=ah()),ca):(e=_t,e!==0||(e=window.event,e=e===void 0?16:dh(e.type)),e):1}function Fn(e,n,i,a){if(50<ns)throw ns=0,Ml=null,Error(Be(185));xs(e,i,a),(!(pt&2)||e!==Ut)&&(e===Ut&&(!(pt&2)&&(Ga|=i),Ft===4&&dr(e,Zt)),fn(e,a),i===1&&pt===0&&!(n.mode&1)&&(Ei=Nt()+500,Va&&zr()))}function fn(e,n){var i=e.callbackNode;dg(e,n);var a=_a(e,e===Ut?Zt:0);if(a===0)i!==null&&mf(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&mf(i),n===1)e.tag===0?h0(lc.bind(null,e)):Oh(lc.bind(null,e)),l0(function(){!(pt&6)&&zr()}),i=null;else{switch(oh(a)){case 1:i=Kl;break;case 4:i=ih;break;case 16:i=ma;break;case 536870912:i=sh;break;default:i=ma}i=Nd(i,kd.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function kd(e,n){if(fa=-1,ca=0,pt&6)throw Error(Be(327));var i=e.callbackNode;if(yi()&&e.callbackNode!==i)return null;var a=_a(e,e===Ut?Zt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=La(e,a);else{n=a;var u=pt;pt|=2;var o=Cd();(Ut!==e||Zt!==n)&&(Kn=null,Ei=Nt()+500,Br(e,n));do try{M0();break}catch(g){bd(e,g)}while(!0);lu(),Oa.current=o,pt=u,Ot!==null?n=0:(Ut=null,Zt=0,n=Ft)}if(n!==0){if(n===2&&(u=al(e),u!==0&&(a=u,n=Al(e,u))),n===1)throw i=ys,Br(e,0),dr(e,a),fn(e,Nt()),i;if(n===6)dr(e,a);else{if(u=e.current.alternate,!(a&30)&&!I0(u)&&(n=La(e,a),n===2&&(o=al(e),o!==0&&(a=o,n=Al(e,o))),n===1))throw i=ys,Br(e,0),dr(e,a),fn(e,Nt()),i;switch(e.finishedWork=u,e.finishedLanes=a,n){case 0:case 1:throw Error(Be(345));case 2:Rr(e,an,Kn);break;case 3:if(dr(e,a),(a&130023424)===a&&(n=ku+500-Nt(),10<n)){if(_a(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){en(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=pl(Rr.bind(null,e,an,Kn),n);break}Rr(e,an,Kn);break;case 4:if(dr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,u=-1;0<a;){var h=31-Rn(a);o=1<<h,h=n[h],h>u&&(u=h),a&=~o}if(a=u,a=Nt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*N0(a/1960))-a,10<a){e.timeoutHandle=pl(Rr.bind(null,e,an,Kn),a);break}Rr(e,an,Kn);break;case 5:Rr(e,an,Kn);break;default:throw Error(Be(329))}}}return fn(e,Nt()),e.callbackNode===i?kd.bind(null,e):null}function Al(e,n){var i=ts;return e.current.memoizedState.isDehydrated&&(Br(e,n).flags|=256),e=La(e,n),e!==2&&(n=an,an=i,n!==null&&Ll(n)),e}function Ll(e){an===null?an=e:an.push.apply(an,e)}function I0(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var u=i[a],o=u.getSnapshot;u=u.value;try{if(!jn(o(),u))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dr(e,n){for(n&=~Su,n&=~Ga,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Rn(n),a=1<<i;e[i]=-1,n&=~a}}function lc(e){if(pt&6)throw Error(Be(327));yi();var n=_a(e,0);if(!(n&1))return fn(e,Nt()),null;var i=La(e,n);if(e.tag!==0&&i===2){var a=al(e);a!==0&&(n=a,i=Al(e,a))}if(i===1)throw i=ys,Br(e,0),dr(e,n),fn(e,Nt()),i;if(i===6)throw Error(Be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Rr(e,an,Kn),fn(e,Nt()),null}function bu(e,n){var i=pt;pt|=1;try{return e(n)}finally{pt=i,pt===0&&(Ei=Nt()+500,Va&&zr())}}function $r(e){gr!==null&&gr.tag===0&&!(pt&6)&&yi();var n=pt;pt|=1;var i=kn.transition,a=_t;try{if(kn.transition=null,_t=1,e)return e()}finally{_t=a,kn.transition=i,pt=n,!(pt&6)&&zr()}}function Cu(){hn=di.current,xt(di)}function Br(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,o0(i)),Ot!==null)for(i=Ot.return;i!==null;){var a=i;switch(su(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Sa();break;case 3:bi(),xt(ln),xt(Yt),pu();break;case 5:du(a);break;case 4:bi();break;case 13:xt(bt);break;case 19:xt(bt);break;case 10:uu(a.type._context);break;case 22:case 23:Cu()}i=i.return}if(Ut=e,Ot=e=kr(e.current,null),Zt=hn=n,Ft=0,ys=null,Su=Ga=Zr=0,an=ts=null,jr!==null){for(n=0;n<jr.length;n++)if(i=jr[n],a=i.interleaved,a!==null){i.interleaved=null;var u=a.next,o=i.pending;if(o!==null){var h=o.next;o.next=u,a.next=h}i.pending=a}jr=null}return e}function bd(e,n){do{var i=Ot;try{if(lu(),oa.current=Ia,Na){for(var a=Ct.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Na=!1}if(Hr=0,Bt=Rt=Ct=null,Ji=!1,ms=0,xu.current=null,i===null||i.return===null){Ft=1,ys=n,Ot=null;break}e:{var o=e,h=i.return,g=i,y=n;if(n=Zt,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var I=y,U=g,D=U.tag;if(!(U.mode&1)&&(D===0||D===11||D===15)){var W=U.alternate;W?(U.updateQueue=W.updateQueue,U.memoizedState=W.memoizedState,U.lanes=W.lanes):(U.updateQueue=null,U.memoizedState=null)}var v=Kf(h);if(v!==null){v.flags&=-257,Qf(v,h,g,o,n),v.mode&1&&qf(o,I,n),n=v,y=I;var H=n.updateQueue;if(H===null){var N=new Set;N.add(y),n.updateQueue=N}else H.add(y);break e}else{if(!(n&1)){qf(o,I,n),Eu();break e}y=Error(Be(426))}}else if(St&&g.mode&1){var Z=Kf(h);if(Z!==null){!(Z.flags&65536)&&(Z.flags|=256),Qf(Z,h,g,o,n),au(Ci(y,g));break e}}o=y=Ci(y,g),Ft!==4&&(Ft=2),ts===null?ts=[o]:ts.push(o),o=h;do{switch(o.tag){case 3:o.flags|=65536,n&=-n,o.lanes|=n;var S=od(o,y,n);Wf(o,S);break e;case 1:g=y;var z=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof z.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(xr===null||!xr.has(A)))){o.flags|=65536,n&=-n,o.lanes|=n;var G=ld(o,g,n);Wf(o,G);break e}}o=o.return}while(o!==null)}Pd(i)}catch(J){n=J,Ot===i&&i!==null&&(Ot=i=i.return);continue}break}while(!0)}function Cd(){var e=Oa.current;return Oa.current=Ia,e===null?Ia:e}function Eu(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Ut===null||!(Zr&268435455)&&!(Ga&268435455)||dr(Ut,Zt)}function La(e,n){var i=pt;pt|=2;var a=Cd();(Ut!==e||Zt!==n)&&(Kn=null,Br(e,n));do try{O0();break}catch(u){bd(e,u)}while(!0);if(lu(),pt=i,Oa.current=a,Ot!==null)throw Error(Be(261));return Ut=null,Zt=0,Ft}function O0(){for(;Ot!==null;)Ed(Ot)}function M0(){for(;Ot!==null&&!ig();)Ed(Ot)}function Ed(e){var n=Td(e.alternate,e,hn);e.memoizedProps=e.pendingProps,n===null?Pd(e):Ot=n,xu.current=null}function Pd(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=E0(i,n),i!==null){i.flags&=32767,Ot=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ft=6,Ot=null;return}}else if(i=C0(i,n,hn),i!==null){Ot=i;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);Ft===0&&(Ft=5)}function Rr(e,n,i){var a=_t,u=kn.transition;try{kn.transition=null,_t=1,A0(e,n,i,a)}finally{kn.transition=u,_t=a}return null}function A0(e,n,i,a){do yi();while(gr!==null);if(pt&6)throw Error(Be(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(Be(177));e.callbackNode=null,e.callbackPriority=0;var o=i.lanes|i.childLanes;if(pg(e,o),e===Ut&&(Ot=Ut=null,Zt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Xs||(Xs=!0,Nd(ma,function(){return yi(),null})),o=(i.flags&15990)!==0,i.subtreeFlags&15990||o){o=kn.transition,kn.transition=null;var h=_t;_t=1;var g=pt;pt|=4,xu.current=null,z0(e,i),xd(i,e),e0(hl),va=!!cl,hl=cl=null,e.current=i,T0(i),sg(),pt=g,_t=h,kn.transition=o}else e.current=i;if(Xs&&(Xs=!1,gr=e,Aa=u),o=e.pendingLanes,o===0&&(xr=null),lg(i.stateNode),fn(e,Nt()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)u=n[i],a(u.value,{componentStack:u.stack,digest:u.digest});if(Ma)throw Ma=!1,e=Ol,Ol=null,e;return Aa&1&&e.tag!==0&&yi(),o=e.pendingLanes,o&1?e===Ml?ns++:(ns=0,Ml=e):ns=0,zr(),null}function yi(){if(gr!==null){var e=oh(Aa),n=kn.transition,i=_t;try{if(kn.transition=null,_t=16>e?16:e,gr===null)var a=!1;else{if(e=gr,gr=null,Aa=0,pt&6)throw Error(Be(331));var u=pt;for(pt|=4,qe=e.current;qe!==null;){var o=qe,h=o.child;if(qe.flags&16){var g=o.deletions;if(g!==null){for(var y=0;y<g.length;y++){var I=g[y];for(qe=I;qe!==null;){var U=qe;switch(U.tag){case 0:case 11:case 15:es(8,U,o)}var D=U.child;if(D!==null)D.return=U,qe=D;else for(;qe!==null;){U=qe;var W=U.sibling,v=U.return;if(vd(U),U===I){qe=null;break}if(W!==null){W.return=v,qe=W;break}qe=v}}}var H=o.alternate;if(H!==null){var N=H.child;if(N!==null){H.child=null;do{var Z=N.sibling;N.sibling=null,N=Z}while(N!==null)}}qe=o}}if(o.subtreeFlags&2064&&h!==null)h.return=o,qe=h;else e:for(;qe!==null;){if(o=qe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:es(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,qe=S;break e}qe=o.return}}var z=e.current;for(qe=z;qe!==null;){h=qe;var A=h.child;if(h.subtreeFlags&2064&&A!==null)A.return=h,qe=A;else e:for(h=z;qe!==null;){if(g=qe,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:$a(9,g)}}catch(J){Pt(g,g.return,J)}if(g===h){qe=null;break e}var G=g.sibling;if(G!==null){G.return=g.return,qe=G;break e}qe=g.return}}if(pt=u,zr(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(ja,e)}catch{}a=!0}return a}finally{_t=i,kn.transition=n}}return!1}function uc(e,n,i){n=Ci(i,n),n=od(e,n,1),e=wr(e,n,1),n=en(),e!==null&&(xs(e,1,n),fn(e,n))}function Pt(e,n,i){if(e.tag===3)uc(e,e,i);else for(;n!==null;){if(n.tag===3){uc(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(xr===null||!xr.has(a))){e=Ci(i,e),e=ld(n,e,1),n=wr(n,e,1),e=en(),n!==null&&(xs(n,1,e),fn(n,e));break}}n=n.return}}function L0(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=en(),e.pingedLanes|=e.suspendedLanes&i,Ut===e&&(Zt&i)===i&&(Ft===4||Ft===3&&(Zt&130023424)===Zt&&500>Nt()-ku?Br(e,0):Su|=i),fn(e,n)}function zd(e,n){n===0&&(e.mode&1?(n=Us,Us<<=1,!(Us&130023424)&&(Us=4194304)):n=1);var i=en();e=nr(e,n),e!==null&&(xs(e,n,i),fn(e,i))}function R0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),zd(e,i)}function F0(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Be(314))}a!==null&&a.delete(n),zd(e,i)}var Td;Td=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||ln.current)on=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return on=!1,b0(e,n,i);on=!!(e.flags&131072)}else on=!1,St&&n.flags&1048576&&Mh(n,Ca,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;ua(e,n),e=n.pendingProps;var u=xi(n,Yt.current);vi(n,i),u=mu(null,n,a,e,u,i);var o=_u();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,un(a)?(o=!0,ka(n)):o=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,cu(n),u.updater=Za,n.stateNode=u,u._reactInternals=n,xl(n,a,e,i),n=bl(null,n,a,!0,o,i)):(n.tag=0,St&&o&&iu(n),Jt(null,n,u,i),n=n.child),n;case 16:a=n.elementType;e:{switch(ua(e,n),e=n.pendingProps,u=a._init,a=u(a._payload),n.type=a,u=n.tag=D0(a),e=Mn(a,e),u){case 0:n=kl(null,n,a,e,i);break e;case 1:n=Jf(null,n,a,e,i);break e;case 11:n=Xf(null,n,a,e,i);break e;case 14:n=Yf(null,n,a,Mn(a.type,e),i);break e}throw Error(Be(306,a,""))}return n;case 0:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Mn(a,u),kl(e,n,a,u,i);case 1:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Mn(a,u),Jf(e,n,a,u,i);case 3:e:{if(hd(n),e===null)throw Error(Be(387));a=n.pendingProps,o=n.memoizedState,u=o.element,Dh(e,n),za(n,a,null,i);var h=n.memoizedState;if(a=h.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=o,n.memoizedState=o,n.flags&256){u=Ci(Error(Be(423)),n),n=ec(e,n,a,i,u);break e}else if(a!==u){u=Ci(Error(Be(424)),n),n=ec(e,n,a,i,u);break e}else for(dn=yr(n.stateNode.containerInfo.firstChild),pn=n,St=!0,Ln=null,i=Fh(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Si(),a===u){n=rr(e,n,i);break e}Jt(e,n,a,i)}n=n.child}return n;case 5:return Bh(n),e===null&&vl(n),a=n.type,u=n.pendingProps,o=e!==null?e.memoizedProps:null,h=u.children,dl(a,u)?h=null:o!==null&&dl(a,o)&&(n.flags|=32),cd(e,n),Jt(e,n,h,i),n.child;case 6:return e===null&&vl(n),null;case 13:return dd(e,n,i);case 4:return hu(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=ki(n,null,a,i):Jt(e,n,a,i),n.child;case 11:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Mn(a,u),Xf(e,n,a,u,i);case 7:return Jt(e,n,n.pendingProps,i),n.child;case 8:return Jt(e,n,n.pendingProps.children,i),n.child;case 12:return Jt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,u=n.pendingProps,o=n.memoizedProps,h=u.value,vt(Ea,a._currentValue),a._currentValue=h,o!==null)if(jn(o.value,h)){if(o.children===u.children&&!ln.current){n=rr(e,n,i);break e}}else for(o=n.child,o!==null&&(o.return=n);o!==null;){var g=o.dependencies;if(g!==null){h=o.child;for(var y=g.firstContext;y!==null;){if(y.context===a){if(o.tag===1){y=Jn(-1,i&-i),y.tag=2;var I=o.updateQueue;if(I!==null){I=I.shared;var U=I.pending;U===null?y.next=y:(y.next=U.next,U.next=y),I.pending=y}}o.lanes|=i,y=o.alternate,y!==null&&(y.lanes|=i),yl(o.return,i,n),g.lanes|=i;break}y=y.next}}else if(o.tag===10)h=o.type===n.type?null:o.child;else if(o.tag===18){if(h=o.return,h===null)throw Error(Be(341));h.lanes|=i,g=h.alternate,g!==null&&(g.lanes|=i),yl(h,i,n),h=o.sibling}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===n){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}Jt(e,n,u.children,i),n=n.child}return n;case 9:return u=n.type,a=n.pendingProps.children,vi(n,i),u=bn(u),a=a(u),n.flags|=1,Jt(e,n,a,i),n.child;case 14:return a=n.type,u=Mn(a,n.pendingProps),u=Mn(a.type,u),Yf(e,n,a,u,i);case 15:return ud(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Mn(a,u),ua(e,n),n.tag=1,un(a)?(e=!0,ka(n)):e=!1,vi(n,i),ad(n,a,u),xl(n,a,u,i),bl(null,n,a,!0,e,i);case 19:return pd(e,n,i);case 22:return fd(e,n,i)}throw Error(Be(156,n.tag))};function Nd(e,n){return rh(e,n)}function j0(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,i,a){return new j0(e,n,i,a)}function Pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D0(e){if(typeof e=="function")return Pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$l)return 11;if(e===Gl)return 14}return 2}function kr(e,n){var i=e.alternate;return i===null?(i=Sn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ha(e,n,i,a,u,o){var h=2;if(a=e,typeof e=="function")Pu(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ri:return Ur(i.children,u,o,n);case Zl:h=8,u|=8;break;case Zo:return e=Sn(12,i,n,u|2),e.elementType=Zo,e.lanes=o,e;case $o:return e=Sn(13,i,n,u),e.elementType=$o,e.lanes=o,e;case Go:return e=Sn(19,i,n,u),e.elementType=Go,e.lanes=o,e;case Bc:return qa(i,u,o,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jc:h=10;break e;case Dc:h=9;break e;case $l:h=11;break e;case Gl:h=14;break e;case fr:h=16,a=null;break e}throw Error(Be(130,e==null?e:typeof e,""))}return n=Sn(h,i,n,u),n.elementType=e,n.type=a,n.lanes=o,n}function Ur(e,n,i,a){return e=Sn(7,e,a,n),e.lanes=i,e}function qa(e,n,i,a){return e=Sn(22,e,a,n),e.elementType=Bc,e.lanes=i,e.stateNode={isHidden:!1},e}function Uo(e,n,i){return e=Sn(6,e,null,n),e.lanes=i,e}function Wo(e,n,i){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function B0(e,n,i,a,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=So(0),this.expirationTimes=So(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function zu(e,n,i,a,u,o,h,g,y){return e=new B0(e,n,i,g,y),n===1?(n=1,o===!0&&(n|=8)):n=0,o=Sn(3,null,null,n),e.current=o,o.stateNode=e,o.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},cu(o),e}function U0(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function Id(e){if(!e)return Cr;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(Be(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(un(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(Be(171))}if(e.tag===1){var i=e.type;if(un(i))return Ih(e,i,n)}return n}function Od(e,n,i,a,u,o,h,g,y){return e=zu(i,a,!0,e,u,o,h,g,y),e.context=Id(null),i=e.current,a=en(),u=Sr(i),o=Jn(a,u),o.callback=n??null,wr(i,o,u),e.current.lanes=u,xs(e,u,a),fn(e,a),e}function Ka(e,n,i,a){var u=n.current,o=en(),h=Sr(u);return i=Id(i),n.context===null?n.context=i:n.pendingContext=i,n=Jn(o,h),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=wr(u,n,h),e!==null&&(Fn(e,u,h,o),aa(e,u,h)),h}function Ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fc(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Tu(e,n){fc(e,n),(e=e.alternate)&&fc(e,n)}function W0(){return null}var Md=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nu(e){this._internalRoot=e}Qa.prototype.render=Nu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(Be(409));Ka(e,n,null,null)};Qa.prototype.unmount=Nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;$r(function(){Ka(null,e,null,null)}),n[tr]=null}};function Qa(e){this._internalRoot=e}Qa.prototype.unstable_scheduleHydration=function(e){if(e){var n=fh();e={blockedOn:null,target:e,priority:n};for(var i=0;i<hr.length&&n!==0&&n<hr[i].priority;i++);hr.splice(i,0,e),i===0&&hh(e)}};function Iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cc(){}function V0(e,n,i,a,u){if(u){if(typeof a=="function"){var o=a;a=function(){var I=Ra(h);o.call(I)}}var h=Od(n,a,e,0,null,!1,!1,"",cc);return e._reactRootContainer=h,e[tr]=h.current,cs(e.nodeType===8?e.parentNode:e),$r(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var g=a;a=function(){var I=Ra(y);g.call(I)}}var y=zu(e,0,!1,null,null,!1,!1,"",cc);return e._reactRootContainer=y,e[tr]=y.current,cs(e.nodeType===8?e.parentNode:e),$r(function(){Ka(n,y,i,a)}),y}function Ya(e,n,i,a,u){var o=i._reactRootContainer;if(o){var h=o;if(typeof u=="function"){var g=u;u=function(){var y=Ra(h);g.call(y)}}Ka(n,h,e,u)}else h=V0(i,n,e,u,a);return Ra(h)}lh=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Zi(n.pendingLanes);i!==0&&(Ql(n,i|1),fn(n,Nt()),!(pt&6)&&(Ei=Nt()+500,zr()))}break;case 13:$r(function(){var a=nr(e,1);if(a!==null){var u=en();Fn(a,e,1,u)}}),Tu(e,1)}};Xl=function(e){if(e.tag===13){var n=nr(e,134217728);if(n!==null){var i=en();Fn(n,e,134217728,i)}Tu(e,134217728)}};uh=function(e){if(e.tag===13){var n=Sr(e),i=nr(e,n);if(i!==null){var a=en();Fn(i,e,n,a)}Tu(e,n)}};fh=function(){return _t};ch=function(e,n){var i=_t;try{return _t=e,n()}finally{_t=i}};rl=function(e,n,i){switch(n){case"input":if(Qo(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var u=Wa(a);if(!u)throw Error(Be(90));Wc(a),Qo(a,u)}}}break;case"textarea":Hc(e,i);break;case"select":n=i.value,n!=null&&pi(e,!!i.multiple,n,!1)}};Xc=bu;Yc=$r;var H0={usingClientEntryPoint:!1,Events:[ks,oi,Wa,Kc,Qc,bu]},Wi={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z0={bundleType:Wi.bundleType,version:Wi.version,rendererPackageName:Wi.rendererPackageName,rendererConfig:Wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=th(e),e===null?null:e.stateNode},findFiberByHostInstance:Wi.findFiberByHostInstance||W0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ys.isDisabled&&Ys.supportsFiber)try{ja=Ys.inject(Z0),Zn=Ys}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0;mn.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(n))throw Error(Be(200));return U0(e,n,null,i)};mn.createRoot=function(e,n){if(!Iu(e))throw Error(Be(299));var i=!1,a="",u=Md;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=zu(e,1,!1,null,null,i,!1,a,u),e[tr]=n.current,cs(e.nodeType===8?e.parentNode:e),new Nu(n)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(Be(188)):(e=Object.keys(e).join(","),Error(Be(268,e)));return e=th(n),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return $r(e)};mn.hydrate=function(e,n,i){if(!Xa(n))throw Error(Be(200));return Ya(null,e,n,!0,i)};mn.hydrateRoot=function(e,n,i){if(!Iu(e))throw Error(Be(405));var a=i!=null&&i.hydratedSources||null,u=!1,o="",h=Md;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),n=Od(n,null,e,1,i??null,u,!1,o,h),e[tr]=n.current,cs(e),a)for(e=0;e<a.length;e++)i=a[e],u=i._getVersion,u=u(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,u]:n.mutableSourceEagerHydrationData.push(i,u);return new Qa(n)};mn.render=function(e,n,i){if(!Xa(n))throw Error(Be(200));return Ya(null,e,n,!1,i)};mn.unmountComponentAtNode=function(e){if(!Xa(e))throw Error(Be(40));return e._reactRootContainer?($r(function(){Ya(null,null,e,!1,function(){e._reactRootContainer=null,e[tr]=null})}),!0):!1};mn.unstable_batchedUpdates=bu;mn.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!Xa(i))throw Error(Be(200));if(e==null||e._reactInternals===void 0)throw Error(Be(38));return Ya(e,n,i,!1,a)};mn.version="18.3.1-next-f1338f8080-20240426";function Ad(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ad)}catch(e){console.error(e)}}Ad(),Ac.exports=mn;var $0=Ac.exports,hc=$0;Vo.createRoot=hc.createRoot,Vo.hydrateRoot=hc.hydrateRoot;const dc={mm:1,cm:10,in:25.4,pt:25.4/72,pc:25.4/6,px:25.4/96};function pc(e){const n=e.trim().match(/^([\d.]+)\s*(mm|cm|in|pt|pc|px)?$/i);return n?{num:parseFloat(n[1])||0,unit:(n[2]||"px").toLowerCase()}:{num:parseFloat(e)||0,unit:"px"}}function Js(e,n,i){if(i==="px96"&&n==="px")return e*(25.4/96);if(i==="px72"&&n==="px")return e*(25.4/72);const a=dc[n.toLowerCase()]??dc.px;return e*a}function Rl(e,n,i){const u=new DOMParser().parseFromString(e,"image/svg+xml"),o=u.querySelector("svg");if(!o)throw new Error("Invalid SVG: No <svg> element found");const h=u.querySelector("parsererror");if(h)throw new Error(`SVG parsing error: ${h.textContent}`);let g=null;const y=o.getAttribute("viewBox");if(y){const S=y.trim().split(/[\s,]+/).map(Number);S.length===4&&S.every(z=>!isNaN(z))&&(g={x:S[0],y:S[1],width:S[2],height:S[3]})}const I=o.getAttribute("width"),U=o.getAttribute("height");let D=null,W=null,v="px",H="px";if(I){const S=pc(I);D=S.num,v=S.unit}if(U){const S=pc(U);W=S.num,H=S.unit}let N,Z;if(D!==null&&W!==null)N=Js(D,v,i),Z=Js(W,H,i);else if(g)N=Js(g.width,"px",i),Z=Js(g.height,"px",i);else throw new Error("SVG has no width/height or viewBox. Cannot determine dimensions.");return{fileName:n,originalContent:e,viewBox:g,width:D,height:W,widthUnit:v,heightUnit:H,detectedWidthMm:N,detectedHeightMm:Z}}function G0(e){return e.replace(/\.svg$/i,"")}function gc({onSVGLoaded:e,unitMode:n,onUnitModeChange:i,svgInfo:a}){const[u,o]=et.useState(!1),[h,g]=et.useState(null),[y,I]=et.useState("/test-templates/01_simple_rect_mm.svg"),[U,D]=et.useState(!1),W=[{label:"01 - Simple (mm) - grid/trim sanity",path:"/test-templates/01_simple_rect_mm.svg"},{label:"02 - viewBox-only + groups/transforms (strokes)",path:"/test-templates/02_groups_transforms_viewbox_only.svg"},{label:"03 - Heavy stress (many paths)",path:"/test-templates/03_heavy_stress.svg"}],v=et.useCallback(async A=>{if(g(null),!A.name.toLowerCase().endsWith(".svg")){g("Please upload an SVG file");return}try{const G=await A.text(),J=Rl(G,A.name,n);e(J)}catch(G){g(G instanceof Error?G.message:"Failed to parse SVG")}},[e,n]),H=et.useCallback(async()=>{g(null),D(!0);try{const A=await fetch(y,{cache:"no-store"});if(!A.ok)throw new Error(`Failed to load test file (${A.status})`);const G=await A.text(),J=y.split("/").pop()||"test.svg",ie=Rl(G,J,n);e(ie)}catch(A){g(A instanceof Error?A.message:"Failed to load test file")}finally{D(!1)}},[e,y,n]),N=et.useCallback(A=>{A.preventDefault(),o(!1);const G=A.dataTransfer.files[0];G&&v(G)},[v]),Z=et.useCallback(A=>{A.preventDefault(),o(!0)},[]),S=et.useCallback(A=>{A.preventDefault(),o(!1)},[]),z=et.useCallback(A=>{var J;const G=(J=A.target.files)==null?void 0:J[0];G&&v(G)},[v]);return ne.jsxs("div",{className:"card",children:[ne.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Upload SVG"}),ne.jsxs("div",{className:`
          border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200 cursor-pointer
          ${u?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400 hover:bg-gray-50"}
        `,onDrop:N,onDragOver:Z,onDragLeave:S,onClick:()=>{var A;return(A=document.getElementById("file-input"))==null?void 0:A.click()},children:[ne.jsx("input",{id:"file-input",type:"file",accept:".svg",className:"hidden",onChange:z}),ne.jsxs("div",{className:"flex flex-col items-center gap-2",children:[ne.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ne.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),ne.jsxs("p",{className:"text-gray-600",children:[ne.jsx("span",{className:"font-medium text-primary-600",children:"Click to upload"})," or drag and drop"]}),ne.jsx("p",{className:"text-sm text-gray-500",children:"SVG files only"})]})]}),h&&ne.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:h}),ne.jsxs("div",{className:"mt-4",children:[ne.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Load test files"}),ne.jsxs("div",{className:"flex gap-2",children:[ne.jsx("select",{value:y,onChange:A=>I(A.target.value),className:"input-field flex-1",children:W.map(A=>ne.jsx("option",{value:A.path,children:A.label},A.path))}),ne.jsx("button",{type:"button",className:"btn-secondary whitespace-nowrap",onClick:H,disabled:U,children:U?"Loading":"Load"})]}),ne.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Loads bundled SVG templates from ",ne.jsx("code",{children:"/public/test-templates"}),"."]})]}),a&&ne.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[ne.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ne.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ne.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ne.jsx("span",{className:"font-medium text-gray-800",children:a.fileName})]}),ne.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[ne.jsxs("p",{children:[ne.jsx("span",{className:"font-medium",children:"Size:"})," ",a.detectedWidthMm.toFixed(2),"  ",a.detectedHeightMm.toFixed(2)," mm"]}),a.viewBox&&ne.jsxs("p",{children:[ne.jsx("span",{className:"font-medium",children:"ViewBox:"})," ",a.viewBox.x," ",a.viewBox.y," ",a.viewBox.width," ",a.viewBox.height]}),a.width&&a.height&&ne.jsxs("p",{children:[ne.jsx("span",{className:"font-medium",children:"Original:"})," ",a.width,a.widthUnit,"  ",a.height,a.heightUnit]})]})]}),ne.jsxs("div",{className:"mt-4",children:[ne.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Mode"}),ne.jsxs("select",{value:n,onChange:A=>i(A.target.value),className:"input-field",children:[ne.jsx("option",{value:"auto",children:"Auto (detect from SVG)"}),ne.jsx("option",{value:"px96",children:"Force PX  MM @ 96 DPI"}),ne.jsx("option",{value:"px72",children:"Force PX  MM @ 72 DPI"})]}),ne.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'Use "Auto" unless your SVG has incorrect units'})]})]})}function ti({content:e,children:n}){const[i,a]=et.useState(!1);return ne.jsxs("span",{className:"relative inline-block",children:[ne.jsx("span",{className:"tooltip-trigger",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:n||"?"}),i&&ne.jsxs("div",{className:"absolute z-50 w-64 p-2 text-sm text-white bg-gray-800 rounded-lg shadow-lg -top-2 left-6 transform",children:[e,ne.jsx("div",{className:"absolute w-2 h-2 bg-gray-800 transform rotate-45 -left-1 top-3"})]})]})}function ea({label:e,field:n,value:i,tooltip:a,min:u=0,max:o,step:h=1,error:g,onValueChange:y}){return ne.jsxs("div",{children:[ne.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[e,a&&ne.jsx(ti,{content:a})]}),ne.jsx("input",{type:"number",value:i,onChange:I=>y(n,parseFloat(I.target.value)||0),min:u,max:o,step:h,className:`input-field ${g?"border-red-500 focus:ring-red-500":""}`}),g&&ne.jsx("p",{className:"mt-1 text-xs text-red-600",children:g})]})}function mc({settings:e,onChange:n,errors:i}){const a=o=>{var h;return(h=i.find(g=>g.field===o))==null?void 0:h.message},u=(o,h)=>{n({...e,[o]:h})};return ne.jsxs("div",{className:"card space-y-6",children:[ne.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Settings"}),ne.jsxs("div",{className:"space-y-4",children:[ne.jsx("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Bed Size"}),ne.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[ne.jsx(ea,{label:"Width (mm)",field:"bedWidth",value:e.bedWidth,tooltip:"Width of your laser bed in millimeters",min:10,error:a("bedWidth"),onValueChange:(o,h)=>u(o,h)}),ne.jsx(ea,{label:"Height (mm)",field:"bedHeight",value:e.bedHeight,tooltip:"Height of your laser bed in millimeters",min:10,error:a("bedHeight"),onValueChange:(o,h)=>u(o,h)})]}),ne.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[ne.jsx(ea,{label:"Margin (mm)",field:"margin",value:e.margin,tooltip:"Safe margin around each tile edge",min:0,error:a("margin"),onValueChange:(o,h)=>u(o,h)}),ne.jsx(ea,{label:"Overlap (mm)",field:"overlap",value:e.overlap,tooltip:"How much adjacent tiles overlap. Useful for alignment or seamless patterns.",min:0,error:a("overlap"),onValueChange:(o,h)=>u(o,h)})]})]}),ne.jsxs("div",{className:"space-y-3",children:[ne.jsx("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Export Mode"}),ne.jsxs("label",{className:"flex items-start gap-3 p-3 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[ne.jsx("input",{type:"radio",name:"exportMode",checked:e.exportMode==="laser-safe",onChange:()=>u("exportMode","laser-safe"),className:"mt-1"}),ne.jsxs("div",{children:[ne.jsx("span",{className:"font-medium text-gray-800",children:"Laser-Safe Trim"}),ne.jsx("p",{className:"text-sm text-gray-500",children:"Real geometry trimming using boolean operations. Recommended for all laser software."})]})]}),ne.jsxs("label",{className:"flex items-start gap-3 p-3 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[ne.jsx("input",{type:"radio",name:"exportMode",checked:e.exportMode==="fast-clip",onChange:()=>u("exportMode","fast-clip"),className:"mt-1"}),ne.jsxs("div",{children:[ne.jsx("span",{className:"font-medium text-gray-800",children:"Fast Clip"}),ne.jsx("p",{className:"text-sm text-gray-500",children:"Uses clipPath (faster but may not work in all laser software)."})]})]}),e.exportMode==="fast-clip"&&ne.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg text-amber-800 text-sm",children:[" ",ne.jsx("strong",{children:"Warning:"})," Some laser software ignores clip paths. Use Laser-Safe Trim for reliable cutting."]})]}),ne.jsxs("div",{className:"space-y-3",children:[ne.jsx("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Numbering"}),ne.jsxs("label",{className:"flex items-center gap-2",children:[ne.jsx("input",{type:"checkbox",checked:e.numberingEnabled,onChange:o=>u("numberingEnabled",o.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),ne.jsx("span",{className:"text-sm text-gray-700",children:"Enable tile numbering"})]}),e.numberingEnabled&&ne.jsxs("div",{className:"space-y-3",children:[ne.jsxs("div",{children:[ne.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Format"}),ne.jsxs("select",{value:e.numberingFormat,onChange:o=>u("numberingFormat",o.target.value),className:"input-field",children:[ne.jsx("option",{value:"R01C01",children:"R01C01 (Row-Column)"}),ne.jsx("option",{value:"01-01",children:"01-01 (Row-Column)"}),ne.jsx("option",{value:"Tile_001",children:"Tile_001 (Sequential)"})]})]}),ne.jsxs("label",{className:"flex items-center gap-2",children:[ne.jsx("input",{type:"checkbox",checked:e.startIndexAtOne,onChange:o=>u("startIndexAtOne",o.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),ne.jsx("span",{className:"text-sm text-gray-700",children:"Start index at 1 (R01C01 vs R00C00)"})]})]})]}),ne.jsxs("div",{className:"space-y-3",children:[ne.jsx("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Options"}),ne.jsxs("label",{className:"flex items-center gap-2",children:[ne.jsx("input",{type:"checkbox",checked:e.guidesEnabled,onChange:o=>u("guidesEnabled",o.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),ne.jsx("span",{className:"text-sm text-gray-700",children:"Add alignment guides"}),ne.jsx(ti,{content:"Adds tile border rectangle and corner crosshair marks for alignment"})]}),ne.jsxs("label",{className:"flex items-center gap-2",children:[ne.jsx("input",{type:"checkbox",checked:e.expandStrokes,onChange:o=>u("expandStrokes",o.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),ne.jsx("span",{className:"text-sm text-gray-700",children:"Expand strokes"}),ne.jsx(ti,{content:"Convert strokes to outlines before trimming. Enable if thick strokes are getting cut off."})]}),ne.jsxs("label",{className:"flex items-center gap-2",children:[ne.jsx("input",{type:"checkbox",checked:e.exportEmptyTiles,onChange:o=>u("exportEmptyTiles",o.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),ne.jsx("span",{className:"text-sm text-gray-700",children:"Export empty tiles"})]}),ne.jsxs("div",{children:[ne.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:["Simplify tolerance (mm)",ne.jsx(ti,{content:"Reduce path complexity after trimming. Higher values = simpler paths but less accuracy. Use 0 for no simplification."})]}),ne.jsx("input",{type:"range",min:0,max:2,step:.1,value:e.simplifyTolerance,onChange:o=>u("simplifyTolerance",parseFloat(o.target.value)),className:"w-full"}),ne.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[ne.jsx("span",{children:"0 (off)"}),ne.jsxs("span",{children:[e.simplifyTolerance.toFixed(1)," mm"]}),ne.jsx("span",{children:"2 mm"})]})]})]}),ne.jsxs("div",{className:"space-y-3",children:[ne.jsxs("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:["Registration Marks",ne.jsx(ti,{content:"Add alignment marks to each tile for precise assembly of adjacent pieces"})]}),ne.jsxs("label",{className:"flex items-center gap-2",children:[ne.jsx("input",{type:"checkbox",checked:e.registrationMarks.enabled,onChange:o=>u("registrationMarks",{...e.registrationMarks,enabled:o.target.checked}),className:"w-4 h-4 text-primary-600 rounded"}),ne.jsx("span",{className:"text-sm text-gray-700",children:"Enable registration marks"})]}),e.registrationMarks.enabled&&ne.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-200",children:[ne.jsxs("div",{children:[ne.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mark Type"}),ne.jsxs("select",{value:e.registrationMarks.type,onChange:o=>u("registrationMarks",{...e.registrationMarks,type:o.target.value}),className:"input-field",children:[ne.jsx("option",{value:"crosshair",children:"Corner Crosshair (thin lines)"}),ne.jsx("option",{value:"pinhole",children:"Pin Holes (small circles)"}),ne.jsx("option",{value:"lmark",children:"L-Marks (90 marks)"})]})]}),ne.jsxs("div",{children:[ne.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placement"}),ne.jsxs("select",{value:e.registrationMarks.placement,onChange:o=>u("registrationMarks",{...e.registrationMarks,placement:o.target.value}),className:"input-field",children:[ne.jsx("option",{value:"inside",children:"Inside tile (within margin)"}),ne.jsx("option",{value:"overlap",children:"On overlap area"})]})]}),ne.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[ne.jsxs("div",{children:[ne.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mark Size (mm)"}),ne.jsx("input",{type:"number",value:e.registrationMarks.size,onChange:o=>u("registrationMarks",{...e.registrationMarks,size:parseFloat(o.target.value)||6}),min:1,max:20,step:.5,className:"input-field"})]}),ne.jsxs("div",{children:[ne.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stroke Width (mm)"}),ne.jsx("input",{type:"number",value:e.registrationMarks.strokeWidth,onChange:o=>u("registrationMarks",{...e.registrationMarks,strokeWidth:parseFloat(o.target.value)||.2}),min:.1,max:2,step:.1,className:"input-field"})]})]}),e.registrationMarks.type==="pinhole"&&ne.jsxs("div",{children:[ne.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hole Diameter (mm)"}),ne.jsx("input",{type:"number",value:e.registrationMarks.holeDiameter,onChange:o=>u("registrationMarks",{...e.registrationMarks,holeDiameter:parseFloat(o.target.value)||2}),min:.5,max:10,step:.5,className:"input-field"})]})]})]}),ne.jsxs("div",{className:"space-y-3",children:[ne.jsxs("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:["Assembly Map",ne.jsx(ti,{content:"Generate an overview map showing all tiles and their positions for easy assembly"})]}),ne.jsxs("label",{className:"flex items-center gap-2",children:[ne.jsx("input",{type:"checkbox",checked:e.assemblyMap.enabled,onChange:o=>u("assemblyMap",{...e.assemblyMap,enabled:o.target.checked}),className:"w-4 h-4 text-primary-600 rounded"}),ne.jsx("span",{className:"text-sm text-gray-700",children:"Include assembly map in export"})]}),e.assemblyMap.enabled&&ne.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-200",children:[ne.jsxs("label",{className:"flex items-center gap-2",children:[ne.jsx("input",{type:"checkbox",checked:e.assemblyMap.includeLabels,onChange:o=>u("assemblyMap",{...e.assemblyMap,includeLabels:o.target.checked}),className:"w-4 h-4 text-primary-600 rounded"}),ne.jsx("span",{className:"text-sm text-gray-700",children:"Include tile labels on map"})]}),ne.jsxs("label",{className:"flex items-center gap-2",children:[ne.jsx("input",{type:"checkbox",checked:e.assemblyMap.includeThumbnails,onChange:o=>u("assemblyMap",{...e.assemblyMap,includeThumbnails:o.target.checked}),className:"w-4 h-4 text-primary-600 rounded"}),ne.jsx("span",{className:"text-sm text-gray-700",children:"Include tile thumbnails (larger file)"})]})]})]})]})}function _c({svgInfo:e,gridInfo:n,selectedTile:i,onTileSelect:a}){const u=et.useRef(null),o=et.useRef(null),h=et.useRef(null),g=et.useRef(null),[y,I]=et.useState(0),[U,D]=et.useState(1),[W,v]=et.useState({x:0,y:0}),[H,N]=et.useState(!1),[Z,S]=et.useState({x:0,y:0}),[z,A]=et.useState({width:600,height:400});et.useEffect(()=>{if(h.current=null,g.current&&(URL.revokeObjectURL(g.current),g.current=null),!!e){try{const xe=new DOMParser().parseFromString(e.originalContent,"image/svg+xml"),Q=xe.querySelector("svg");if(Q){const Te=Math.max(300,Math.min(6e3,Math.round(e.detectedWidthMm*4))),Me=Math.max(300,Math.min(6e3,Math.round(e.detectedHeightMm*4)));Q.setAttribute("width",`${Te}px`),Q.setAttribute("height",`${Me}px`)}const de=new XMLSerializer().serializeToString(xe),O=new Blob([de],{type:"image/svg+xml"}),be=URL.createObjectURL(O);g.current=be;const ke=new Image;ke.onload=()=>{h.current=ke,I(Te=>Te+1)},ke.src=be}catch{h.current=null}return()=>{h.current=null,g.current&&(URL.revokeObjectURL(g.current),g.current=null)}}},[e]),et.useEffect(()=>{const he=()=>{if(u.current){const xe=u.current.getBoundingClientRect();A({width:xe.width,height:xe.height-50})}};return he(),window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[]),et.useEffect(()=>{if(!e){D(1),v({x:0,y:0});return}const he=40,xe=(z.width-he*2)/e.detectedWidthMm,Q=(z.height-he*2)/e.detectedHeightMm,de=Math.min(xe,Q,2);D(de),v({x:(z.width-e.detectedWidthMm*de)/2,y:(z.height-e.detectedHeightMm*de)/2})},[e,z]);const G=et.useCallback(()=>{const he=o.current,xe=he==null?void 0:he.getContext("2d");if(!he||!xe)return;if(xe.clearRect(0,0,he.width,he.height),xe.fillStyle="#f8fafc",xe.fillRect(0,0,he.width,he.height),!e){xe.fillStyle="#94a3b8",xe.font="16px system-ui",xe.textAlign="center",xe.fillText("Upload an SVG to preview",he.width/2,he.height/2);return}xe.save(),xe.translate(W.x,W.y),xe.scale(U,U),xe.fillStyle="#ffffff",xe.strokeStyle="#e2e8f0",xe.lineWidth=1/U,xe.fillRect(0,0,e.detectedWidthMm,e.detectedHeightMm),xe.strokeRect(0,0,e.detectedWidthMm,e.detectedHeightMm);const Q=h.current;if(Q&&(xe.imageSmoothingEnabled=!0,xe.drawImage(Q,0,0,e.detectedWidthMm,e.detectedHeightMm)),n)for(const de of n.tiles){const O=(i==null?void 0:i.id)===de.id;xe.strokeStyle=O?"#0ea5e9":"#3b82f6",xe.lineWidth=(O?3:1.5)/U,xe.setLineDash(O?[]:[5/U,5/U]),xe.strokeRect(de.x,de.y,n.effectiveTileWidth,n.effectiveTileHeight),O&&(xe.fillStyle="rgba(14, 165, 233, 0.1)",xe.fillRect(de.x,de.y,n.effectiveTileWidth,n.effectiveTileHeight)),xe.setLineDash([]),xe.fillStyle=O?"#0ea5e9":"#3b82f6",xe.font=`${Math.max(10,14/U)}px system-ui`,xe.textAlign="center",xe.textBaseline="middle";const be=de.x+n.effectiveTileWidth/2,ke=de.y+n.effectiveTileHeight/2;xe.fillStyle="rgba(255, 255, 255, 0.9)";const Te=xe.measureText(de.label).width;xe.fillRect(be-Te/2-4,ke-10,Te+8,20),xe.fillStyle=O?"#0ea5e9":"#3b82f6",xe.fillText(de.label,be,ke)}xe.restore()},[e,n,i,U,W,y]);et.useEffect(()=>{G()},[G]);const J=he=>{he.button===0&&(N(!0),S({x:he.clientX,y:he.clientY}))},ie=he=>{if(H){const xe=he.clientX-Z.x,Q=he.clientY-Z.y;v(de=>({x:de.x+xe,y:de.y+Q})),S({x:he.clientX,y:he.clientY})}},le=()=>{N(!1)},me=he=>{if(!n||!e)return;const xe=o.current;if(!xe)return;const Q=xe.getBoundingClientRect(),de=(he.clientX-Q.left-W.x)/U,O=(he.clientY-Q.top-W.y)/U;for(const be of n.tiles)if(de>=be.x&&de<=be.x+n.effectiveTileWidth&&O>=be.y&&O<=be.y+n.effectiveTileHeight){a((i==null?void 0:i.id)===be.id?null:be);return}a(null)},pe=he=>{he.preventDefault();const xe=he.deltaY>0?.9:1.1;D(Q=>Math.max(.1,Math.min(10,Q*xe)))};return ne.jsxs("div",{ref:u,className:"card h-full flex flex-col",children:[ne.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ne.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Preview"}),ne.jsxs("div",{className:"flex items-center gap-3",children:[ne.jsx("label",{className:"text-sm text-gray-600",children:"Zoom:"}),ne.jsx("input",{type:"range",min:.1,max:5,step:.1,value:U,onChange:he=>D(parseFloat(he.target.value)),className:"w-24"}),ne.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[(U*100).toFixed(0),"%"]}),ne.jsx("button",{onClick:()=>{if(e){const xe=(z.width-80)/e.detectedWidthMm,Q=(z.height-40*2)/e.detectedHeightMm,de=Math.min(xe,Q,2);D(de),v({x:(z.width-e.detectedWidthMm*de)/2,y:(z.height-e.detectedHeightMm*de)/2})}},className:"text-sm text-primary-600 hover:text-primary-700",children:"Fit"})]})]}),ne.jsx("div",{className:"flex-1 relative overflow-hidden rounded-lg border border-gray-200",children:ne.jsx("canvas",{ref:o,width:z.width,height:z.height,className:"cursor-grab active:cursor-grabbing",onMouseDown:J,onMouseMove:ie,onMouseUp:le,onMouseLeave:le,onClick:me,onWheel:pe})}),e&&n&&ne.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Design: ",e.detectedWidthMm.toFixed(1),"  ",e.detectedHeightMm.toFixed(1)," mm | Grid: ",n.cols,"  ",n.rows," tiles | Click tile to select"]})]})}function vc({gridInfo:e,selectedTile:n,onTileSelect:i}){if(!e)return ne.jsxs("div",{className:"card",children:[ne.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Tiles"}),ne.jsx("p",{className:"text-sm text-gray-500",children:"Upload an SVG to see tile list"})]});const{tiles:a}=e,u=a.filter(h=>!h.isEmpty).length,o=a.filter(h=>h.hasUnsafeFallback).length;return ne.jsxs("div",{className:"card",children:[ne.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ne.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Tiles"}),ne.jsxs("div",{className:"text-sm text-gray-500",children:[u," / ",a.length," with content"]})]}),o>0&&ne.jsxs("div",{className:"mb-3 p-2 bg-amber-50 border border-amber-200 rounded-lg text-amber-800 text-xs",children:[" ",o," tile(s) have unsafe fallback geometry"]}),ne.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:a.map(h=>ne.jsxs("button",{onClick:()=>i((n==null?void 0:n.id)===h.id?null:h),className:`
              w-full text-left px-3 py-2 rounded-lg text-sm transition-colors
              ${(n==null?void 0:n.id)===h.id?"bg-primary-100 text-primary-800 border border-primary-300":"hover:bg-gray-100 border border-transparent"}
              ${h.isEmpty?"opacity-50":""}
            `,children:[ne.jsxs("div",{className:"flex items-center justify-between",children:[ne.jsx("span",{className:"font-medium",children:h.label}),ne.jsxs("div",{className:"flex items-center gap-2",children:[h.isEmpty&&ne.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-200 text-gray-600 rounded",children:"Empty"}),h.hasUnsafeFallback&&ne.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-amber-200 text-amber-800 rounded",children:"Unsafe"}),ne.jsxs("span",{className:"text-xs text-gray-500",children:["R",h.row+1," C",h.col+1]})]})]}),ne.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[h.width.toFixed(1),"  ",h.height.toFixed(1)," mm"]})]},h.id))})]})}function yc({gridInfo:e,processingState:n,processedTiles:i,onGenerate:a,onCancel:u,onExport:o,canGenerate:h}){const{isProcessing:g,currentTile:y,totalTiles:I,phase:U,error:D}=n,W=i.filter(N=>!N.isEmpty),v=W.length>0,H=I>0?y/I*100:0;return ne.jsx("div",{className:"card",children:ne.jsxs("div",{className:"flex items-center justify-between gap-4",children:[ne.jsxs("div",{className:"flex-1",children:[D&&ne.jsxs("div",{className:"text-red-600 text-sm mb-2",children:[" ",D]}),g&&ne.jsxs("div",{className:"space-y-2",children:[ne.jsxs("div",{className:"flex items-center justify-between text-sm",children:[ne.jsxs("span",{className:"text-gray-600",children:[U==="preparing"&&"Preparing...",U==="tiling"&&`Processing tile ${y} of ${I}`,U==="exporting"&&"Creating ZIP..."]}),ne.jsxs("span",{className:"text-gray-500",children:[H.toFixed(0),"%"]})]}),ne.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:ne.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-200",style:{width:`${H}%`}})})]}),!g&&v&&ne.jsxs("div",{className:"text-sm text-gray-600",children:[" ",W.length," tile(s) ready for export",i.some(N=>N.hasUnsafeFallback)&&ne.jsx("span",{className:"text-amber-600 ml-2",children:" Some tiles have unsafe fallback"})]}),!g&&!v&&e&&ne.jsxs("div",{className:"text-sm text-gray-600",children:[e.tiles.length,' tile(s) in grid. Click "Generate" to process.']}),!e&&ne.jsx("div",{className:"text-sm text-gray-500",children:"Upload an SVG to get started"})]}),ne.jsx("div",{className:"flex items-center gap-2",children:g?ne.jsx("button",{onClick:u,className:"btn-danger",children:"Cancel"}):ne.jsxs(ne.Fragment,{children:[ne.jsx("button",{onClick:a,disabled:!h,className:"btn-primary",children:"Generate Tiles"}),ne.jsx("button",{onClick:o,disabled:!v,className:"btn-secondary",children:"Download ZIP"})]})})]})})}function q0(e,n,i,a,u=!0){const o=u?1:0,h=String(e+o).padStart(2,"0"),g=String(n+o).padStart(2,"0"),y=String(a+o).padStart(3,"0");switch(i){case"R01C01":return`R${h}C${g}`;case"01-01":return`${h}-${g}`;case"Tile_001":return`Tile_${y}`;default:return`R${h}C${g}`}}function K0(e,n,i){const{bedWidth:a,bedHeight:u,margin:o,overlap:h,numberingFormat:g,startIndexAtOne:y}=i,I=a-2*o,U=u-2*o;if(I<=0||U<=0)throw new Error("Effective tile size is zero or negative. Reduce margin or increase bed size.");const D=I-h,W=U-h;if(D<=0||W<=0)throw new Error("Overlap is too large for the effective tile size.");const v=Math.max(1,Math.ceil((e-h)/D)),H=Math.max(1,Math.ceil((n-h)/W)),N=[];let Z=0;for(let S=0;S<H;S++)for(let z=0;z<v;z++){const A=z*D,G=S*W,J=Math.min(I,e-A),ie=Math.min(U,n-G);N.push({row:S,col:z,id:`tile-${S}-${z}`,label:q0(S,z,g,Z,y),x:A,y:G,width:J,height:ie,isEmpty:!1,hasUnsafeFallback:!1}),Z++}return{rows:H,cols:v,tileWidth:a,tileHeight:u,effectiveTileWidth:I,effectiveTileHeight:U,tiles:N}}function Gi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ld={exports:{}};const Q0={},X0=Object.freeze(Object.defineProperty({__proto__:null,default:Q0},Symbol.toStringTag,{value:"Module"})),wc=yp(X0);/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(e){(function(n,i){n=n||wc;var a=n.window,u=n.document,o=new function(){var t=/^(statics|enumerable|beans|preserve)$/,r=[],s=r.slice,l=Object.create,f=Object.getOwnPropertyDescriptor,c=Object.defineProperty,p=r.forEach||function(k,x){for(var j=0,P=this.length;j<P;j++)k.call(x,this[j],j,this)},d=function(k,x){for(var j in this)this.hasOwnProperty(j)&&k.call(x,this[j],j,this)},m=Object.assign||function(k){for(var x=1,j=arguments.length;x<j;x++){var P=arguments[x];for(var F in P)P.hasOwnProperty(F)&&(k[F]=P[F])}return k},_=function(k,x,j){if(k){var P=f(k,"length");(P&&typeof P.value=="number"?p:d).call(k,x,j=j||k)}return j};function b(k,x,j,P,F){var C={};function L(R,$){$=$||($=f(x,R))&&($.get?$:$.value),typeof $=="string"&&$[0]==="#"&&($=k[$.substring(1)]||$);var K=typeof $=="function",Y=$,se=F||K&&!$.base?$&&$.get?R in k:k[R]:null,q;(!F||!se)&&(K&&se&&($.base=se),K&&P!==!1&&(q=R.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(C[q[3].toLowerCase()+q[4]]=q[2]),(!Y||K||!Y.get||typeof Y.get!="function"||!E.isPlainObject(Y))&&(Y={value:Y,writable:!0}),(f(k,R)||{configurable:!0}).configurable&&(Y.configurable=!0,Y.enumerable=j??!q),c(k,R,Y))}if(x){for(var w in x)x.hasOwnProperty(w)&&!t.test(w)&&L(w);for(var w in C){var T=C[w],B=k["set"+T],V=k["get"+T]||B&&k["is"+T];V&&(P===!0||V.length===0)&&L(w,{get:V,set:B})}}return k}function E(){for(var k=0,x=arguments.length;k<x;k++){var j=arguments[k];j&&m(this,j)}return this}return b(E,{inject:function(k){if(k){var x=k.statics===!0?k:k.statics,j=k.beans,P=k.preserve;x!==k&&b(this.prototype,k,k.enumerable,j,P),b(this,x,null,j,P)}for(var F=1,C=arguments.length;F<C;F++)this.inject(arguments[F]);return this},extend:function(){for(var k=this,x,j,P=0,F,C=arguments.length;P<C&&!(x&&j);P++)F=arguments[P],x=x||F.initialize,j=j||F.prototype;return x=x||function(){k.apply(this,arguments)},j=x.prototype=j||l(this.prototype),c(j,"constructor",{value:x,writable:!0,configurable:!0}),b(x,this),arguments.length&&this.inject.apply(x,arguments),x.base=k,x}}).inject({enumerable:!1,initialize:E,set:E,inject:function(){for(var k=0,x=arguments.length;k<x;k++){var j=arguments[k];j&&b(this,j,j.enumerable,j.beans,j.preserve)}return this},extend:function(){var k=l(this);return k.inject.apply(k,arguments)},each:function(k,x){return _(this,k,x)},clone:function(){return new this.constructor(this)},statics:{set:m,each:_,create:l,define:c,describe:f,clone:function(k){return m(new k.constructor,k)},isPlainObject:function(k){var x=k!=null&&k.constructor;return x&&(x===Object||x===E||x.name==="Object")},pick:function(k,x){return k!==i?k:x},slice:function(k,x,j){return s.call(k,x,j)}}})};e.exports=o,o.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+o.each(this,function(t,r){if(!/^_/.test(r)){var s=typeof t;this.push(r+": "+(s==="number"?U.instance.number(t):s==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return o.importJSON(t,this)},exportJSON:function(t){return o.exportJSON(this,t)},toJSON:function(){return o.serialize(this)},set:function(t,r){return t&&o.filter(this,t,r,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var r=t.base.apply(this,arguments),s=r.prototype._class;return s&&!o.exports[s]&&(o.exports[s]=r),r},equals:function(t,r){if(t===r)return!0;if(t&&t.equals)return t.equals(r);if(r&&r.equals)return r.equals(t);if(t&&r&&typeof t=="object"&&typeof r=="object"){if(Array.isArray(t)&&Array.isArray(r)){var s=t.length;if(s!==r.length)return!1;for(;s--;)if(!o.equals(t[s],r[s]))return!1}else{var l=Object.keys(t),s=l.length;if(s!==Object.keys(r).length)return!1;for(;s--;){var f=l[s];if(!(r.hasOwnProperty(f)&&o.equals(t[f],r[f])))return!1}}return!0}return!1},read:function(t,r,s,l){if(this===o){var f=this.peek(t,r);return t.__index++,f}var c=this.prototype,p=c._readIndex,d=r||p&&t.__index||0,m=t.length,_=t[d];if(l=l||m-d,_ instanceof this||s&&s.readNull&&_==null&&l<=1)return p&&(t.__index=d+1),_&&s&&s.clone?_.clone():_;if(_=o.create(c),p&&(_.__read=!0),_=_.initialize.apply(_,d>0||d+l<m?o.slice(t,d,d+l):t)||_,p){t.__index=d+_.__read;var b=_.__filtered;b&&(t.__filtered=b,_.__filtered=i),_.__read=i}return _},peek:function(t,r){return t[t.__index=r||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,r,s,l){for(var f=[],c,p=r||0,d=l?p+l:t.length,m=p;m<d;m++)f.push(Array.isArray(c=t[m])?this.read(c,0,s):this.read(t,m,s,1));return f},readNamed:function(t,r,s,l,f){var c=this.getNamed(t,r),p=c!==i;if(p){var d=t.__filtered;if(!d){var m=this.getSource(t);d=t.__filtered=o.create(m),d.__unfiltered=m}d[r]=i}return this.read(p?[c]:t,s,l,f)},readSupported:function(t,r){var s=this.getSource(t),l=this,f=!1;return s&&Object.keys(s).forEach(function(c){if(c in r){var p=l.readNamed(t,c);p!==i&&(r[c]=p),f=!0}}),f},getSource:function(t){var r=t.__source;if(r===i){var s=t.length===1&&t[0];r=t.__source=s&&o.isPlainObject(s)?s:null}return r},getNamed:function(t,r){var s=this.getSource(t);if(s)return r?s[r]:t.__filtered||s},hasNamed:function(t,r){return!!this.getNamed(t,r)},filter:function(t,r,s,l){var f;function c(b){if(!(s&&b in s)&&!(f&&b in f)){var E=r[b];E!==i&&(t[b]=E)}}if(l){for(var p={},d=0,m,_=l.length;d<_;d++)(m=l[d])in r&&(c(m),p[m]=!0);f=p}return Object.keys(r.__unfiltered||r).forEach(c),t},isPlainValue:function(t,r){return o.isPlainObject(t)||Array.isArray(t)||r&&typeof t=="string"},serialize:function(t,r,s,l){r=r||{};var f=!l,c;if(f&&(r.formatter=new U(r.precision),l={length:0,definitions:{},references:{},add:function(E,k){var x="#"+E._id,j=this.references[x];if(!j){this.length++;var P=k.call(E),F=E._class;F&&P[0]!==F&&P.unshift(F),this.definitions[x]=P,j=this.references[x]=[x]}return j}}),t&&t._serialize){c=t._serialize(r,l);var p=t._class;p&&!t._compactSerialize&&(f||!s)&&c[0]!==p&&c.unshift(p)}else if(Array.isArray(t)){c=[];for(var d=0,m=t.length;d<m;d++)c[d]=o.serialize(t[d],r,s,l)}else if(o.isPlainObject(t)){c={};for(var _=Object.keys(t),d=0,m=_.length;d<m;d++){var b=_[d];c[b]=o.serialize(t[b],r,s,l)}}else typeof t=="number"?c=r.formatter.number(t,r.precision):c=t;return f&&l.length>0?[["dictionary",l.definitions],c]:c},deserialize:function(t,r,s,l,f){var c=t,p=!s,d=p&&t&&t.length&&t[0][0]==="dictionary";if(s=s||{},Array.isArray(t)){var m=t[0],_=m==="dictionary";if(t.length==1&&/^#/.test(m))return s.dictionary[m];m=o.exports[m],c=[];for(var b=m?1:0,E=t.length;b<E;b++)c.push(o.deserialize(t[b],r,s,_,d));if(m){var k=c;r?c=r(m,k,p||f):c=new m(k)}}else if(o.isPlainObject(t)){c={},l&&(s.dictionary=c);for(var x in t)c[x]=o.deserialize(t[x],r,s)}return d?c[1]:c},exportJSON:function(t,r){var s=o.serialize(t,r);return r&&r.asString==!1?s:JSON.stringify(s)},importJSON:function(t,r){return o.deserialize(typeof t=="string"?JSON.parse(t):t,function(s,l,f){var c=f&&r&&r.constructor===s,p=c?r:o.create(s.prototype);if(l.length===1&&p instanceof ie&&(c||!(p instanceof me))){var d=l[0];o.isPlainObject(d)&&(d.insert=!1,c&&(l=l.concat([ie.INSERT])))}return(c?p.set:s).apply(p,l),c&&(r=null),p})},push:function(t,r){var s=r.length;if(s<4096)t.push.apply(t,r);else{var l=t.length;t.length+=s;for(var f=0;f<s;f++)t[l+f]=r[f]}return t},splice:function(t,r,s,l){var f=r&&r.length,c=s===i;s=c?t.length:s,s>t.length&&(s=t.length);for(var p=0;p<f;p++)r[p]._index=s+p;if(c)return o.push(t,r),[];var d=[s,l];r&&o.push(d,r);for(var m=t.splice.apply(t,d),p=0,_=m.length;p<_;p++)m[p]._index=i;for(var p=s+f,_=t.length;p<_;p++)t[p]._index=p;return m},capitalize:function(t){return t.replace(/\b[a-z]/g,function(r){return r.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(r,s){return s.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var h={on:function(t,r){if(typeof t!="string")o.each(t,function(c,p){this.on(p,c)},this);else{var s=this._eventTypes,l=s&&s[t],f=this._callbacks=this._callbacks||{};f=f[t]=f[t]||[],f.indexOf(r)===-1&&(f.push(r),l&&l.install&&f.length===1&&l.install.call(this,t))}return this},off:function(t,r){if(typeof t!="string"){o.each(t,function(p,d){this.off(d,p)},this);return}var s=this._eventTypes,l=s&&s[t],f=this._callbacks&&this._callbacks[t],c;return f&&(!r||(c=f.indexOf(r))!==-1&&f.length===1?(l&&l.uninstall&&l.uninstall.call(this,t),delete this._callbacks[t]):c!==-1&&f.splice(c,1)),this},once:function(t,r){return this.on(t,function s(){r.apply(this,arguments),this.off(t,s)})},emit:function(t,r){var s=this._callbacks&&this._callbacks[t];if(!s)return!1;var l=o.slice(arguments,1),f=r&&r.target&&!r.currentTarget;s=s.slice(),f&&(r.currentTarget=this);for(var c=0,p=s.length;c<p;c++)if(s[c].apply(this,l)==!1){r&&r.stop&&r.stop();break}return f&&delete r.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var r=this._eventTypes,s=this._callbacks,l=t?"install":"uninstall";if(r){for(var f in s)if(s[f].length>0){var c=r[f],p=c&&c[l];p&&p.call(this,f)}}},statics:{inject:function t(r){var s=r._events;if(s){var l={};o.each(s,function(f,c){var p=typeof f=="string",d=p?f:c,m=o.capitalize(d),_=d.substring(2).toLowerCase();l[_]=p?{}:f,d="_"+d,r["get"+m]=function(){return this[d]},r["set"+m]=function(b){var E=this[d];E&&this.off(_,E),b&&this.on(_,b),this[d]=b}}),r._eventTypes=l}return t.base.apply(this,arguments)}}},g=o.extend({_class:"PaperScope",initialize:function t(){Pe=this,this.settings=new o({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var r=t.prototype;if(!this.support){var s=Ne.getContext(1,1)||{};r.support={nativeDash:"setLineDash"in s||"mozDash"in s,nativeBlendModes:we.nativeModes},Ne.release(s)}if(!this.agent){var l=n.navigator.userAgent.toLowerCase(),f=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(l)||[])[0],c=f==="darwin"?"mac":f,p=r.agent=r.browser={platform:c};c&&(p[c]=!0),l.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(d,m,_,b,E){if(!p.chrome){var k=m==="opera"?b:/^(node|trident)$/.test(m)?E:_;p.version=k,p.versionNumber=parseFloat(k),m={trident:"msie",jsdom:"node"}[m]||m,p.name=m,p[m]=!0}}),p.chrome&&delete p.webkit,p.atom&&delete p.chrome}},version:"0.12.18",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,r){var s=Pe.PaperScript.execute(t,this,r);return st.updateFocus(),s},install:function(t){var r=this;o.each(["project","view","tool"],function(l){o.define(t,l,{configurable:!0,get:function(){return r[l]}})});for(var s in this)!/^_/.test(s)&&this[s]&&(t[s]=this[s])},setup:function(t){return Pe=this,this.project=new J(t),this},createCanvas:function(t,r){return Ne.getCanvas(t,r)},activate:function(){Pe=this},clear:function(){for(var t=this.projects,r=this.tools,s=t.length-1;s>=0;s--)t[s].remove();for(var s=r.length-1;s>=0;s--)r[s].remove()},remove:function(){this.clear(),delete g._scopes[this._id]},statics:new function(){function t(r){return r+="Attribute",function(s,l){return s[r](l)||s[r]("data-paper-"+l)}}return{_scopes:{},_id:0,get:function(r){return this._scopes[r]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),y=o.extend(h,{initialize:function(t){this._scope=Pe,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(o.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),I={findItemBoundsCollisions:function(t,r,s){function l(p){for(var d=new Array(p.length),m=0;m<p.length;m++){var _=p[m].getBounds();d[m]=[_.left,_.top,_.right,_.bottom]}return d}var f=l(t),c=!r||r===t?f:l(r);return this.findBoundsCollisions(f,c,s||0)},findCurveBoundsCollisions:function(t,r,s,l){function f(k){for(var x=Math.min,j=Math.max,P=new Array(k.length),F=0;F<k.length;F++){var C=k[F];P[F]=[x(C[0],C[2],C[4],C[6]),x(C[1],C[3],C[5],C[7]),j(C[0],C[2],C[4],C[6]),j(C[1],C[3],C[5],C[7])]}return P}var c=f(t),p=!r||r===t?c:f(r);if(l){for(var d=this.findBoundsCollisions(c,p,s||0,!1,!0),m=this.findBoundsCollisions(c,p,s||0,!0,!0),_=[],b=0,E=d.length;b<E;b++)_[b]={hor:d[b],ver:m[b]};return _}return this.findBoundsCollisions(c,p,s||0)},findBoundsCollisions:function(t,r,s,l,f){var c=!r||t===r,p=c?t:t.concat(r),d=t.length,m=p.length;function _(De,Ue,He){for(var Ee=0,ze=De.length;Ee<ze;){var We=ze+Ee>>>1;p[De[We]][Ue]<He?Ee=We+1:ze=We}return Ee-1}for(var b=l?1:0,E=b+2,k=l?0:1,x=k+2,j=new Array(m),P=0;P<m;P++)j[P]=P;j.sort(function(De,Ue){return p[De][b]-p[Ue][b]});for(var F=[],C=new Array(d),P=0;P<m;P++){var L=j[P],w=p[L],T=c?L:L-d,B=L<d,V=c||!B,R=B?[]:null;if(F.length){var $=_(F,E,w[b]-s)+1;if(F.splice(0,$),c&&f){R=R.concat(F);for(var K=0;K<F.length;K++){var Y=F[K];C[Y].push(T)}}else for(var se=w[x],q=w[k],K=0;K<F.length;K++){var Y=F[K],re=p[Y],ae=Y<d,ue=c||Y>=d;(f||(B&&ue||V&&ae)&&se>=re[k]-s&&q<=re[x]+s)&&(B&&ue&&R.push(c?Y:Y-d),V&&ae&&C[Y].push(T))}}if(B&&(t===r&&R.push(L),C[L]=R),F.length){var fe=w[E],ye=_(F,E,fe);F.splice(ye+1,0,L)}else F.push(L)}for(var P=0;P<C.length;P++){var Ae=C[P];Ae&&Ae.sort(function(Ue,He){return Ue-He})}return C}},U=o.extend({initialize:function(t){this.precision=o.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,r,s){return this.number(t)+(s||",")+this.number(r)},point:function(t,r){return this.number(t.x)+(r||",")+this.number(t.y)},size:function(t,r){return this.number(t.width)+(r||",")+this.number(t.height)},rectangle:function(t,r){return this.point(t,r)+(r||",")+this.size(t,r)}});U.instance=new U;var D=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,l=Math.sqrt,f=Math.pow,c=Math.log2||function(E){return Math.log(E)*Math.LOG2E},p=1e-12,d=112e-18;function m(E,k,x){return E<k?k:E>x?x:E}function _(E,k,x){function j($){var K=$*134217729,Y=$-K,se=Y+K,q=$-se;return[se,q]}var P=k*k-E*x,F=k*k+E*x;if(s(P)*3<F){var C=j(E),L=j(k),w=j(x),T=k*k,B=L[0]*L[0]-T+2*L[0]*L[1]+L[1]*L[1],V=E*x,R=C[0]*w[0]-V+C[0]*w[1]+C[1]*w[0]+C[1]*w[1];P=T-V+(B-R)}return P}function b(){var E=Math.max.apply(Math,arguments);return E&&(E<1e-8||E>1e8)?f(2,-Math.round(c(E))):0}return{EPSILON:p,MACHINE_EPSILON:d,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(l(2)-1)/3,isZero:function(E){return E>=-p&&E<=p},isMachineZero:function(E){return E>=-d&&E<=d},clamp:m,integrate:function(E,k,x,j){for(var P=t[j-2],F=r[j-2],C=(x-k)*.5,L=C+k,w=0,T=j+1>>1,B=j&1?F[w++]*E(L):0;w<T;){var V=C*P[w];B+=F[w++]*(E(L+V)+E(L-V))}return C*B},findRoot:function(E,k,x,j,P,F,C){for(var L=0;L<F;L++){var w=E(x),T=w/k(x),B=x-T;if(s(T)<C){x=B;break}w>0?(P=x,x=B<=j?(j+P)*.5:B):(j=x,x=B>=P?(j+P)*.5:B)}return m(x,j,P)},solveQuadratic:function(E,k,x,j,P,F){var C,L=1/0;if(s(E)<p){if(s(k)<p)return s(x)<p?-1:0;C=-x/k}else{k*=-.5;var w=_(E,k,x);if(w&&s(w)<d){var T=b(s(E),s(k),s(x));T&&(E*=T,k*=T,x*=T,w=_(E,k,x))}if(w>=-d){var B=w<0?0:l(w),V=k+(k<0?-B:B);V===0?(C=x/E,L=-C):(C=V/E,L=x/V)}}var R=0,$=P==null,K=P-p,Y=F+p;return isFinite(C)&&($||C>K&&C<Y)&&(j[R++]=$?C:m(C,P,F)),L!==C&&isFinite(L)&&($||L>K&&L<Y)&&(j[R++]=$?L:m(L,P,F)),R},solveCubic:function(E,k,x,j,P,F,C){var L=b(s(E),s(k),s(x),s(j)),w,T,B,V,R;L&&(E*=L,k*=L,x*=L,j*=L);function $(ye){w=ye;var Ae=E*w;T=Ae+k,B=T*w+x,V=(Ae+T)*w+B,R=B*w+j}if(s(E)<p)E=k,T=x,B=j,w=1/0;else if(s(j)<p)T=k,B=x,w=0;else{$(-(k/E)/3);var K=R/E,Y=f(s(K),1/3),se=K<0?-1:1,q=-V/E,re=q>0?1.324717957244746*Math.max(Y,l(q)):Y,ae=w-se*re;if(ae!==w){do $(ae),ae=V===0?w:w-R/V/(1+d);while(se*ae>se*w);s(E)*w*w>s(j/w)&&(B=-j/w,T=(B-x)/w)}}var ue=D.solveQuadratic(E,T,B,P,F,C),fe=F==null;return isFinite(w)&&(ue===0||ue>0&&w!==P[0]&&w!==P[1])&&(fe||w>F-p&&w<C+p)&&(P[ue++]=fe?w:m(w,F,C)),ue}}},W={_id:1,_pools:{},get:function(t){if(t){var r=this._pools[t];return r||(r=this._pools[t]={_id:1}),r._id++}else return this._id++}},v=o.extend({_class:"Point",_readIndex:!0,initialize:function(r,s){var l=typeof r,f=this.__read,c=0;if(l==="number"){var p=typeof s=="number";this._set(r,p?s:r),f&&(c=p?2:1)}else if(l==="undefined"||r===null)this._set(0,0),f&&(c=r===null?1:0);else{var d=l==="string"?r.split(/[\s,]+/)||[]:r;c=1,Array.isArray(d)?this._set(+d[0],+(d.length>1?d[1]:d[0])):"x"in d?this._set(d.x||0,d.y||0):"width"in d?this._set(d.width||0,d.height||0):"angle"in d?(this._set(d.length||0,0),this.setAngle(d.angle||0)):(this._set(0,0),c=0)}return f&&(this.__read=c),this},set:"#initialize",_set:function(t,r){return this.x=t,this.y=r,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new v(this.x,this.y)},toString:function(){var t=U.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var r=t.formatter;return[r.number(this.x),r.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var r=this._angle||0;this._set(Math.cos(r)*t,Math.sin(r)*t)}else{var s=t/this.getLength();D.isZero(s)&&this.getAngle(),this._set(this.x*s,this.y*s)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=v.read(arguments),r=this.getLength()*t.getLength();if(D.isZero(r))return NaN;var s=this.dot(t)/r;return Math.acos(s<-1?-1:s>1?1:s)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var r=this.getLength();this._set(Math.cos(t)*r,Math.sin(t)*r)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=v.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,r=v.read(t),s=r.x-this.x,l=r.y-this.y,f=s*s+l*l,c=o.read(t);return c?f:Math.sqrt(f)},normalize:function(t){t===i&&(t=1);var r=this.getLength(),s=r!==0?t/r:0,l=new v(this.x*s,this.y*s);return s>=0&&(l._angle=this._angle),l},rotate:function(t,r){if(t===0)return this.clone();t=t*Math.PI/180;var s=r?this.subtract(r):this,l=Math.sin(t),f=Math.cos(t);return s=new v(s.x*f-s.y*l,s.x*l+s.y*f),r?s.add(r):s},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=v.read(arguments);return new v(this.x+t.x,this.y+t.y)},subtract:function(){var t=v.read(arguments);return new v(this.x-t.x,this.y-t.y)},multiply:function(){var t=v.read(arguments);return new v(this.x*t.x,this.y*t.y)},divide:function(){var t=v.read(arguments);return new v(this.x/t.x,this.y/t.y)},modulo:function(){var t=v.read(arguments);return new v(this.x%t.x,this.y%t.y)},negate:function(){return new v(-this.x,-this.y)},isInside:function(){return S.read(arguments).contains(this)},isClose:function(){var t=arguments,r=v.read(t),s=o.read(t);return this.getDistance(r)<=s},isCollinear:function(){var t=v.read(arguments);return v.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=v.read(arguments);return v.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=D.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=v.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=v.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=v.read(arguments),r=t.isZero()?0:this.dot(t)/t.dot(t);return new v(t.x*r,t.y*r)},statics:{min:function(){var t=arguments,r=v.read(t),s=v.read(t);return new v(Math.min(r.x,s.x),Math.min(r.y,s.y))},max:function(){var t=arguments,r=v.read(t),s=v.read(t);return new v(Math.max(r.x,s.x),Math.max(r.y,s.y))},random:function(){return new v(Math.random(),Math.random())},isCollinear:function(t,r,s,l){return Math.abs(t*l-r*s)<=Math.sqrt((t*t+r*r)*(s*s+l*l))*1e-8},isOrthogonal:function(t,r,s,l){return Math.abs(t*s+r*l)<=Math.sqrt((t*t+r*r)*(s*s+l*l))*1e-8}}},o.each(["round","ceil","floor","abs"],function(t){var r=Math[t];this[t]=function(){return new v(r(this.x),r(this.y))}},{})),H=v.extend({initialize:function(r,s,l,f){this._x=r,this._y=s,this._owner=l,this._setter=f},_set:function(t,r,s){return this._x=t,this._y=r,s||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),N=o.extend({_class:"Size",_readIndex:!0,initialize:function(r,s){var l=typeof r,f=this.__read,c=0;if(l==="number"){var p=typeof s=="number";this._set(r,p?s:r),f&&(c=p?2:1)}else if(l==="undefined"||r===null)this._set(0,0),f&&(c=r===null?1:0);else{var d=l==="string"?r.split(/[\s,]+/)||[]:r;c=1,Array.isArray(d)?this._set(+d[0],+(d.length>1?d[1]:d[0])):"width"in d?this._set(d.width||0,d.height||0):"x"in d?this._set(d.x||0,d.y||0):(this._set(0,0),c=0)}return f&&(this.__read=c),this},set:"#initialize",_set:function(t,r){return this.width=t,this.height=r,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new N(this.width,this.height)},toString:function(){var t=U.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var r=t.formatter;return[r.number(this.width),r.number(this.height)]},add:function(){var t=N.read(arguments);return new N(this.width+t.width,this.height+t.height)},subtract:function(){var t=N.read(arguments);return new N(this.width-t.width,this.height-t.height)},multiply:function(){var t=N.read(arguments);return new N(this.width*t.width,this.height*t.height)},divide:function(){var t=N.read(arguments);return new N(this.width/t.width,this.height/t.height)},modulo:function(){var t=N.read(arguments);return new N(this.width%t.width,this.height%t.height)},negate:function(){return new N(-this.width,-this.height)},isZero:function(){var t=D.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,r){return new N(Math.min(t.width,r.width),Math.min(t.height,r.height))},max:function(t,r){return new N(Math.max(t.width,r.width),Math.max(t.height,r.height))},random:function(){return new N(Math.random(),Math.random())}}},o.each(["round","ceil","floor","abs"],function(t){var r=Math[t];this[t]=function(){return new N(r(this.width),r(this.height))}},{})),Z=N.extend({initialize:function(r,s,l,f){this._width=r,this._height=s,this._owner=l,this._setter=f},_set:function(t,r,s){return this._width=t,this._height=r,s||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),S=o.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(r,s,l,f){var c=arguments,p=typeof r,d;if(p==="number"?(this._set(r,s,l,f),d=4):p==="undefined"||r===null?(this._set(0,0,0,0),d=r===null?1:0):c.length===1&&(Array.isArray(r)?(this._set.apply(this,r),d=1):r.x!==i||r.width!==i?(this._set(r.x||0,r.y||0,r.width||0,r.height||0),d=1):r.from===i&&r.to===i&&(this._set(0,0,0,0),o.readSupported(c,this)&&(d=1))),d===i){var m=v.readNamed(c,"from"),_=o.peek(c),b=m.x,E=m.y,k,x;if(_&&_.x!==i||o.hasNamed(c,"to")){var j=v.readNamed(c,"to");k=j.x-b,x=j.y-E,k<0&&(b=j.x,k=-k),x<0&&(E=j.y,x=-x)}else{var P=N.read(c);k=P.width,x=P.height}this._set(b,E,k,x),d=c.__index}var F=c.__filtered;return F&&(this.__filtered=F),this.__read&&(this.__read=d),this},set:"#initialize",_set:function(t,r,s,l){return this.x=t,this.y=r,this.width=s,this.height=l,this},clone:function(){return new S(this.x,this.y,this.width,this.height)},equals:function(t){var r=o.isPlainValue(t)?S.read(arguments):t;return r===this||r&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height||!1},toString:function(){var t=U.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var r=t.formatter;return[r.number(this.x),r.number(this.y),r.number(this.width),r.number(this.height)]},getPoint:function(t){var r=t?v:H;return new r(this.x,this.y,this,"setPoint")},setPoint:function(){var t=v.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var r=t?N:Z;return new r(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=N.read(arguments),r=this._sx,s=this._sy,l=t.width,f=t.height;r&&(this.x+=(this.width-l)*r),s&&(this.y+=(this.height-f)*s),this.width=l,this.height=f,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var r=t-this.x;this.width-=this._sx===.5?r*2:r}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var r=t-this.y;this.height-=this._sy===.5?r*2:r}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var r=t-this.x;this.width=this._sx===.5?r*2:r}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var r=t-this.y;this.height=this._sy===.5?r*2:r}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var r=t?v:H;return new r(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=v.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==i||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(S.read(arguments)):this._containsPoint(v.read(arguments))},_containsPoint:function(t){var r=t.x,s=t.y;return r>=this.x&&s>=this.y&&r<=this.x+this.width&&s<=this.y+this.height},_containsRectangle:function(t){var r=t.x,s=t.y;return r>=this.x&&s>=this.y&&r+t.width<=this.x+this.width&&s+t.height<=this.y+this.height},intersects:function(){var t=S.read(arguments),r=o.read(arguments)||0;return t.x+t.width>this.x-r&&t.y+t.height>this.y-r&&t.x<this.x+this.width+r&&t.y<this.y+this.height+r},intersect:function(){var t=S.read(arguments),r=Math.max(this.x,t.x),s=Math.max(this.y,t.y),l=Math.min(this.x+this.width,t.x+t.width),f=Math.min(this.y+this.height,t.y+t.height);return new S(r,s,l-r,f-s)},unite:function(){var t=S.read(arguments),r=Math.min(this.x,t.x),s=Math.min(this.y,t.y),l=Math.max(this.x+this.width,t.x+t.width),f=Math.max(this.y+this.height,t.y+t.height);return new S(r,s,l-r,f-s)},include:function(){var t=v.read(arguments),r=Math.min(this.x,t.x),s=Math.min(this.y,t.y),l=Math.max(this.x+this.width,t.x),f=Math.max(this.y+this.height,t.y);return new S(r,s,l-r,f-s)},expand:function(){var t=N.read(arguments),r=t.width,s=t.height;return new S(this.x-r/2,this.y-s/2,this.width+r,this.height+s)},scale:function(t,r){return this.expand(this.width*t-this.width,this.height*(r===i?t:r)-this.height)}},o.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,r){var s=t.join(""),l=/^[RL]/.test(s);r>=4&&(t[1]+=l?"Y":"X");var f=t[l?0:1],c=t[l?1:0],p="get"+f,d="get"+c,m="set"+f,_="set"+c,b="get"+s,E="set"+s;this[b]=function(k){var x=k?v:H;return new x(this[p](),this[d](),this,E)},this[E]=function(){var k=v.read(arguments);this[m](k.x),this[_](k.y)}},{beans:!0})),z=S.extend({initialize:function(r,s,l,f,c,p){this._set(r,s,l,f,!0),this._owner=c,this._setter=p},_set:function(t,r,s,l,f){return this._x=t,this._y=r,this._width=s,this._height=l,f||this._owner[this._setter](this),this}},new function(){var t=S.prototype;return o.each(["x","y","width","height"],function(r){var s=o.capitalize(r),l="_"+r;this["get"+s]=function(){return this[l]},this["set"+s]=function(f){this[l]=f,this._dontNotify||this._owner[this._setter](this)}},o.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(r){var s="set"+r;this[s]=function(){this._dontNotify=!0,t[s].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(r){var s=this._owner;s._changeSelection&&s._changeSelection(2,r)}}))}),A=o.extend({_class:"Matrix",initialize:function t(r,s){var l=arguments,f=l.length,c=!0;if(f>=6?this._set.apply(this,l):f===1||f===2?r instanceof t?this._set(r._a,r._b,r._c,r._d,r._tx,r._ty,s):Array.isArray(r)?this._set.apply(this,s?r.concat([s]):r):c=!1:f?c=!1:this.reset(),!c)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,r,s,l,f,c,p){return this._a=t,this._b=r,this._c=s,this._d=l,this._tx=f,this._ty=c,p||this._changed(),this},_serialize:function(t,r){return o.serialize(this.getValues(),t,!0,r)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new A(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=U.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,r){var s=this._owner;return s?(s.transform(null,o.pick(t,!0),r),this.isIdentity()):!1},translate:function(){var t=v.read(arguments),r=t.x,s=t.y;return this._tx+=r*this._a+s*this._c,this._ty+=r*this._b+s*this._d,this._changed(),this},scale:function(){var t=arguments,r=v.read(t),s=v.read(t,0,{readNull:!0});return s&&this.translate(s),this._a*=r.x,this._b*=r.x,this._c*=r.y,this._d*=r.y,s&&this.translate(s.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var r=v.read(arguments,1),s=r.x,l=r.y,f=Math.cos(t),c=Math.sin(t),p=s-s*f+l*c,d=l-s*c-l*f,m=this._a,_=this._b,b=this._c,E=this._d;return this._a=f*m+c*b,this._b=f*_+c*E,this._c=-c*m+f*b,this._d=-c*_+f*E,this._tx+=p*m+d*b,this._ty+=p*_+d*E,this._changed(),this},shear:function(){var t=arguments,r=v.read(t),s=v.read(t,0,{readNull:!0});s&&this.translate(s);var l=this._a,f=this._b;return this._a+=r.y*this._c,this._b+=r.y*this._d,this._c+=r.x*l,this._d+=r.x*f,s&&this.translate(s.negate()),this._changed(),this},skew:function(){var t=arguments,r=v.read(t),s=v.read(t,0,{readNull:!0}),l=Math.PI/180,f=new v(Math.tan(r.x*l),Math.tan(r.y*l));return this.shear(f,s)},append:function(t,r){if(t){var s=this._a,l=this._b,f=this._c,c=this._d,p=t._a,d=t._c,m=t._b,_=t._d,b=t._tx,E=t._ty;this._a=p*s+m*f,this._c=d*s+_*f,this._b=p*l+m*c,this._d=d*l+_*c,this._tx+=b*s+E*f,this._ty+=b*l+E*c,r||this._changed()}return this},prepend:function(t,r){if(t){var s=this._a,l=this._b,f=this._c,c=this._d,p=this._tx,d=this._ty,m=t._a,_=t._c,b=t._b,E=t._d,k=t._tx,x=t._ty;this._a=m*s+_*l,this._c=m*f+_*c,this._b=b*s+E*l,this._d=b*f+E*c,this._tx=m*p+_*d+k,this._ty=b*p+E*d+x,r||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,r=this._b,s=this._c,l=this._d,f=this._tx,c=this._ty,p=t*l-r*s,d=null;return p&&!isNaN(p)&&isFinite(f)&&isFinite(c)&&(this._a=l/p,this._b=-r/p,this._c=-s/p,this._d=t/p,this._tx=(s*c-l*f)/p,this._ty=(r*f-t*c)/p,d=this),d},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new A(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,r,s){return arguments.length<3?this._transformPoint(v.read(arguments)):this._transformCoordinates(t,r,s)},_transformPoint:function(t,r,s){var l=t.x,f=t.y;return r||(r=new v),r._set(l*this._a+f*this._c+this._tx,l*this._b+f*this._d+this._ty,s)},_transformCoordinates:function(t,r,s){for(var l=0,f=2*s;l<f;l+=2){var c=t[l],p=t[l+1];r[l]=c*this._a+p*this._c+this._tx,r[l+1]=c*this._b+p*this._d+this._ty}return r},_transformCorners:function(t){var r=t.x,s=t.y,l=r+t.width,f=s+t.height,c=[r,s,l,s,l,f,r,f];return this._transformCoordinates(c,c,4)},_transformBounds:function(t,r,s){for(var l=this._transformCorners(t),f=l.slice(0,2),c=f.slice(),p=2;p<8;p++){var d=l[p],m=p&1;d<f[m]?f[m]=d:d>c[m]&&(c[m]=d)}return r||(r=new S),r._set(f[0],f[1],c[0]-f[0],c[1]-f[1],s)},inverseTransform:function(){return this._inverseTransform(v.read(arguments))},_inverseTransform:function(t,r,s){var l=this._a,f=this._b,c=this._c,p=this._d,d=this._tx,m=this._ty,_=l*p-f*c,b=null;if(_&&!isNaN(_)&&isFinite(d)&&isFinite(m)){var E=t.x-this._tx,k=t.y-this._ty;r||(r=new v),b=r._set((E*p-k*c)/_,(k*l-E*f)/_,s)}return b},decompose:function(){var t=this._a,r=this._b,s=this._c,l=this._d,f=t*l-r*s,c=Math.sqrt,p=Math.atan2,d=180/Math.PI,m,_,b;if(t!==0||r!==0){var E=c(t*t+r*r);m=Math.acos(t/E)*(r>0?1:-1),_=[E,f/E],b=[p(t*s+r*l,E*E),0]}else if(s!==0||l!==0){var k=c(s*s+l*l);m=Math.asin(s/k)*(l>0?1:-1),_=[f/k,k],b=[0,p(t*s+r*l,k*k)]}else m=0,b=_=[0,0];return{translation:this.getTranslation(),rotation:m*d,scaling:new v(_),skewing:new v(b[0]*d,b[1]*d)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new v(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},o.each(["a","b","c","d","tx","ty"],function(t){var r=o.capitalize(t),s="_"+t;this["get"+r]=function(){return this[s]},this["set"+r]=function(l){this[s]=l,this._changed()}},{})),G=o.extend({_class:"Line",initialize:function(r,s,l,f,c){var p=!1;arguments.length>=4?(this._px=r,this._py=s,this._vx=l,this._vy=f,p=c):(this._px=r.x,this._py=r.y,this._vx=s.x,this._vy=s.y,p=l),p||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new v(this._px,this._py)},getVector:function(){return new v(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,r){return G.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,r)},getSide:function(t,r){return G.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,r)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return G.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return v.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return v.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,r,s,l,f,c,p,d,m,_){m||(s-=t,l-=r,p-=f,d-=c);var b=s*d-l*p;if(!D.isMachineZero(b)){var E=t-f,k=r-c,x=(p*k-d*E)/b,j=(s*k-l*E)/b,P=1e-12,F=-P,C=1+P;if(_||F<x&&x<C&&F<j&&j<C)return _||(x=x<=0?0:x>=1?1:x),new v(t+x*s,r+x*l)}},getSide:function(t,r,s,l,f,c,p,d){p||(s-=t,l-=r);var m=f-t,_=c-r,b=m*l-_*s;return!d&&D.isMachineZero(b)&&(b=(m*s+m*s)/(s*s+l*l),b>=0&&b<=1&&(b=0)),b<0?-1:b>0?1:0},getSignedDistance:function(t,r,s,l,f,c,p){return p||(s-=t,l-=r),s===0?l>0?f-t:t-f:l===0?s<0?c-r:r-c:((f-t)*l-(c-r)*s)/(l>s?l*Math.sqrt(1+s*s/(l*l)):s*Math.sqrt(1+l*l/(s*s)))},getDistance:function(t,r,s,l,f,c,p){return Math.abs(G.getSignedDistance(t,r,s,l,f,c,p))}}}),J=y.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(r){y.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new lt(null,null,this),this._view=st.create(this,r||Ne.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,r){return o.serialize(this._children,t,!0,r)},_changed:function(t,r){if(t&1){var s=this._view;s&&(s._needsUpdate=!0,!s._requested&&s._autoUpdate&&s.requestUpdate())}var l=this._changes;if(l&&r){var f=this._changesById,c=r._id,p=f[c];p?p.flags|=t:l.push(f[c]={item:r,flags:t})}},clear:function(){for(var t=this._children,r=t.length-1;r>=0;r--)t[r].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new me({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],r={};return this.getItems({class:xe,match:function(s){var l=s._definition,f=l._id;return r[f]||(r[f]=!0,t.push(l)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,r=[];for(var s in t){var l=t[s],f=l._selection;f&1&&l.isInserted()?r.push(l):f||this._updateSelection(l)}return r},_updateSelection:function(t){var r=t._id,s=this._selectionItems;t._selection?s[r]!==t&&(this._selectionCount++,s[r]=t):s[r]===t&&(this._selectionCount--,delete s[r])},selectAll:function(){for(var t=this._children,r=0,s=t.length;r<s;r++)t[r].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var r in t)t[r].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(i,t)},insertLayer:function(t,r){if(r instanceof me){r._remove(!1,!0),o.splice(this._children,[r],t,0),r._setProject(this,!0);var s=r._name;s&&r.setName(s),this._changes&&r._changed(5),this._activeLayer||(this._activeLayer=r)}else r=null;return r},_insertItem:function(t,r,s){return r=this.insertLayer(t,r)||(this._activeLayer||this._insertItem(i,new me(ie.NO_INSERT),!0)).insertChild(t,r),s&&r.activate&&r.activate(),r},getItems:function(t){return ie._getItems(this,t)},getItem:function(t){return ie._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var r=this._activeLayer;return o.importJSON(t,r&&r.isEmpty()&&r)},removeOn:function(t){var r=this._removeSets;if(r){t==="mouseup"&&(r.mousedrag=null);var s=r[t];if(s){for(var l in s){var f=s[l];for(var c in r){var p=r[c];p&&p!=s&&delete p[f._id]}f.remove()}r[t]=null}}},draw:function(t,r,s){this._updateVersion++,t.save(),r.applyToContext(t);for(var l=this._children,f=new o({offset:new v(0,0),pixelRatio:s,viewMatrix:r.isIdentity()?null:r,matrices:[new A],updateMatrix:!0}),c=0,p=l.length;c<p;c++)l[c].draw(t,f);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var d=this._selectionItems,m=this._scope.settings.handleSize,_=this._updateVersion;for(var b in d)d[b]._drawSelection(t,r,m,d,_);t.restore()}}}),ie=o.extend(h,{statics:{extend:function t(r){return r._serializeFields&&(r._serializeFields=o.set({},this.prototype._serializeFields,r._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new A,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return o.each(t,function(r){this._events[r]={install:function(s){this.getView()._countItemEvent(s,1)},uninstall:function(s){this.getView()._countItemEvent(s,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,r){var s=t&&o.isPlainObject(t),l=s&&t.internal===!0,f=this._matrix=new A,c=s&&t.project||Pe.project,p=Pe.settings;return this._id=l?null:W.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&p.applyMatrix,r&&f.translate(r),f._owner=this,this._style=new lt(c._currentStyle,this,c),l||s&&t.insert==!1||!p.insertItems&&!(s&&t.insert==!0)?this._setProject(c):(s&&t.parent||c)._insertItem(i,this,!0),s&&t!==ie.NO_INSERT&&t!==ie.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),s},_serialize:function(t,r){var s={},l=this;function f(c){for(var p in c){var d=l[p];o.equals(d,p==="leading"?c.fontSize*1.2:c[p])||(s[p]=o.serialize(d,t,p!=="data",r))}}return f(this._serializeFields),this instanceof le||f(this._style._defaults),[this._class,s]},_changed:function(t){var r=this._symbol,s=this._parent||r,l=this._project;t&8&&(this._bounds=this._position=this._decomposed=i),t&16&&(this._globalMatrix=i),s&&t&72&&ie._clearBoundsCache(s),t&2&&ie._clearBoundsCache(this),l&&l._changed(t,this),r&&r._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var r=this._getOwner();if(t&&r){var s=r._children,l=r._namedChildren;(l[t]=l[t]||[]).push(this),t in s||(s[t]=this)}this._name=t||i,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},o.each(["locked","visible","blendMode","opacity","guide"],function(t){var r=o.capitalize(t),s="_"+t,l={locked:256,visible:265};this["get"+r]=function(){return this[s]},this["set"+r]=function(f){f!=this[s]&&(this[s]=f,this._changed(l[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var r=this._project;r&&(r._updateSelection(this),this._changed(257))}},_changeSelection:function(t,r){var s=this._selection;this.setSelection(r?s|t:s&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,r=0,s=t.length;r<s;r++)if(t[r].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var r=this._children,s=0,l=r.length;s<l;s++)r[s].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,r=!!(this._selection&1);if(t&&r){for(var s=0,l=t.length;s<l;s++)if(!t[s].isFullySelected())return!1;return!0}return r},setFullySelected:function(t){var r=this._children;if(r)for(var s=0,l=r.length;s<l;s++)r[s].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var r=t?v:H,s=this._position||(this._position=this._getPositionFromBounds());return new r(s.x,s.y,this,"setPosition")},setPosition:function(){this.translate(v.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new H(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=v.read(arguments,0,{clone:!0,readNull:!0}),this._position=i}},o.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,r){this[r]=function(s){return this.getBounds(s,t)}},{beans:!0,getBounds:function(t,r){var s=r||t instanceof A,l=o.set({},s?r:t,this._boundsOptions);(!l.stroke||this.getStrokeScaling())&&(l.cacheItem=this);var f=this._getCachedBounds(s&&t,l).rect;return arguments.length?f:new z(f.x,f.y,f.width,f.height,this,"setBounds")},setBounds:function(){var t=S.read(arguments),r=this.getBounds(),s=this._matrix,l=new A,f=t.getCenter();l.translate(f),(t.width!=r.width||t.height!=r.height)&&(s.isInvertible()||(s.set(s._backup||new A().translate(s.getTranslation())),r=this.getBounds()),l.scale(r.width!==0?t.width/r.width:0,r.height!==0?t.height/r.height:0)),f=r.getCenter(),l.translate(-f.x,-f.y),this.transform(l)},_getBounds:function(t,r){var s=this._children;return!s||!s.length?new S:(ie._updateBoundsCache(this,r.cacheItem),ie._getBounds(s,t,r))},_getBoundsCacheKey:function(t,r){return[t.stroke?1:0,t.handle?1:0,r?1:0].join("")},_getCachedBounds:function(t,r,s){t=t&&t._orNullIfIdentity();var l=r.internal&&!s,f=r.cacheItem,c=l?null:this._matrix._orNullIfIdentity(),p=f&&(!t||t.equals(c))&&this._getBoundsCacheKey(r,l),d=this._bounds;if(ie._updateBoundsCache(this._parent||this._symbol,f),p&&d&&p in d){var m=d[p];return{rect:m.rect.clone(),nonscaling:m.nonscaling}}var _=this._getBounds(t||c,r),b=_.rect||_,E=this._style,k=_.nonscaling||E.hasStroke()&&!E.getStrokeScaling();if(p){d||(this._bounds=d={});var m=d[p]={rect:b.clone(),nonscaling:k,internal:l}}return{rect:b,nonscaling:k}},_getStrokeMatrix:function(t,r){var s=this.getStrokeScaling()?null:r&&r.internal?this:this._parent||this._symbol&&this._symbol._item,l=s?s.getViewMatrix().invert():t;return l&&l._shiftless()},statics:{_updateBoundsCache:function(t,r){if(t&&r){var s=r._id,l=t._boundsCache=t._boundsCache||{ids:{},list:[]};l.ids[s]||(l.list.push(r),l.ids[s]=r)}},_clearBoundsCache:function(t){var r=t._boundsCache;if(r){t._bounds=t._position=t._boundsCache=i;for(var s=0,l=r.list,f=l.length;s<f;s++){var c=l[s];c!==t&&(c._bounds=c._position=i,c._boundsCache&&ie._clearBoundsCache(c))}}},_getBounds:function(t,r,s){var l=1/0,f=-l,c=l,p=f,d=!1;s=s||{};for(var m=0,_=t.length;m<_;m++){var b=t[m];if(b._visible&&!b.isEmpty(!0)){var E=b._getCachedBounds(r&&r.appended(b._matrix),s,!0),k=E.rect;l=Math.min(k.x,l),c=Math.min(k.y,c),f=Math.max(k.x+k.width,f),p=Math.max(k.y+k.height,p),E.nonscaling&&(d=!0)}}return{rect:isFinite(l)?new S(l,c,f-l,p-c):new S,nonscaling:d}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var r=this.getRotation();if(r!=null&&t!=null){var s=this._decomposed;this.rotate(t-r),s&&(s.rotation=t,this._decomposed=s)}},getScaling:function(){var t=this._decompose(),r=t&&t.scaling;return new H(r?r.x:1,r?r.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),r=v.read(arguments,0,{clone:!0,readNull:!0});if(t&&r&&!t.equals(r)){var s=this.getRotation(),l=this._decomposed,f=new A,c=D.isZero;if(c(t.x)||c(t.y))f.translate(l.translation),s&&f.rotate(s),f.scale(r.x,r.y),this._matrix.set(f);else{var p=this.getPosition(!0);f.translate(p),s&&f.rotate(s),f.scale(r.x/t.x,r.y/t.y),s&&f.rotate(-s),f.translate(p.negate()),this.transform(f)}l&&(l.scaling=r,this._decomposed=l)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var r=this._globalMatrix;if(r)for(var s=this._parent,l=[];s;){if(!s._globalMatrix){r=null;for(var f=0,c=l.length;f<c;f++)l[f]._globalMatrix=null;break}l.push(s),s=s._parent}if(!r){r=this._globalMatrix=this._matrix.clone();var s=this._parent;s&&r.prepend(s.getGlobalMatrix(!0))}return t?r:r.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,r){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var s=this._children,l=0,f=s&&s.length;l<f;l++)s[l]._setProject(t);r=!0}r&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(r){t.base.call(this,r);for(var s=this._children,l=0,f=s&&s.length;l<f;l++)s[l]._installEvents(r)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof me)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(t){var r=this._parent,s=r&&r._children;s&&r.insertChildren(t in s?t:i,[this])},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return o.equals(this._children,t._children)},clone:function(t){var r=new this.constructor(ie.NO_INSERT),s=this._children,l=o.pick(t?t.insert:i,t===i||t===!0),f=o.pick(t?t.deep:i,!0);s&&r.copyAttributes(this),(!s||f)&&r.copyContent(this),s||r.copyAttributes(this),l&&r.insertAbove(this);var c=this._name,p=this._parent;if(c&&p){for(var s=p._children,d=c,m=1;s[c];)c=d+" "+m++;c!==d&&r.setName(c)}return r},copyContent:function(t){for(var r=t._children,s=0,l=r&&r.length;s<l;s++)this.addChild(r[s].clone(!1),!0)},copyAttributes:function(t,r){this.setStyle(t._style);for(var s=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],l=0,f=s.length;l<f;l++){var c=s[l];t.hasOwnProperty(c)&&(this[c]=t[c])}r||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var p=t._data,d=t._name;this._data=p?o.clone(p):null,d&&this.setName(d)},rasterize:function(t,r){var s,l,f;o.isPlainObject(t)?(s=t.resolution,l=t.insert,f=t.raster):(s=t,l=r),f||(f=new he(ie.NO_INSERT));var c=this.getStrokeBounds(),p=(s||this.getView().getResolution())/72,d=c.getTopLeft().floor(),m=c.getBottomRight().ceil(),_=new N(m.subtract(d)),b=_.multiply(p);if(f.setSize(b,!0),!b.isZero()){var E=f.getContext(!0),k=new A().scale(p).translate(d.negate());E.save(),k.applyToContext(E),this.draw(E,new o({matrices:[k]})),E.restore()}return f._matrix.set(new A().translate(d.add(_.divide(2))).scale(1/p)),(l===i||l)&&f.insertAbove(this),f},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(v.read(arguments)))},_contains:function(t){var r=this._children;if(r){for(var s=r.length-1;s>=0;s--)if(r[s].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return S.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new ge.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,r){return t instanceof ie?this._asPathItem().getIntersections(t._asPathItem(),null,r,!0).length>0:!1}},new function(){function t(){var l=arguments;return this._hitTest(v.read(l),de.getOptions(l))}function r(){var l=arguments,f=v.read(l),c=de.getOptions(l),p=[];return this._hitTest(f,new o({all:p},c)),p}function s(l,f,c,p){var d=this._children;if(d)for(var m=d.length-1;m>=0;m--){var _=d[m],b=_!==p&&_._hitTest(l,f,c);if(b&&!f.all)return b}return null}return J.inject({hitTest:t,hitTestAll:r,_hitTest:s}),{hitTest:t,hitTestAll:r,_hitTestChildren:s}},{_hitTest:function(t,r,s){if(this._locked||!this._visible||this._guide&&!r.guides||this.isEmpty())return null;var l=this._matrix,f=s?s.appended(l):this.getGlobalMatrix().prepend(this.getView()._matrix),c=Math.max(r.tolerance,1e-12),p=r._tolerancePadding=new N(ge._getStrokePadding(c,l._shiftless().invert()));if(t=l._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(p.multiply(2))._containsPoint(t))return null;var d=!(r.guides&&!this._guide||r.selected&&!this.isSelected()||r.type&&r.type!==o.hyphenate(this._class)||r.class&&!(this instanceof r.class)),m=r.match,_=this,b,E;function k(w){return w&&m&&!m(w)&&(w=null),w&&r.all&&r.all.push(w),w}function x(w,T){var B=T?b["get"+T]():_.getPosition();if(t.subtract(B).divide(p).length<=1)return new de(w,_,{name:T?o.hyphenate(T):w,point:B})}var j=r.position,P=r.center,F=r.bounds;if(d&&this._parent&&(j||P||F)){if((P||F)&&(b=this.getInternalBounds()),E=j&&x("position")||P&&x("center","Center"),!E&&F)for(var C=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],L=0;L<8&&!E;L++)E=x("bounds",C[L]);E=k(E)}return E||(E=this._hitTestChildren(t,r,f)||d&&k(this._hitTestSelf(t,r,f,this.getStrokeScaling()?null:f._shiftless().invert()))||null),E&&E.point&&(E.point=l.transform(E.point)),E},_hitTestSelf:function(t,r){if(r.fill&&this.hasFill()&&this._contains(t))return new de("fill",this)},matches:function(t,r){function s(p,d){for(var m in p)if(p.hasOwnProperty(m)){var _=p[m],b=d[m];if(o.isPlainObject(_)&&o.isPlainObject(b)){if(!s(_,b))return!1}else if(!o.equals(_,b))return!1}return!0}var l=typeof t;if(l==="object"){for(var f in t)if(t.hasOwnProperty(f)&&!this.matches(f,t[f]))return!1;return!0}else{if(l==="function")return t(this);if(t==="match")return r(this);var c=/^(empty|editable)$/.test(t)?this["is"+o.capitalize(t)]():t==="type"?o.hyphenate(this._class):this[t];if(t==="class"){if(typeof r=="function")return this instanceof r;c=this._class}if(typeof r=="function")return!!r(c);if(r){if(r.test)return r.test(c);if(o.isPlainObject(r))return s(r,c)}return o.equals(c,r)}},getItems:function(t){return ie._getItems(this,t,this._matrix)},getItem:function(t){return ie._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(r,s,l,f,c){if(!f){var p=typeof s=="object"&&s,d=p&&p.overlapping,m=p&&p.inside,_=d||m,k=_&&S.read([_]);f={items:[],recursive:p&&p.recursive!==!1,inside:!!m,overlapping:!!d,rect:k,path:d&&new ge.Rectangle({rectangle:k,insert:!1})},p&&(s=o.filter({},s,{recursive:!0,inside:!0,overlapping:!0}))}var b=r._children,E=f.items,k=f.rect;l=k&&(l||new A);for(var x=0,j=b&&b.length;x<j;x++){var P=b[x],F=l&&l.appended(P._matrix),C=!0;if(k){var _=P.getBounds(F);if(!k.intersects(_))continue;k.contains(_)||f.overlapping&&(_.contains(k)||f.path.intersects(P,F))||(C=!1)}if(C&&P.matches(s)&&(E.push(P),c)||(f.recursive!==!1&&t(P,s,F,f,c),c&&E.length>0))break}return E}}},{importJSON:function(t){var r=o.importJSON(t,this);return r!==this?this.addChild(r):r},addChild:function(t){return this.insertChild(i,t)},insertChild:function(t,r){var s=r?this.insertChildren(t,[r]):null;return s&&s[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,r){var s=this._children;if(s&&r&&r.length>0){r=o.slice(r);for(var l={},f=r.length-1;f>=0;f--){var c=r[f],p=c&&c._id;!c||l[p]?r.splice(f,1):(c._remove(!1,!0),l[p]=!0)}o.splice(s,r,t,0);for(var d=this._project,m=d._changes,f=0,_=r.length;f<_;f++){var c=r[f],b=c._name;c._parent=this,c._setProject(d,!0),b&&c.setName(b),m&&c._changed(5)}this._changed(11)}else r=null;return r},_insertItem:"#insertChild",_insertAt:function(t,r){var s=t&&t._getOwner(),l=t!==this&&s?this:null;return l&&(l._remove(!1,!0),s._insertItem(t._index+r,l)),l},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(i,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(i,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var r=this._children;if(r&&r.length===1){var s=r[0].reduce(t);return this._parent?(s.insertAbove(this),this.remove()):s.remove(),s}return this},_removeNamed:function(){var t=this._getOwner();if(t){var r=t._children,s=t._namedChildren,l=this._name,f=s[l],c=f?f.indexOf(this):-1;c!==-1&&(r[l]==this&&delete r[l],f.splice(c,1),f.length?r[l]=f[0]:delete s[l])}},_remove:function(t,r){var s=this._getOwner(),l=this._project,f=this._index;return this._style&&this._style._dispose(),s?(this._name&&this._removeNamed(),f!=null&&(l._activeLayer===this&&(l._activeLayer=this.getNextSibling()||this.getPreviousSibling()),o.splice(s._children,null,f,1)),this._installEvents(!1),t&&l._changes&&this._changed(5),r&&s._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var r=t&&t.insertBelow(this);return r&&this.remove(),r},removeChildren:function(t,r){if(!this._children)return null;t=t||0,r=o.pick(r,this._children.length);for(var s=o.splice(this._children,null,t,r-t),l=s.length-1;l>=0;l--)s[l]._remove(!0,!1);return s.length>0&&this._changed(11),s},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,r=this._children.length;t<r;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var r=this._children,s=r?r.length:0;if(t){for(var l=0;l<s;l++)if(!r[l].isEmpty(t))return!1;return!0}return!s},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function r(p){var d=[];do d.unshift(p);while(p=p._parent);return d}for(var s=r(this),l=r(t),f=0,c=Math.min(s.length,l.length);f<c;f++)if(s[f]!=l[f])return s[f]._index<l[f]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var r=this;r=r._parent;)if(r===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var r=this._parent;r;){if(r._parent&&/^(Group|Layer|CompoundPath)$/.test(r._class)&&t.isDescendant(r))return!0;r=r._parent}return!1}},o.each(["rotate","scale","shear","skew"],function(t){var r=t==="rotate";this[t]=function(){var s=arguments,l=(r?o:v).read(s),f=v.read(s,0,{readNull:!0});return this.transform(new A()[t](l,f||this.getPosition(!0)))}},{translate:function(){var t=new A;return this.transform(t.translate.apply(t,arguments))},transform:function(t,r,s){var l=this._matrix,f=t&&!t.isIdentity(),c=s&&this._canApplyMatrix||this._applyMatrix&&(f||!l.isIdentity()||r&&this._children);if(!f&&!c)return this;if(f){!t.isInvertible()&&l.isInvertible()&&(l._backup=l.getValues()),l.prepend(t,!0);var p=this._style,d=p.getFillColor(!0),m=p.getStrokeColor(!0);d&&d.transform(t),m&&m.transform(t)}if(c&&(c=this._transformContent(l,r,s))){var _=this._pivot;_&&l._transformPoint(_,_,!0),l.reset(!0),s&&this._canApplyMatrix&&(this._applyMatrix=!0)}var b=this._bounds,E=this._position;(f||c)&&this._changed(25);var k=f&&b&&t.decompose();if(k&&k.skewing.isZero()&&k.rotation%90===0){for(var x in b){var j=b[x];if(j.nonscaling)delete b[x];else if(c||!j.internal){var P=j.rect;t._transformBounds(P,P)}}this._bounds=b;var F=b[this._getBoundsCacheKey(this._boundsOptions||{})];F&&(this._position=this._getPositionFromBounds(F.rect))}else f&&E&&this._pivot&&(this._position=t._transformPoint(E,E));return this},_transformContent:function(t,r,s){var l=this._children;if(l){for(var f=0,c=l.length;f<c;f++)l[f].transform(t,r,s);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(v.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(v.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(v.read(arguments))},localToParent:function(){return this._matrix._transformPoint(v.read(arguments))},fitBounds:function(t,r){t=S.read(arguments);var s=this.getBounds(),l=s.height/s.width,f=t.height/t.width,c=(r?l>f:l<f)?t.width/s.width:t.height/s.height,p=new S(new v,new N(s.width*c,s.height*c));p.setCenter(t.getCenter()),this.setBounds(p)}}),{_setStyles:function(t,r,s){var l=this._style,f=this._matrix;if(l.hasFill()&&(t.fillStyle=l.getFillColor().toCanvasStyle(t,f)),l.hasStroke()){t.strokeStyle=l.getStrokeColor().toCanvasStyle(t,f),t.lineWidth=l.getStrokeWidth();var c=l.getStrokeJoin(),p=l.getStrokeCap(),d=l.getMiterLimit();if(c&&(t.lineJoin=c),p&&(t.lineCap=p),d&&(t.miterLimit=d),Pe.support.nativeDash){var m=l.getDashArray(),_=l.getDashOffset();m&&m.length&&("setLineDash"in t?(t.setLineDash(m),t.lineDashOffset=_):(t.mozDash=m,t.mozDashOffset=_))}}if(l.hasShadow()){var b=r.pixelRatio||1,E=s._shiftless().prepend(new A().scale(b,b)),k=E.transform(new v(l.getShadowBlur(),0)),x=E.transform(this.getShadowOffset());t.shadowColor=l.getShadowColor().toCanvasStyle(t),t.shadowBlur=k.getLength(),t.shadowOffsetX=x.x,t.shadowOffsetY=x.y}},draw:function(t,r,s){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var l=r.matrices,f=r.viewMatrix,c=this._matrix,p=l[l.length-1].appended(c);if(p.isInvertible()){f=f?f.appended(p):p,l.push(p),r.updateMatrix&&(this._globalMatrix=p);var d=this._blendMode,m=D.clamp(this._opacity,0,1),_=d==="normal",b=we.nativeModes[d],E=_&&m===1||r.dontStart||r.clip||(b||_&&m<1)&&this._canComposite(),k=r.pixelRatio||1,x,j,P;if(!E){var F=this.getStrokeBounds(f);if(!F.width||!F.height){l.pop();return}P=r.offset,j=r.offset=F.getTopLeft().floor(),x=t,t=Ne.getContext(F.getSize().ceil().add(1).multiply(k)),k!==1&&t.scale(k,k)}t.save();var C=s?s.appended(c):this._canScaleStroke&&!this.getStrokeScaling(!0)&&f,L=!E&&r.clipItem,w=!C||L;if(E?(t.globalAlpha=m,b&&(t.globalCompositeOperation=d)):w&&t.translate(-j.x,-j.y),w&&(E?c:f).applyToContext(t),L&&r.clipItem.draw(t,r.extend({clip:!0})),C){t.setTransform(k,0,0,k,0,0);var T=r.offset;T&&t.translate(-T.x,-T.y)}this._draw(t,r,f,C),t.restore(),l.pop(),r.clip&&!r.dontFinish&&t.clip(this.getFillRule()),E||(we.process(d,t,x,m,j.subtract(P).multiply(k)),Ne.release(t),r.offset=P)}}},_isUpdated:function(t){var r=this._parent;if(r instanceof je)return r._isUpdated(t);var s=this._updateVersion===t;return!s&&r&&r._visible&&r._isUpdated(t)&&(this._updateVersion=t,s=!0),s},_drawSelection:function(t,r,s,l,f){var c=this._selection,p=c&1,d=c&2||p&&this._selectBounds,m=c&4;if(this._drawSelected||(p=!1),(p||d||m)&&this._isUpdated(f)){var _,b=this.getSelectedColor(!0)||(_=this.getLayer())&&_.getSelectedColor(!0),E=r.appended(this.getGlobalMatrix(!0)),k=s/2;if(t.strokeStyle=t.fillStyle=b?b.toCanvasStyle(t):"#009dec",p&&this._drawSelected(t,E,l),m){var x=this.getPosition(!0),j=this._parent,P=j?j.localToGlobal(x):x,F=P.x,C=P.y;t.beginPath(),t.arc(F,C,k,0,Math.PI*2,!0),t.stroke();for(var L=[[0,-1],[1,0],[0,1],[-1,0]],w=k,T=s+1,B=0;B<4;B++){var V=L[B],R=V[0],$=V[1];t.moveTo(F+R*w,C+$*w),t.lineTo(F+R*T,C+$*T),t.stroke()}}if(d){var K=E._transformCorners(this.getInternalBounds());t.beginPath();for(var B=0;B<8;B++)t[B?"lineTo":"moveTo"](K[B],K[++B]);t.closePath(),t.stroke();for(var B=0;B<8;B++)t.fillRect(K[B]-k,K[++B]-k,s,s)}}},_canComposite:function(){return!1}},o.each(["down","drag","up","move"],function(t){this["removeOn"+o.capitalize(t)]=function(){var r={};return r[t]=!0,this.removeOn(r)}},{removeOn:function(t){for(var r in t)if(t[r]){var s="mouse"+r,l=this._project,f=l._removeSets=l._removeSets||{};f[s]=f[s]||{},f[s][this._id]=this}return this}}),{tween:function(t,r,s){s||(s=r,r=t,t=null,s||(s=r,r=null));var l=s&&s.easing,f=s&&s.start,c=s!=null&&(typeof s=="number"?s:s.duration),p=new ce(this,t,r,c,l,f);function d(m){p._handleFrame(m.time*1e3),p.running||this.off("frame",d)}return c&&this.on("frame",d),p},tweenTo:function(t,r){return this.tween(null,t,r)},tweenFrom:function(t,r){return this.tween(t,null,r)}}),le=ie.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||this.addChildren(Array.isArray(r)?r:arguments)},_changed:function t(r){t.base.call(this,r),r&2050&&(this._clipItem=i)},_getClipItem:function(){var t=this._clipItem;if(t===i){t=null;for(var r=this._children,s=0,l=r.length;s<l;s++)if(r[s]._clipMask){t=r[s];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var r=this.getFirstChild();r&&r.setClipMask(t)},_getBounds:function t(r,s){var l=this._getClipItem();return l?l._getCachedBounds(l._matrix.prepended(r),o.set({},s,{stroke:!1})):t.base.call(this,r,s)},_hitTestChildren:function t(r,s,l){var f=this._getClipItem();return(!f||f.contains(r))&&t.base.call(this,r,s,l,f)},_draw:function(t,r){var s=r.clip,l=!s&&this._getClipItem();r=r.extend({clipItem:l,clip:!1}),s?(t.beginPath(),r.dontStart=r.dontFinish=!0):l&&l.draw(t,r.extend({clip:!0}));for(var f=this._children,c=0,p=f.length;c<p;c++){var d=f[c];d!==l&&d.draw(t,r)}}}),me=le.extend({_class:"Layer",initialize:function(){le.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),pe=ie.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(r,s){this._initialize(r,s)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&o.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new Z(t.width,t.height,this,"setSize")},setSize:function(){var t=N.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var r=this._type,s=t.width,l=t.height;r==="rectangle"?this._radius.set(N.min(this._radius,t.divide(2).abs())):r==="circle"?(s=l=(s+l)/2,this._radius=s/2):r==="ellipse"&&this._radius._set(s/2,l/2),this._size._set(s,l),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new Z(t.width,t.height,this,"setRadius")},setRadius:function(t){var r=this._type;if(r==="circle"){if(t===this._radius)return;var s=t*2;this._radius=t,this._size._set(s,s)}else if(t=N.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),r==="rectangle"){var s=N.max(this._size,t.multiply(2));this._size.set(s)}else r==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var r=new ge[o.capitalize(this._type)]({center:new v,size:this._size,radius:this._radius,insert:!1});return r.copyAttributes(this),Pe.settings.applyMatrix&&r.setApplyMatrix(!0),(t===i||t)&&r.insertAbove(this),r},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,r,s,l){var f=this._style,c=f.hasFill(),p=f.hasStroke(),d=r.dontFinish||r.clip,m=!l;if(c||p||d){var _=this._type,b=this._radius,E=_==="circle";if(r.dontStart||t.beginPath(),m&&E)t.arc(0,0,b,0,Math.PI*2,!0);else{var k=E?b:b.width,x=E?b:b.height,j=this._size,P=j.width,F=j.height;if(m&&_==="rectangle"&&k===0&&x===0)t.rect(-P/2,-F/2,P,F);else{var C=P/2,L=F/2,w=1-.5522847498307936,T=k*w,B=x*w,V=[-C,-L+x,-C,-L+B,-C+T,-L,-C+k,-L,C-k,-L,C-T,-L,C,-L+B,C,-L+x,C,L-x,C,L-B,C-T,L,C-k,L,-C+k,L,-C+T,L,-C,L-B,-C,L-x];l&&l.transform(V,V,32),t.moveTo(V[0],V[1]),t.bezierCurveTo(V[2],V[3],V[4],V[5],V[6],V[7]),C!==k&&t.lineTo(V[8],V[9]),t.bezierCurveTo(V[10],V[11],V[12],V[13],V[14],V[15]),L!==x&&t.lineTo(V[16],V[17]),t.bezierCurveTo(V[18],V[19],V[20],V[21],V[22],V[23]),C!==k&&t.lineTo(V[24],V[25]),t.bezierCurveTo(V[26],V[27],V[28],V[29],V[30],V[31])}}t.closePath()}!d&&(c||p)&&(this._setStyles(t,r,s),c&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),p&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,r){var s=new S(this._size).setCenter(0,0),l=this._style,f=r.stroke&&l.hasStroke()&&l.getStrokeWidth();return t&&(s=t._transformBounds(s)),f?s.expand(ge._getStrokePadding(f,this._getStrokeMatrix(t,r))):s}},new function(){function t(s,l,f){var c=s._radius;if(!c.isZero())for(var p=s._size.divide(2),d=1;d<=4;d++){var m=new v(d>1&&d<4?-1:1,d>2?-1:1),_=m.multiply(p),b=_.subtract(m.multiply(c)),E=new S(f?_.add(m.multiply(f)):_,b);if(E.contains(l))return{point:b,quadrant:d}}}function r(s,l,f,c){var p=s.divide(l);return(!c||p.isInQuadrant(c))&&p.subtract(p.normalize()).multiply(l).divide(f).length<=1}return{_contains:function s(l){if(this._type==="rectangle"){var f=t(this,l);return f?l.subtract(f.point).divide(this._radius).getLength()<=1:s.base.call(this,l)}else return l.divide(this.size).getLength()<=.5},_hitTestSelf:function s(l,f,c,p){var d=!1,m=this._style,_=f.stroke&&m.hasStroke(),b=f.fill&&m.hasFill();if(_||b){var E=this._type,k=this._radius,x=_?m.getStrokeWidth()/2:0,j=f._tolerancePadding.add(ge._getStrokePadding(x,!m.getStrokeScaling()&&p));if(E==="rectangle"){var P=j.multiply(2),F=t(this,l,P);if(F)d=r(l.subtract(F.point),k,j,F.quadrant);else{var C=new S(this._size).setCenter(0,0),L=C.expand(P),w=C.expand(P.negate());d=L._containsPoint(l)&&!w._containsPoint(l)}}else d=r(l,k,j)}return d?new de(_?"stroke":"fill",this):s.base.apply(this,arguments)}}},{statics:new function(){function t(r,s,l,f,c){var p=o.create(pe.prototype);return p._type=r,p._size=l,p._radius=f,p._initialize(o.getNamed(c),s),p}return{Circle:function(){var r=arguments,s=v.readNamed(r,"center"),l=o.readNamed(r,"radius");return t("circle",s,new N(l*2),l,r)},Rectangle:function(){var r=arguments,s=S.readNamed(r,"rectangle"),l=N.min(N.readNamed(r,"radius"),s.getSize(!0).divide(2));return t("rectangle",s.getCenter(!0),s.getSize(!0),l,r)},Ellipse:function(){var r=arguments,s=pe._readEllipse(r),l=s.radius;return t("ellipse",s.center,l.multiply(2),l,r)},_readEllipse:function(r){var s,l;if(o.hasNamed(r,"radius"))s=v.readNamed(r,"center"),l=N.readNamed(r,"radius");else{var f=S.readNamed(r,"rectangle");s=f.getCenter(!0),l=f.getSize(!0).divide(2)}return{center:s,radius:l}}}}}),he=ie.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(r,s){if(!this._initialize(r,s!==i&&v.read(arguments))){var l,f=typeof r,c=f==="string"?u.getElementById(r):f==="object"?r:null;if(c&&c!==ie.NO_INSERT){if(c.getContext||c.naturalHeight!=null)l=c;else if(c){var p=N.read(arguments);p.isZero()||(l=Ne.getCanvas(p))}}l?this.setImage(l):this.setSource(r)}this._size||(this._size=new N,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var r=t._image,s=t._canvas;if(r)this._setImage(r);else if(s){var l=Ne.getCanvas(t._size);l.getContext("2d").drawImage(s,0,0),this._setImage(l)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new Z(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,r){var s=N.read(arguments);if(s.equals(this._size))r&&this.clear();else if(s.width>0&&s.height>0){var l=!r&&this.getElement();this._setImage(Ne.getCanvas(s)),l&&this.getContext(!0).drawImage(l,0,0,s.width,s.height)}else this._canvas&&Ne.release(this._canvas),this._size=s.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,r=new v(0,0).transform(t),s=new v(1,0).transform(t).subtract(r),l=new v(0,1).transform(t).subtract(r);return new N(72/s.getLength(),72/l.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var r=this;function s(l){var f=r.getView(),c=l&&l.type||"load";f&&r.responds(c)&&(Pe=f._scope,r.emit(c,new Gt(l)))}this._setImage(t),this._loaded?setTimeout(s,0):t&&ut.add(t,{load:function(l){r._setImage(t),s(l)},error:s})},_setImage:function(t){this._canvas&&Ne.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new N(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=Ne.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{Ne.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var r=new n.Image,s=this._crossOrigin;s&&(r.crossOrigin=s),t&&(r.src=t),this.setImage(r)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var r=this._image;r&&(r.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=S.read(arguments),r=Ne.getContext(t.getSize());return r.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),r.canvas},getSubRaster:function(){var t=S.read(arguments),r=new he(ie.NO_INSERT);return r._setImage(this.getSubCanvas(t)),r.translate(t.getCenter().subtract(this.getSize().divide(2))),r._matrix.prepend(this._matrix),r.insertAbove(this),r},toDataURL:function(){var t=this._image,r=t&&t.src;if(/^data:/.test(r))return r;var s=this.getCanvas();return s?s.toDataURL.apply(s,arguments):null},drawImage:function(t){var r=v.read(arguments,1);this.getContext(!0).drawImage(t,r.x,r.y)},getAverageColor:function(t){var r,s;if(t?t instanceof Me?(s=t,r=t.getBounds()):typeof t=="object"&&("width"in t?r=new S(t):"x"in t&&(r=new S(t.x-.5,t.y-.5,1,1))):r=this.getBounds(),!r)return null;var l=32,f=Math.min(r.width,l),c=Math.min(r.height,l),p=he._sampleContext;p?p.clearRect(0,0,l+1,l+1):p=he._sampleContext=Ne.getContext(new N(l)),p.save();var d=new A().scale(f/r.width,c/r.height).translate(-r.x,-r.y);d.applyToContext(p),s&&s.draw(p,new o({clip:!0,matrices:[d]})),this._matrix.applyToContext(p);var m=this.getElement(),_=this._size;m&&p.drawImage(m,-_.width/2,-_.height/2),p.restore();for(var b=p.getImageData(.5,.5,Math.ceil(f),Math.ceil(c)).data,E=[0,0,0],k=0,x=0,j=b.length;x<j;x+=4){var P=b[x+3];k+=P,P/=255,E[0]+=b[x]*P,E[1]+=b[x+1]*P,E[2]+=b[x+2]*P}for(var x=0;x<3;x++)E[x]/=k;return k?Fe.read(E):null},getPixel:function(){var t=v.read(arguments),r=this.getContext().getImageData(t.x,t.y,1,1).data;return new Fe("rgb",[r[0]/255,r[1]/255,r[2]/255],r[3]/255)},setPixel:function(){var t=arguments,r=v.read(t),s=Fe.read(t),l=s._convert("rgb"),f=s._alpha,c=this.getContext(!0),p=c.createImageData(1,1),d=p.data;d[0]=l[0]*255,d[1]=l[1]*255,d[2]=l[2]*255,d[3]=f!=null?f*255:255,c.putImageData(p,r.x,r.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=N.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=S.read(arguments);return t.isEmpty()&&(t=new S(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var r=v.read(arguments,1);this.getContext(!0).putImageData(t,r.x,r.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,r){var s=new S(this._size).setCenter(0,0);return t?t._transformBounds(s):s},_hitTestSelf:function(t){if(this._contains(t)){var r=this;return new de("pixel",r,{offset:t.add(r._size.divide(2)).round(),color:{get:function(){return r.getPixel(this.offset)}}})}},_draw:function(t,r,s){var l=this.getElement();if(l&&l.width>0&&l.height>0){t.globalAlpha=D.clamp(this._opacity,0,1),this._setStyles(t,r,s);var f=this._smoothing,c=f==="off";Xe.setPrefixed(t,c?"imageSmoothingEnabled":"imageSmoothingQuality",c?!1:f),t.drawImage(l,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),xe=ie.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(r,s){this._initialize(r,s!==i&&v.read(arguments,1))||this.setDefinition(r instanceof Q?r:new Q(r))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,r){var s=this._definition._item;return s._getCachedBounds(s._matrix.prepended(t),r)},_hitTestSelf:function(t,r,s){var l=r.extend({all:!1}),f=this._definition._item._hitTest(t,l,s);return f&&(f.item=this),f},_draw:function(t,r){this._definition._item.draw(t,r)}}),Q=o.extend({_class:"SymbolDefinition",initialize:function(r,s){this._id=W.get(),this.project=Pe.project,r&&this.setItem(r,s)},_serialize:function(t,r){return r.add(this,function(){return o.serialize([this._class,this._item],t,!1,r)})},_changed:function(t){t&8&&ie._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,r){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),r||t.setPosition(new v),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new xe(this,t)},clone:function(){return new Q(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),de=o.extend({_class:"HitResult",initialize:function(r,s,l){this.type=r,this.item=s,l&&this.inject(l)},statics:{getOptions:function(t){var r=t&&o.read(t);return new o({type:null,tolerance:Pe.settings.hitTolerance,fill:!r,stroke:!r,segments:!r,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},r)}}}),O=o.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(r,s,l,f,c,p){var d=arguments.length,m,_,b,E;d>0&&(r==null||typeof r=="object"?d===1&&r&&"point"in r?(m=r.point,_=r.handleIn,b=r.handleOut,E=r.selection):(m=r,_=s,b=l,E=f):(m=[r,s],_=l!==i?[l,f]:null,b=c!==i?[c,p]:null)),new be(m,this,"_point"),new be(_,this,"_handleIn"),new be(b,this,"_handleOut"),E&&this.setSelection(E)},_serialize:function(t,r){var s=this._point,l=this._selection,f=l||this.hasHandles()?[s,this._handleIn,this._handleOut]:s;return l&&f.push(l),o.serialize(f,t,!0,r)},_changed:function(t){var r=this._path;if(r){var s=r._curves,l=this._index,f;s&&((!t||t===this._point||t===this._handleIn)&&(f=l>0?s[l-1]:r._closed?s[s.length-1]:null)&&f._changed(),(!t||t===this._point||t===this._handleOut)&&(f=s[l])&&f._changed()),r._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(v.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(v.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(v.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,r=this._handleOut;return!t.isZero()&&!r.isZero()&&t.isCollinear(r)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var r=this._selection,s=this._path;this._selection=t=t||0,s&&t!==r&&(s._updateSelection(this,r,t),s._changed(257))},_changeSelection:function(t,r){var s=this._selection;this.setSelection(r?s|t:s&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==i?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,r=this._index;return t?(r>0&&!t._closed&&r===t._segments.length-1&&r--,t.getCurves()[r]||null):null},getLocation:function(){var t=this.getCurve();return t?new Te(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,r,s){var l=t||{},f=l.type,c=l.factor,p=this.getPrevious(),d=this.getNext(),m=(p||this)._point,_=this._point,b=(d||this)._point,E=m.getDistance(_),k=_.getDistance(b);if(!f||f==="catmull-rom"){var x=c===i?.5:c,j=Math.pow(E,x),P=j*j,F=Math.pow(k,x),C=F*F;if(!r&&p){var L=2*C+3*F*j+P,w=3*F*(F+j);this.setHandleIn(w!==0?new v((C*m._x+L*_._x-P*b._x)/w-_._x,(C*m._y+L*_._y-P*b._y)/w-_._y):new v)}if(!s&&d){var L=2*P+3*j*F+C,w=3*j*(j+F);this.setHandleOut(w!==0?new v((P*b._x+L*_._x-C*m._x)/w-_._x,(P*b._y+L*_._y-C*m._y)/w-_._y):new v)}}else if(f==="geometric"){if(p&&d){var T=m.subtract(b),B=c===i?.4:c,V=B*E/(E+k);r||this.setHandleIn(T.multiply(V)),s||this.setHandleOut(T.multiply(V-B))}}else throw new Error("Smoothing method '"+f+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,r=this._handleOut,s=t.clone();t.set(r),r.set(s)},reversed:function(){return new O(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new O(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,r,s){var l=1-s,f=s,c=t._point,p=r._point,d=t._handleIn,m=r._handleIn,_=r._handleOut,b=t._handleOut;this._point._set(l*c._x+f*p._x,l*c._y+f*p._y,!0),this._handleIn._set(l*d._x+f*m._x,l*d._y+f*m._y,!0),this._handleOut._set(l*b._x+f*_._x,l*b._y+f*_._y,!0),this._changed()},_transformCoordinates:function(t,r,s){var l=this._point,f=!s||!this._handleIn.isZero()?this._handleIn:null,c=!s||!this._handleOut.isZero()?this._handleOut:null,p=l._x,d=l._y,m=2;return r[0]=p,r[1]=d,f&&(r[m++]=f._x+p,r[m++]=f._y+d),c&&(r[m++]=c._x+p,r[m++]=c._y+d),t&&(t._transformCoordinates(r,r,m/2),p=r[0],d=r[1],s?(l._x=p,l._y=d,m=2,f&&(f._x=r[m++]-p,f._y=r[m++]-d),c&&(c._x=r[m++]-p,c._y=r[m++]-d)):(f||(r[m++]=p,r[m++]=d),c||(r[m++]=p,r[m++]=d))),r}}),be=v.extend({initialize:function(r,s,l){var f,c,p;if(!r)f=c=0;else if((f=r[0])!==i)c=r[1];else{var d=r;(f=d.x)===i&&(d=v.read(arguments),f=d.x),c=d.y,p=d.selected}this._x=f,this._y=c,this._owner=s,s[l]=this,p&&this.setSelected(!0)},_set:function(t,r){return this._x=t,this._y=r,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=D.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),ke=o.extend({_class:"Curve",beans:!0,initialize:function(r,s,l,f,c,p,d,m){var _=arguments.length,b,E,k,x,j,P;_===3?(this._path=r,b=s,E=l):_?_===1?"segment1"in r?(b=new O(r.segment1),E=new O(r.segment2)):"point1"in r?(k=r.point1,j=r.handle1,P=r.handle2,x=r.point2):Array.isArray(r)&&(k=[r[0],r[1]],x=[r[6],r[7]],j=[r[2]-r[0],r[3]-r[1]],P=[r[4]-r[6],r[5]-r[7]]):_===2?(b=new O(r),E=new O(s)):_===4?(k=r,j=s,P=l,x=f):_===8&&(k=[r,s],x=[d,m],j=[l-r,f-s],P=[c-d,p-m]):(b=new O,E=new O),this._segment1=b||new O(k,null,j),this._segment2=E||new O(x,P,null)},_serialize:function(t,r){return o.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,r)},_changed:function(){this._length=this._bounds=i},clone:function(){return new ke(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return ke.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var r=this._segment2,s=r._handleOut;t=r.remove(),t&&this._segment1._handleOut.set(s)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(v.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(v.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(v.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(v.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return ke.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),r=[],s=0;s<8;s+=2)r.push(new v(t[s],t[s+1]));return r}},{getLength:function(){return this._length==null&&(this._length=ke.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ke.getArea(this.getValues())},getLine:function(){return new G(this._segment1._point,this._segment2._point)},getPart:function(t,r){return new ke(ke.getPart(this.getValues(),t,r))},getPartLength:function(t,r){return ke.getLength(this.getValues(),t,r)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,r){var s=1e-8,l=1-s,f=null;if(t>=s&&t<=l){var c=ke.subdivide(this.getValues(),t),p=c[0],d=c[1],m=r||this.hasHandles(),_=this._segment1,b=this._segment2,E=this._path;m&&(_._handleOut._set(p[2]-p[0],p[3]-p[1]),b._handleIn._set(d[4]-d[6],d[5]-d[7]));var k=p[6],x=p[7],j=new O(new v(k,x),m&&new v(p[4]-k,p[5]-x),m&&new v(d[2]-k,d[3]-x));E?(E.insert(_._index+1,j),f=this.getNext()):(this._segment2=j,this._changed(),f=new ke(j,b))}return f},splitAt:function(t){var r=this._path;return r?r.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,r){return this.divideAtTime(t===i?.5:r?t:this.getTimeAt(t))},split:function(t,r){return this.splitAtTime(t===i?.5:r?t:this.getTimeAt(t))},reversed:function(){return new ke(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,r,s,l){var f=t._point,c=t._handleOut,p=r._handleIn,d=r._point,m=f.x,_=f.y,b=d.x,E=d.y,k=l?[m,_,m,_,b,E,b,E]:[m,_,m+c._x,_+c._y,b+p._x,E+p._y,b,E];return s&&s._transformCoordinates(k,k,4),k},subdivide:function(t,r){var s=t[0],l=t[1],f=t[2],c=t[3],p=t[4],d=t[5],m=t[6],_=t[7];r===i&&(r=.5);var b=1-r,E=b*s+r*f,k=b*l+r*c,x=b*f+r*p,j=b*c+r*d,P=b*p+r*m,F=b*d+r*_,C=b*E+r*x,L=b*k+r*j,w=b*x+r*P,T=b*j+r*F,B=b*C+r*w,V=b*L+r*T;return[[s,l,E,k,C,L,B,V],[B,V,w,T,P,F,m,_]]},getMonoCurves:function(t,r){var s=[],l=r?0:1,f=t[l+0],c=t[l+2],p=t[l+4],d=t[l+6];if(f>=c==c>=p&&c>=p==p>=d||ke.isStraight(t))s.push(t);else{var m=3*(c-p)-f+d,_=2*(f+p)-4*c,b=c-f,E=1e-8,k=1-E,x=[],j=D.solveQuadratic(m,_,b,x,E,k);if(!j)s.push(t);else{x.sort();var P=x[0],F=ke.subdivide(t,P);s.push(F[0]),j>1&&(P=(x[1]-P)/(1-P),F=ke.subdivide(F[1],P),s.push(F[0])),s.push(F[1])}}return s},solveCubic:function(t,r,s,l,f,c){var p=t[r],d=t[r+2],m=t[r+4],_=t[r+6],b=0;if(!(p<s&&_<s&&d<s&&m<s||p>s&&_>s&&d>s&&m>s)){var E=3*(d-p),k=3*(m-d)-E,x=_-p-E-k;b=D.solveCubic(x,k,E,p-s,l,f,c)}return b},getTimeOf:function(t,r){var s=new v(t[0],t[1]),l=new v(t[6],t[7]),f=1e-12,c=1e-7,p=r.isClose(s,f)?0:r.isClose(l,f)?1:null;if(p===null)for(var d=[r.x,r.y],m=[],_=0;_<2;_++)for(var b=ke.solveCubic(t,_,d[_],m,0,1),E=0;E<b;E++){var k=m[E];if(r.isClose(ke.getPoint(t,k),c))return k}return r.isClose(s,c)?0:r.isClose(l,c)?1:null},getNearestTime:function(t,r){if(ke.isStraight(t)){var s=t[0],l=t[1],f=t[6],c=t[7],p=f-s,d=c-l,m=p*p+d*d;if(m===0)return 0;var _=((r.x-s)*p+(r.y-l)*d)/m;return _<1e-12?0:_>.999999999999?1:ke.getTimeOf(t,new v(s+_*p,l+_*d))}var b=100,E=1/0,k=0;function x(F){if(F>=0&&F<=1){var C=r.getDistance(ke.getPoint(t,F),!0);if(C<E)return E=C,k=F,!0}}for(var j=0;j<=b;j++)x(j/b);for(var P=1/(b*2);P>1e-8;)!x(k-P)&&!x(k+P)&&(P/=2);return k},getPart:function(t,r,s){var l=r>s;if(l){var f=r;r=s,s=f}return r>0&&(t=ke.subdivide(t,r)[1]),s<1&&(t=ke.subdivide(t,(s-r)/(1-r))[0]),l?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,r){var s=t[0],l=t[1],f=t[2],c=t[3],p=t[4],d=t[5],m=t[6],_=t[7],b=3*f-2*s-m,E=3*c-2*l-_,k=3*p-2*m-s,x=3*d-2*_-l;return Math.max(b*b,k*k)+Math.max(E*E,x*x)<=16*r*r},getArea:function(t){var r=t[0],s=t[1],l=t[2],f=t[3],c=t[4],p=t[5],d=t[6],m=t[7];return 3*((m-s)*(l+c)-(d-r)*(f+p)+f*(r-c)-l*(s-p)+m*(c+r/3)-d*(p+s/3))/20},getBounds:function(t){for(var r=t.slice(0,2),s=r.slice(),l=[0,0],f=0;f<2;f++)ke._addBounds(t[f],t[f+2],t[f+4],t[f+6],f,0,r,s,l);return new S(r[0],r[1],s[0]-r[0],s[1]-r[1])},_addBounds:function(t,r,s,l,f,c,p,d,m){function _(B,V){var R=B-V,$=B+V;R<p[f]&&(p[f]=R),$>d[f]&&(d[f]=$)}c/=2;var b=p[f]+c,E=d[f]-c;if(t<b||r<b||s<b||l<b||t>E||r>E||s>E||l>E)if(r<t!=r<l&&s<t!=s<l)_(t,0),_(l,0);else{var k=3*(r-s)-t+l,x=2*(t+s)-4*r,j=r-t,P=D.solveQuadratic(k,x,j,m),F=1e-8,C=1-F;_(l,0);for(var L=0;L<P;L++){var w=m[L],T=1-w;F<=w&&w<=C&&_(T*T*T*t+3*T*T*w*r+3*T*w*w*s+w*w*w*l,c)}}}}},o.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var r=this._bounds[t];return r||(r=this._bounds[t]=ge[t]([this._segment1,this._segment2],!1,this._path)),r.clone()}},{}),o.each({isStraight:function(t,r,s,l){if(r.isZero()&&s.isZero())return!0;var f=l.subtract(t);if(f.isZero())return!1;if(f.isCollinear(r)&&f.isCollinear(s)){var c=new G(t,l),p=1e-7;if(c.getDistance(t.add(r))<p&&c.getDistance(l.add(s))<p){var d=f.dot(f),m=f.dot(r)/d,_=f.dot(s)/d;return m>=0&&m<=1&&_<=0&&_>=-1}}return!1},isLinear:function(t,r,s,l){var f=l.subtract(t).divide(3);return r.equals(f)&&s.negate().equals(f)}},function(t,r){this[r]=function(s){var l=this._segment1,f=this._segment2;return t(l._point,l._handleOut,f._handleIn,f._point,s)},this.statics[r]=function(s,l){var f=s[0],c=s[1],p=s[6],d=s[7];return t(new v(f,c),new v(s[2]-f,s[3]-c),new v(s[4]-p,s[5]-d),new v(p,d),l)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,r){return this.getLocationAtTime(r?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new Te(this,t):null},getTimeAt:function(t,r){return ke.getTimeAt(this.getValues(),t,r)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=v.read(arguments);return t.isZero()?[]:ke.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(v.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return ke.getTimeOf(this.getValues(),v.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=v.read(arguments),r=this.getValues(),s=ke.getNearestTime(r,t),l=ke.getPoint(r,s);return new Te(this,s,l,null,t.getDistance(l))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return o.each(t,function(r){this[r+"At"]=function(s,l){var f=this.getValues();return ke[r](f,l?s:ke.getTimeAt(f,s))},this[r+"AtTime"]=function(s){return ke[r](this.getValues(),s)}},{statics:{_evaluateMethods:t}})},new function(){function t(l){var f=l[0],c=l[1],p=l[2],d=l[3],m=l[4],_=l[5],b=l[6],E=l[7],k=9*(p-m)+3*(b-f),x=6*(f+m)-12*p,j=3*(p-f),P=9*(d-_)+3*(E-c),F=6*(c+_)-12*d,C=3*(d-c);return function(L){var w=(k*L+x)*L+j,T=(P*L+F)*L+C;return Math.sqrt(w*w+T*T)}}function r(l,f){return Math.max(2,Math.min(16,Math.ceil(Math.abs(f-l)*32)))}function s(l,f,c,p){if(f==null||f<0||f>1)return null;var d=l[0],m=l[1],_=l[2],b=l[3],E=l[4],k=l[5],x=l[6],j=l[7],P=D.isZero;P(_-d)&&P(b-m)&&(_=d,b=m),P(E-x)&&P(k-j)&&(E=x,k=j);var F=3*(_-d),C=3*(E-_)-F,L=x-d-F-C,w=3*(b-m),T=3*(k-b)-w,B=j-m-w-T,V,R;if(c===0)V=f===0?d:f===1?x:((L*f+C)*f+F)*f+d,R=f===0?m:f===1?j:((B*f+T)*f+w)*f+m;else{var $=1e-8,K=1-$;if(f<$?(V=F,R=w):f>K?(V=3*(x-E),R=3*(j-k)):(V=(3*L*f+2*C)*f+F,R=(3*B*f+2*T)*f+w),p){V===0&&R===0&&(f<$||f>K)&&(V=E-_,R=k-b);var Y=Math.sqrt(V*V+R*R);Y&&(V/=Y,R/=Y)}if(c===3){var E=6*L*f+2*C,k=6*B*f+2*T,se=Math.pow(V*V+R*R,3/2);V=se!==0?(V*k-R*E)/se:0,R=0}}return c===2?new v(R,-V):new v(V,R)}return{statics:{classify:function(l){var f=l[0],c=l[1],p=l[2],d=l[3],m=l[4],_=l[5],b=l[6],E=l[7],k=f*(E-_)+c*(m-b)+b*_-E*m,x=p*(c-E)+d*(b-f)+f*E-c*b,j=m*(d-c)+_*(f-p)+p*c-d*f,P=3*j,F=P-x,C=F-x+k,L=Math.sqrt(C*C+F*F+P*P),w=L!==0?1/L:0,T=D.isZero,B="serpentine";C*=w,F*=w,P*=w;function V(Y,se,q){var re=se!==i,ae=re&&se>0&&se<1,ue=re&&q>0&&q<1;return re&&(!(ae||ue)||Y==="loop"&&!(ae&&ue))&&(Y="arch",ae=ue=!1),{type:Y,roots:ae||ue?ae&&ue?se<q?[se,q]:[q,se]:[ae?se:q]:null}}if(T(C))return T(F)?V(T(P)?"line":"quadratic"):V(B,P/(3*F));var R=3*F*F-4*C*P;if(T(R))return V("cusp",F/(2*C));var $=R>0?Math.sqrt(R/3):Math.sqrt(-R),K=2*C;return V(R>0?B:"loop",(F+$)/K,(F-$)/K)},getLength:function(l,f,c,p){if(f===i&&(f=0),c===i&&(c=1),ke.isStraight(l)){var d=l;c<1&&(d=ke.subdivide(d,c)[0],f/=c),f>0&&(d=ke.subdivide(d,f)[1]);var m=d[6]-d[0],_=d[7]-d[1];return Math.sqrt(m*m+_*_)}return D.integrate(p||t(l),f,c,r(f,c))},getTimeAt:function(l,f,c){if(c===i&&(c=f<0?1:0),f===0)return c;var p=Math.abs,d=1e-12,m=f>0,_=m?c:0,b=m?1:c,E=t(l),k=ke.getLength(l,_,b,E),x=p(f)-k;if(p(x)<d)return m?b:_;if(x>d)return null;var j=f/k,P=0;function F(C){return P+=D.integrate(E,c,C,r(c,C)),c=C,P-f}return D.findRoot(F,E,c+j,_,b,32,1e-12)},getPoint:function(l,f){return s(l,f,0,!1)},getTangent:function(l,f){return s(l,f,1,!0)},getWeightedTangent:function(l,f){return s(l,f,1,!1)},getNormal:function(l,f){return s(l,f,2,!0)},getWeightedNormal:function(l,f){return s(l,f,2,!1)},getCurvature:function(l,f){return s(l,f,3,!1).x},getPeaks:function(l){var f=l[0],c=l[1],p=l[2],d=l[3],m=l[4],_=l[5],b=l[6],E=l[7],k=-f+3*p-3*m+b,x=3*f-6*p+3*m,j=-3*f+3*p,P=-c+3*d-3*_+E,F=3*c-6*d+3*_,C=-3*c+3*d,L=1e-8,w=1-L,T=[];return D.solveCubic(9*(k*k+P*P),9*(k*x+F*P),2*(x*x+F*F)+3*(j*k+C*P),j*x+F*C,T,L,w),T.sort()}}}},new function(){function t(x,j,P,F,C,L,w){var T=!w&&P.getPrevious()===C,B=!w&&P!==C&&P.getNext()===C,V=1e-8,R=1-V;if(F!==null&&F>=(T?V:0)&&F<=(B?R:1)&&L!==null&&L>=(B?V:0)&&L<=(T?R:1)){var $=new Te(P,F,null,w),K=new Te(C,L,null,w);$._intersection=K,K._intersection=$,(!j||j($))&&Te.insert(x,$,!0)}}function r(x,j,P,F,C,L,w,T,B,V,R,$,K){if(++B>=4096||++T>=40)return B;var Y=1e-9,se=j[0],q=j[1],re=j[6],ae=j[7],ue=G.getSignedDistance,fe=ue(se,q,re,ae,j[2],j[3]),ye=ue(se,q,re,ae,j[4],j[5]),Ae=fe*ye>0?3/4:4/9,De=Ae*Math.min(0,fe,ye),Ue=Ae*Math.max(0,fe,ye),He=ue(se,q,re,ae,x[0],x[1]),Ee=ue(se,q,re,ae,x[2],x[3]),ze=ue(se,q,re,ae,x[4],x[5]),We=ue(se,q,re,ae,x[6],x[7]),$e=s(He,Ee,ze,We),Ze=$e[0],Ye=$e[1],Qe,rt;if(fe===0&&ye===0&&He===0&&Ee===0&&ze===0&&We===0||(Qe=l(Ze,Ye,De,Ue))==null||(rt=l(Ze.reverse(),Ye.reverse(),De,Ue))==null)return B;var at=V+(R-V)*Qe,nt=V+(R-V)*rt;if(Math.max(K-$,nt-at)<Y){var Mt=(at+nt)/2,At=($+K)/2;t(C,L,w?F:P,w?At:Mt,w?P:F,w?Mt:At)}else{x=ke.getPart(x,Qe,rt);var Wt=K-$;if(rt-Qe>.8)if(nt-at>Wt){var zt=ke.subdivide(x,.5),Mt=(at+nt)/2;B=r(j,zt[0],F,P,C,L,!w,T,B,$,K,at,Mt),B=r(j,zt[1],F,P,C,L,!w,T,B,$,K,Mt,nt)}else{var zt=ke.subdivide(j,.5),At=($+K)/2;B=r(zt[0],x,F,P,C,L,!w,T,B,$,At,at,nt),B=r(zt[1],x,F,P,C,L,!w,T,B,At,K,at,nt)}else Wt===0||Wt>=Y?B=r(j,x,F,P,C,L,!w,T,B,$,K,at,nt):B=r(x,j,P,F,C,L,w,T,B,at,nt,$,K)}return B}function s(x,j,P,F){var C=[0,x],L=[1/3,j],w=[2/3,P],T=[1,F],B=j-(2*x+F)/3,V=P-(x+2*F)/3,R;if(B*V<0)R=[[C,L,T],[C,w,T]];else{var $=B/V;R=[$>=2?[C,L,T]:$<=.5?[C,w,T]:[C,L,w,T],[C,T]]}return(B||V)<0?R.reverse():R}function l(x,j,P,F){return x[0][1]<P?f(x,!0,P):j[0][1]>F?f(j,!1,F):x[0][0]}function f(x,j,P){for(var F=x[0][0],C=x[0][1],L=1,w=x.length;L<w;L++){var T=x[L][0],B=x[L][1];if(j?B>=P:B<=P)return B===P?T:F+(P-C)*(T-F)/(B-C);F=T,C=B}return null}function c(x,j,P,F,C){var L=D.isZero;if(L(F)&&L(C)){var w=ke.getTimeOf(x,new v(j,P));return w===null?[]:[w]}for(var T=Math.atan2(-C,F),B=Math.sin(T),V=Math.cos(T),R=[],$=[],K=0;K<8;K+=2){var Y=x[K]-j,se=x[K+1]-P;R.push(Y*V-se*B,Y*B+se*V)}return ke.solveCubic(R,1,0,$,0,1),$}function p(x,j,P,F,C,L,w){for(var T=j[0],B=j[1],V=j[6],R=j[7],$=c(x,T,B,V-T,R-B),K=0,Y=$.length;K<Y;K++){var se=$[K],q=ke.getPoint(x,se),re=ke.getTimeOf(j,q);re!==null&&t(C,L,w?F:P,w?re:se,w?P:F,w?se:re)}}function d(x,j,P,F,C,L){var w=G.intersect(x[0],x[1],x[6],x[7],j[0],j[1],j[6],j[7]);w&&t(C,L,P,ke.getTimeOf(x,w),F,ke.getTimeOf(j,w))}function m(x,j,P,F,C,L){var w=1e-12,T=Math.min,B=Math.max;if(B(x[0],x[2],x[4],x[6])+w>T(j[0],j[2],j[4],j[6])&&T(x[0],x[2],x[4],x[6])-w<B(j[0],j[2],j[4],j[6])&&B(x[1],x[3],x[5],x[7])+w>T(j[1],j[3],j[5],j[7])&&T(x[1],x[3],x[5],x[7])-w<B(j[1],j[3],j[5],j[7])){var V=E(x,j);if(V)for(var R=0;R<2;R++){var $=V[R];t(C,L,P,$[0],F,$[1],!0)}else{var K=ke.isStraight(x),Y=ke.isStraight(j),se=K&&Y,q=K&&!Y,re=C.length;if((se?d:K||Y?p:r)(q?j:x,q?x:j,q?F:P,q?P:F,C,L,q,0,0,0,1,0,1),!se||C.length===re)for(var R=0;R<4;R++){var ae=R>>1,ue=R&1,fe=ae*6,ye=ue*6,Ae=new v(x[fe],x[fe+1]),De=new v(j[ye],j[ye+1]);Ae.isClose(De,w)&&t(C,L,P,ae,F,ue)}}}return C}function _(x,j,P,F){var C=ke.classify(x);if(C.type==="loop"){var L=C.roots;t(P,F,j,L[0],j,L[1])}return P}function b(x,j,P,F,C,L){var w=1e-7,T=!j;T&&(j=x);for(var B=x.length,V=j.length,R=new Array(B),$=T?R:new Array(V),K=[],Y=0;Y<B;Y++)R[Y]=x[Y].getValues(F);if(!T)for(var Y=0;Y<V;Y++)$[Y]=j[Y].getValues(C);for(var se=I.findCurveBoundsCollisions(R,$,w),q=0;q<B;q++){var re=x[q],ae=R[q];T&&_(ae,re,K,P);var ue=se[q];if(ue)for(var fe=0;fe<ue.length;fe++){if(L&&K.length)return K;var ye=ue[fe];if(!T||ye>q){var Ae=j[ye],De=$[ye];m(ae,De,re,Ae,K,P)}}}return K}function E(x,j){function P(We){var $e=We[6]-We[0],Ze=We[7]-We[1];return $e*$e+Ze*Ze}var F=Math.abs,C=G.getDistance,L=1e-8,w=1e-7,T=ke.isStraight(x),B=ke.isStraight(j),V=T&&B,R=P(x)<P(j),$=R?j:x,K=R?x:j,Y=$[0],se=$[1],q=$[6]-Y,re=$[7]-se;if(C(Y,se,q,re,K[0],K[1],!0)<w&&C(Y,se,q,re,K[6],K[7],!0)<w)!V&&C(Y,se,q,re,$[2],$[3],!0)<w&&C(Y,se,q,re,$[4],$[5],!0)<w&&C(Y,se,q,re,K[2],K[3],!0)<w&&C(Y,se,q,re,K[4],K[5],!0)<w&&(T=B=V=!0);else if(V)return null;if(T^B)return null;for(var ae=[x,j],ue=[],fe=0;fe<4&&ue.length<2;fe++){var ye=fe&1,Ae=ye^1,De=fe>>1,Ue=ke.getTimeOf(ae[ye],new v(ae[Ae][De?6:0],ae[Ae][De?7:1]));if(Ue!=null){var He=ye?[De,Ue]:[Ue,De];(!ue.length||F(He[0]-ue[0][0])>L&&F(He[1]-ue[0][1])>L)&&ue.push(He)}if(fe>2&&!ue.length)break}if(ue.length!==2)ue=null;else if(!V){var Ee=ke.getPart(x,ue[0][0],ue[1][0]),ze=ke.getPart(j,ue[0][1],ue[1][1]);(F(ze[2]-Ee[2])>w||F(ze[3]-Ee[3])>w||F(ze[4]-Ee[4])>w||F(ze[5]-Ee[5])>w)&&(ue=null)}return ue}function k(x,j){var P=x[0],F=x[1],C=x[2],L=x[3],w=x[4],T=x[5],B=x[6],V=x[7],R=j.normalize(),$=R.x,K=R.y,Y=3*B-9*w+9*C-3*P,se=3*V-9*T+9*L-3*F,q=6*w-12*C+6*P,re=6*T-12*L+6*F,ae=3*C-3*P,ue=3*L-3*F,fe=2*Y*K-2*se*$,ye=[];if(Math.abs(fe)<D.CURVETIME_EPSILON){var Ae=Y*ue-se*ae,fe=Y*re-se*q;if(fe!=0){var De=-Ae/fe;De>=0&&De<=1&&ye.push(De)}}else{var Ue=(q*q-4*Y*ae)*K*K+(-2*q*re+4*se*ae+4*Y*ue)*$*K+(re*re-4*se*ue)*$*$,He=q*K-re*$;if(Ue>=0&&fe!=0){var Ee=Math.sqrt(Ue),ze=-(He+Ee)/fe,We=(-He+Ee)/fe;ze>=0&&ze<=1&&ye.push(ze),We>=0&&We<=1&&ye.push(We)}}return ye}return{getIntersections:function(x){var j=this.getValues(),P=x&&x!==this&&x.getValues();return P?m(j,P,this,x,[]):_(j,this,[])},statics:{getOverlaps:E,getIntersections:b,getCurveLineIntersections:c,getTimesWithTangent:k}}}),Te=o.extend({_class:"CurveLocation",initialize:function(r,s,l,f,c){if(s>=.99999999){var p=r.getNext();p&&(s=0,r=p)}this._setCurve(r),this._time=s,this._point=l||r.getPointAtTime(s),this._overlap=f,this._distance=c,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var r=t.getCurve();r?this._setCurve(r):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var r=this.getCurve(),s=this.getTime();s===0?t=r._segment1:s===1?t=r._segment2:s!=null&&(t=r.getPartLength(0,s)<r.getPartLength(s,1)?r._segment1:r._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,r=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function s(l){var f=l&&l.getCurve();if(f&&(r._time=f.getTimeOf(r._point))!=null)return r._setCurve(f),f}return this._curve||s(this._segment)||s(this._segment1)||s(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),r=this._time;return t&&r==null?this._time=t.getTimeOf(this._point):r},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var r=this.getPath(),s=this.getIndex();if(r&&s!=null)for(var l=r.getCurves(),f=0;f<s;f++)t+=l[f].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var r=this.getCurve(),s=this.getTime();this._curveOffset=t=s!=null&&r&&r.getPartLength(0,s)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),r=t&&t.divideAtTime(this.getTime());return r&&this._setSegment(r._segment1),r},split:function(){var t=this.getCurve(),r=t._path,s=t&&t.splitAtTime(this.getTime());return s&&this._setSegment(r.getLastSegment()),s},equals:function(t,r){var s=this===t;if(!s&&t instanceof Te){var l=this.getCurve(),f=t.getCurve(),c=l._path,p=f._path;if(c===p){var d=Math.abs,m=1e-7,_=d(this.getOffset()-t.getOffset()),b=!r&&this._intersection,E=!r&&t._intersection;s=(_<m||c&&d(c.getLength()-_)<m)&&(!b&&!E||b&&E&&b.equals(E,!0))}}return s},toString:function(){var t=[],r=this.getPoint(),s=U.instance;r&&t.push("point: "+r);var l=this.getIndex();l!=null&&t.push("index: "+l);var f=this.getTime();return f!=null&&t.push("time: "+s.number(f)),this._distance!=null&&t.push("distance: "+s.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var r=this.getCurve(),s=t.getCurve();return!(r.isStraight()&&s.isStraight()&&r.getLine().intersect(s.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var r=this.getTime(),s=t.getTime(),l=1e-8,f=1-l,c=r>=l&&r<=f,p=s>=l&&s<=f;if(c&&p)return!this.isTouching();var d=this.getCurve(),m=d&&r<l?d.getPrevious():d,_=t.getCurve(),b=_&&s<l?_.getPrevious():_;if(r>f&&(d=d.getNext()),s>f&&(_=_.getNext()),!m||!d||!b||!_)return!1;var E=[];function k($,K){var Y=$.getValues(),se=ke.classify(Y).roots||ke.getPeaks(Y),q=se.length,re=ke.getLength(Y,K&&q?se[q-1]:0,!K&&q?se[0]:1);E.push(q?re:re/32)}function x($,K,Y){return K<Y?$>K&&$<Y:$>K||$<Y}c||(k(m,!0),k(d,!1)),p||(k(b,!0),k(_,!1));var j=this.getPoint(),P=Math.min.apply(Math,E),F=c?d.getTangentAtTime(r):d.getPointAt(P).subtract(j),C=c?F.negate():m.getPointAt(-P).subtract(j),L=p?_.getTangentAtTime(s):_.getPointAt(P).subtract(j),w=p?L.negate():b.getPointAt(-P).subtract(j),T=C.getAngle(),B=F.getAngle(),V=w.getAngle(),R=L.getAngle();return!!(c?x(T,V,R)^x(B,V,R)&&x(T,R,V)^x(B,R,V):x(V,T,B)^x(R,T,B)&&x(V,B,T)^x(R,B,T))},hasOverlap:function(){return!!this._overlap}},o.each(ke._evaluateMethods,function(t){var r=t+"At";this[t]=function(){var s=this.getCurve(),l=this.getTime();return l!=null&&s&&s[r](l,!0)}},{preserve:!0}),new function(){function t(r,s,l){var f=r.length,c=0,p=f-1;function d(j,P){for(var F=j+P;F>=-1&&F<=f;F+=P){var C=r[(F%f+f)%f];if(!s.getPoint().isClose(C.getPoint(),1e-7))break;if(s.equals(C))return C}return null}for(;c<=p;){var m=c+p>>>1,_=r[m],b;if(l&&(b=s.equals(_)?_:d(m,-1)||d(m,1)))return s._overlap&&(b._overlap=b._intersection._overlap=!0),b;var E=s.getPath(),k=_.getPath(),x=E!==k?E._id-k._id:s.getIndex()+s.getTime()-(_.getIndex()+_.getTime());x<0?p=m-1:c=m+1}return r.splice(c,0,s),s}return{statics:{insert:t,expand:function(r){for(var s=r.slice(),l=r.length-1;l>=0;l--)t(s,r[l]._intersection,!1);return s}}}}),Me=ie.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var r,s,l;if(o.isPlainObject(t)?(s=t.segments,r=t.pathData):Array.isArray(t)?s=t:typeof t=="string"&&(r=t),s){var f=s[0];l=f&&Array.isArray(f[0])}else r&&(l=(r.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(r));var c=l?je:ge;return new c(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var r=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),s,l=!1,f,c,p=new v,d=new v;function m(w,T){var B=+s[w];return l&&(B+=p[T]),B}function _(w){return new v(m(w,"x"),m(w+1,"y"))}this.clear();for(var b=0,E=r&&r.length;b<E;b++){var k=r[b],x=k[0],j=x.toLowerCase();s=k.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var P=s&&s.length;switch(l=x===j,f==="z"&&!/[mz]/.test(j)&&this.moveTo(p),j){case"m":case"l":for(var F=j==="m",C=0;C<P;C+=2)this[F?"moveTo":"lineTo"](p=_(C)),F&&(d=p,F=!1);c=p;break;case"h":case"v":var L=j==="h"?"x":"y";p=p.clone();for(var C=0;C<P;C++)p[L]=m(C,L),this.lineTo(p);c=p;break;case"c":for(var C=0;C<P;C+=6)this.cubicCurveTo(_(C),c=_(C+2),p=_(C+4));break;case"s":for(var C=0;C<P;C+=4)this.cubicCurveTo(/[cs]/.test(f)?p.multiply(2).subtract(c):p,c=_(C),p=_(C+2)),f=j;break;case"q":for(var C=0;C<P;C+=4)this.quadraticCurveTo(c=_(C),p=_(C+2));break;case"t":for(var C=0;C<P;C+=2)this.quadraticCurveTo(c=/[qt]/.test(f)?p.multiply(2).subtract(c):p,p=_(C)),f=j;break;case"a":for(var C=0;C<P;C+=7)this.arcTo(p=_(C+5),new N(+s[C],+s[C+1]),+s[C+2],+s[C+4],+s[C+3]);break;case"z":this.closePath(1e-12),p=d;break}f=j}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var r=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return r.onPath||!!(this.getFillRule()==="evenodd"?r.windingL&1||r.windingR&1:r.winding)},getIntersections:function(t,r,s,l){var f=this===t||!t,c=this._matrix._orNullIfIdentity(),p=f?c:(s||t._matrix)._orNullIfIdentity();return f||this.getBounds(c).intersects(t.getBounds(p),1e-12)?ke.getIntersections(this.getCurves(),!f&&t.getCurves(),r,c,p,l):[]},getCrossings:function(t){return this.getIntersections(t,function(r){return r.isCrossing()})},getNearestLocation:function(){for(var t=v.read(arguments),r=this.getCurves(),s=1/0,l=null,f=0,c=r.length;f<c;f++){var p=r[f].getNearestLocation(t);p._distance<s&&(s=p._distance,l=p)}return l},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,r,s){var l=!this._children,f=l?"_segments":"_children",c=t[f],p=r[f],d=this[f];if(!c||!p||c.length!==p.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+r);var m=d.length,_=p.length;if(m<_)for(var b=l?O:ge,E=m;E<_;E++)this.add(new b);else m>_&&this[l?"removeSegments":"removeChildren"](_,m);for(var E=0;E<_;E++)d[E].interpolate(c[E],p[E],s);l&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var r=!1;if(t){var s=this._children||[this],l=t._children?t._children.slice():[t],f=s.length,c=l.length,p=[],d=0;r=!0;for(var m=I.findItemBoundsCollisions(s,l,D.GEOMETRIC_EPSILON),_=f-1;_>=0&&r;_--){var b=s[_];r=!1;var E=m[_];if(E)for(var k=E.length-1;k>=0&&!r;k--)b.compare(l[E[k]])&&(p[E[k]]||(p[E[k]]=!0,d++),r=!0)}r=r&&d===c}return r}}),ge=Me.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(r){this._closed=!1,this._segments=[],this._version=0;var s=arguments,l=Array.isArray(r)?typeof r[0]=="object"?r:s:r&&r.size===i&&(r.x!==i||r.point!==i)?s:null;l&&l.length>0?this.setSegments(l):(this._curves=i,this._segmentSelection=0,!l&&typeof r=="string"&&(this.setPathData(r),r=null)),this._initialize(!l&&r)},_equals:function(t){return this._closed===t._closed&&o.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(r){if(t.base.call(this,r),r&8){if(this._length=this._area=i,r&32)this._version++;else if(this._curves)for(var s=0,l=this._curves.length;s<l;s++)this._curves[s]._changed()}else r&64&&(this._bounds=i)},getStyle:function(){var t=this._parent;return(t instanceof je?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var r=this.isFullySelected(),s=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=i,s){var l=t[s-1];typeof l=="boolean"&&(this.setClosed(l),s--),this._add(O.readList(t,0,{},s))}r&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,r=this._segments;if(!t){var s=this._countCurves();t=this._curves=new Array(s);for(var l=0;l<s;l++)t[l]=new ke(this,r[l],r[l+1]||r[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var r=this._curves.length=this._countCurves();t&&(this._curves[r-1]=new ke(this,this._segments[r-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,r){var s=this._segments,l=s.length,f=new U(r),c=new Array(6),p=!0,d,m,_,b,E,k,x,j,P=[];function F(L,w){if(L._transformCoordinates(t,c),d=c[0],m=c[1],p)P.push("M"+f.pair(d,m)),p=!1;else if(E=c[2],k=c[3],E===d&&k===m&&x===_&&j===b){if(!w){var T=d-_,B=m-b;P.push(T===0?"v"+f.number(B):B===0?"h"+f.number(T):"l"+f.pair(T,B))}}else P.push("c"+f.pair(x-_,j-b)+" "+f.pair(E-_,k-b)+" "+f.pair(d-_,m-b));_=d,b=m,x=c[4],j=c[5]}if(!l)return"";for(var C=0;C<l;C++)F(s[C]);return this._closed&&l>0&&(F(s[0],!0),P.push("z")),P.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var r=this._segments,s=new Array(6),l=0,f=r.length;l<f;l++)r[l]._transformCoordinates(t,s,!0);return!0},_add:function(t,p){for(var s=this._segments,l=this._curves,f=t.length,c=p==null,p=c?s.length:p,d=0;d<f;d++){var m=t[d];m._path&&(m=t[d]=m.clone()),m._path=this,m._index=p+d,m._selection&&this._updateSelection(m,0,m._selection)}if(c)o.push(s,t);else{s.splice.apply(s,[p,0].concat(t));for(var d=p+f,_=s.length;d<_;d++)s[d]._index=d}if(l){var b=this._countCurves(),E=p>0&&p+f-1===b?p-1:p,k=E,x=Math.min(E+f,b);t._curves&&(l.splice.apply(l,[E,0].concat(t._curves)),k+=t._curves.length);for(var d=k;d<x;d++)l.splice(d,0,new ke(this,null,null));this._adjustCurves(E,x)}return this._changed(41),t},_adjustCurves:function(t,r){for(var s=this._segments,l=this._curves,f,c=t;c<r;c++)f=l[c],f._path=this,f._segment1=s[c],f._segment2=s[c+1]||s[0],f._changed();(f=l[this._closed&&!t?s.length-1:t-1])&&(f._segment2=s[t]||s[0],f._changed()),(f=l[r])&&(f._segment1=s[r],f._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var r=arguments;return r.length>1&&typeof t!="number"?this._add(O.readList(r)):this._add([O.read(r)])[0]},insert:function(t,r){var s=arguments;return s.length>2&&typeof r!="number"?this._add(O.readList(s,1),t):this._add([O.read(s,1)],t)[0]},addSegment:function(){return this._add([O.read(arguments)])[0]},insertSegment:function(t){return this._add([O.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(O.readList(t))},insertSegments:function(t,r){return this._add(O.readList(r),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,r,s){t=t||0,r=o.pick(r,this._segments.length);var l=this._segments,f=this._curves,c=l.length,p=l.splice(t,r-t),d=p.length;if(!d)return p;for(var m=0;m<d;m++){var _=p[m];_._selection&&this._updateSelection(_,_._selection,0),_._index=_._path=null}for(var m=t,b=l.length;m<b;m++)l[m]._index=m;if(f){for(var E=t>0&&r===c+(this._closed?1:0)?t-1:t,f=f.splice(E,d),m=f.length-1;m>=0;m--)f[m]._path=null;s&&(p._curves=f.slice(1)),this._adjustCurves(E,E)}return this._changed(41),p},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,r=0,s=t.length;r<s;r++)if(t[r].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,r=0,s=t.length;r<s;r++)t[r].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),r=0,s=0,l=t.length;s<l;s++)r+=t[s].getLength();this._length=r}return this._length},getArea:function(){var t=this._area;if(t==null){var r=this._segments,s=this._closed;t=0;for(var l=0,f=r.length;l<f;l++){var c=l+1===f;t+=ke.getArea(ke.getValues(r[l],r[c?0:l+1],null,c&&!s))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(r){r&1||this._selectSegments(!1),t.base.call(this,r)},_selectSegments:function(t){var r=this._segments,s=r.length,l=t?7:0;this._segmentSelection=l*s;for(var f=0;f<s;f++)r[f]._selection=l},_updateSelection:function(t,r,s){t._selection=s;var l=this._segmentSelection+=s-r;l>0&&this.setSelected(!0)},divideAt:function(t){var r=this.getLocationAt(t),s;return r&&(s=r.getCurve().divideAt(r.getCurveOffset()))?s._segment1:null},splitAt:function(t){var r=this.getLocationAt(t),s=r&&r.index,l=r&&r.time,f=1e-8,c=1-f;l>c&&(s++,l=0);var p=this.getCurves();if(s>=0&&s<p.length){l>=f&&p[s++].divideAtTime(l);var d=this.removeSegments(s,this._segments.length,!0),m;return this._closed?(this.setClosed(!1),m=this):(m=new ge(ie.NO_INSERT),m.insertAbove(this),m.copyAttributes(this)),m._add(d,0),this.addSegment(d[0]),m}return null},split:function(t,r){var s,l=r===i?t:(s=this.getCurves()[t])&&s.getLocationAtTime(r);return l!=null?this.splitAt(l):null},join:function(t,r){var s=r||0;if(t&&t!==this){var l=t._segments,f=this.getLastSegment(),c=t.getLastSegment();if(!c)return this;f&&f._point.isClose(c._point,s)&&t.reverse();var p=t.getFirstSegment();if(f&&f._point.isClose(p._point,s))f.setHandleOut(p._handleOut),this._add(l.slice(1));else{var d=this.getFirstSegment();d&&d._point.isClose(p._point,s)&&t.reverse(),c=t.getLastSegment(),d&&d._point.isClose(c._point,s)?(d.setHandleIn(c._handleIn),this._add(l.slice(0,l.length-1),0)):this._add(l.slice())}t._closed&&this._add([l[0]]),t.remove()}var m=this.getFirstSegment(),_=this.getLastSegment();return m!==_&&m._point.isClose(_._point,s)&&(m.setHandleIn(_._handleIn),_.remove(),this.setClosed(!0)),this},reduce:function(t){for(var r=this.getCurves(),s=t&&t.simplify,l=s?1e-7:0,f=r.length-1;f>=0;f--){var c=r[f];!c.hasHandles()&&(!c.hasLength(l)||s&&c.isCollinear(c.getNext()))&&c.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,r=this._segments.length;t<r;t++){var s=this._segments[t],l=s._handleIn;s._handleIn=s._handleOut,s._handleOut=l,s._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var r=new ve(this,t||.25,256,!0),s=r.parts,l=s.length,f=[],c=0;c<l;c++)f.push(new O(s[c].curve.slice(0,2)));!this._closed&&l>0&&f.push(new O(s[l-1].curve.slice(6))),this.setSegments(f)},simplify:function(t){var r=new _e(this).fit(t||2.5);return r&&this.setSegments(r),!!r},smooth:function(t){var r=this,s=t||{},l=s.type||"asymmetric",f=this._segments,c=f.length,p=this._closed;function d(Ze,Ye){var Qe=Ze&&Ze.index;if(Qe!=null){var rt=Ze.path;if(rt&&rt!==r)throw new Error(Ze._class+" "+Qe+" of "+rt+" is not part of "+r);Ye&&Ze instanceof ke&&Qe++}else Qe=typeof Ze=="number"?Ze:Ye;return Math.min(Qe<0&&p?Qe%c:Qe<0?Qe+c:Qe,c-1)}var m=p&&s.from===i&&s.to===i,_=d(s.from,0),b=d(s.to,c-1);if(_>b)if(p)_-=c;else{var E=_;_=b,b=E}if(/^(?:asymmetric|continuous)$/.test(l)){var k=l==="asymmetric",x=Math.min,j=b-_+1,P=j-1,F=m?x(j,4):1,C=F,L=F,w=[];if(p||(C=x(1,_),L=x(1,c-b-1)),P+=C+L,P<=1)return;for(var T=0,B=_-C;T<=P;T++,B++)w[T]=f[(B<0?B+c:B)%c]._point;for(var V=w[0]._x+2*w[1]._x,R=w[0]._y+2*w[1]._y,$=2,K=P-1,Y=[V],se=[R],q=[$],re=[],ae=[],T=1;T<P;T++){var ue=T<K,fe=ue||k?1:2,ye=ue?4:k?2:7,Ae=ue?4:k?3:8,De=ue?2:k?0:1,Ue=fe/$;$=q[T]=ye-Ue,V=Y[T]=Ae*w[T]._x+De*w[T+1]._x-Ue*V,R=se[T]=Ae*w[T]._y+De*w[T+1]._y-Ue*R}re[K]=Y[K]/q[K],ae[K]=se[K]/q[K];for(var T=P-2;T>=0;T--)re[T]=(Y[T]-re[T+1])/q[T],ae[T]=(se[T]-ae[T+1])/q[T];re[P]=(3*w[P]._x-re[K])/2,ae[P]=(3*w[P]._y-ae[K])/2;for(var T=C,He=P-L,B=_;T<=He;T++,B++){var Ee=f[B<0?B+c:B],ze=Ee._point,We=re[T]-ze._x,$e=ae[T]-ze._y;(m||T<He)&&Ee.setHandleOut(We,$e),(m||T>C)&&Ee.setHandleIn(-We,-$e)}}else for(var T=_;T<=b;T++)f[T<0?T+c:T].smooth(s,!m&&T===_,!m&&T===b)},toShape:function(t){if(!this._closed)return null;var r=this._segments,s,l,f,c;function p(k,x){var j=r[k],P=j.getNext(),F=r[x],C=F.getNext();return j._handleOut.isZero()&&P._handleIn.isZero()&&F._handleOut.isZero()&&C._handleIn.isZero()&&P._point.subtract(j._point).isCollinear(C._point.subtract(F._point))}function d(k){var x=r[k],j=x.getPrevious(),P=x.getNext();return j._handleOut.isZero()&&x._handleIn.isZero()&&x._handleOut.isZero()&&P._handleIn.isZero()&&x._point.subtract(j._point).isOrthogonal(P._point.subtract(x._point))}function m(k){var x=r[k],j=x.getNext(),P=x._handleOut,F=j._handleIn,C=.5522847498307936;if(P.isOrthogonal(F)){var L=x._point,w=j._point,T=new G(L,P,!0).intersect(new G(w,F,!0),!0);return T&&D.isZero(P.getLength()/T.subtract(L).getLength()-C)&&D.isZero(F.getLength()/T.subtract(w).getLength()-C)}return!1}function _(k,x){return r[k]._point.getDistance(r[x]._point)}if(!this.hasHandles()&&r.length===4&&p(0,2)&&p(1,3)&&d(1)?(s=pe.Rectangle,l=new N(_(0,3),_(0,1)),c=r[1]._point.add(r[2]._point).divide(2)):r.length===8&&m(0)&&m(2)&&m(4)&&m(6)&&p(1,5)&&p(3,7)?(s=pe.Rectangle,l=new N(_(1,6),_(0,3)),f=l.subtract(new N(_(0,7),_(1,2))).divide(2),c=r[3]._point.add(r[4]._point).divide(2)):r.length===4&&m(0)&&m(1)&&m(2)&&m(3)&&(D.isZero(_(0,2)-_(1,3))?(s=pe.Circle,f=_(0,2)/2):(s=pe.Ellipse,f=new N(_(2,0)/2,_(3,1)/2)),c=r[1]._point),s){var b=this.getPosition(!0),E=new s({center:b,size:l,radius:f,insert:!1});return E.copyAttributes(this,!0),E._matrix.prepend(this._matrix),E.rotate(c.subtract(b).getAngle()+90),(t===i||t)&&E.insertAbove(this),E}return null},toPath:"#clone",compare:function t(r){if(!r||r instanceof je)return t.base.call(this,r);var s=this.getCurves(),l=r.getCurves(),f=s.length,c=l.length;if(!f||!c)return f==c;for(var p=s[0].getValues(),d=[],m=0,_,b=0,E,k=0;k<c;k++){var F=l[k].getValues();d.push(F);var x=ke.getOverlaps(p,F);if(x){_=!k&&x[0][0]>0?c-1:k,E=x[0][1];break}}for(var j=Math.abs,P=1e-8,F=d[_],C;p&&F;){var x=ke.getOverlaps(p,F);if(x){var L=x[0][0];if(j(L-b)<P){b=x[1][0],b===1&&(p=++m<f?s[m].getValues():null,b=0);var w=x[0][1];if(j(w-E)<P){if(C||(C=[_,w]),E=x[1][1],E===1&&(++_>=c&&(_=0),F=d[_]||l[_].getValues(),E=0),!p)return C[0]===_&&C[1]===E;continue}}}break}return!1},_hitTestSelf:function(t,r,s,l){var f=this,c=this.getStyle(),p=this._segments,d=p.length,m=this._closed,_=r._tolerancePadding,b=_,E,k,x,j,P,F,C=r.stroke&&c.hasStroke(),L=r.fill&&c.hasFill(),w=r.curves,T=C?c.getStrokeWidth()/2:L&&r.tolerance>0||w?0:null;T!==null&&(T>0?(E=c.getStrokeJoin(),k=c.getStrokeCap(),x=c.getMiterLimit(),b=b.add(ge._getStrokePadding(T,l))):E=k="round");function B(re,ae){return t.subtract(re).divide(ae).length<=1}function V(re,ae,ue){if(!r.selected||ae.isSelected()){var fe=re._point;if(ae!==fe&&(ae=ae.add(fe)),B(ae,b))return new de(ue,f,{segment:re,point:ae})}}function R(re,ae){return(ae||r.segments)&&V(re,re._point,"segment")||!ae&&r.handles&&(V(re,re._handleIn,"handle-in")||V(re,re._handleOut,"handle-out"))}function $(re){j.add(re)}function K(re){var ae=m||re._index>0&&re._index<d-1;if((ae?E:k)==="round")return B(re._point,b);if(j=new ge({internal:!0,closed:!0}),ae?re.isSmooth()||ge._addBevelJoin(re,E,T,x,null,l,$,!0):k==="square"&&ge._addSquareCap(re,k,T,null,l,$,!0),!j.isEmpty()){var ue;return j.contains(t)||(ue=j.getNearestLocation(t))&&B(ue.getPoint(),_)}}if(r.ends&&!r.segments&&!m){if(F=R(p[0],!0)||R(p[d-1],!0))return F}else if(r.segments||r.handles){for(var Y=0;Y<d;Y++)if(F=R(p[Y]))return F}if(T!==null){if(P=this.getNearestLocation(t),P){var se=P.getTime();se===0||se===1&&d>1?K(P.getSegment())||(P=null):B(P.getPoint(),b)||(P=null)}if(!P&&E==="miter"&&d>1)for(var Y=0;Y<d;Y++){var q=p[Y];if(t.getDistance(q._point)<=x*T&&K(q)){P=q.getLocation();break}}}return!P&&L&&this._contains(t)||P&&!C&&!w?new de("fill",this):P?new de(C?"stroke":"curve",this,{location:P,point:P.getPoint()}):null}},o.each(ke._evaluateMethods,function(t){this[t+"At"]=function(r){var s=this.getLocationAt(r);return s&&s[t]()}},{beans:!1,getLocationOf:function(){for(var t=v.read(arguments),r=this.getCurves(),s=0,l=r.length;s<l;s++){var f=r[s].getLocationOf(t);if(f)return f}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var r=this.getCurves(),s=0,l=0,f=r.length;l<f;l++){var c=s,p=r[l];if(s+=p.getLength(),s>t)return p.getLocationAt(t-c)}if(r.length>0&&t<=this.getLength())return new Te(r[r.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=v.read(arguments);if(t.isZero())return[];for(var r=[],s=0,l=this.getCurves(),f=0,c=l.length;f<c;f++){for(var p=l[f],d=p.getTimesWithTangent(t),m=0,_=d.length;m<_;m++){var b=s+p.getOffsetAtTime(d[m]);r.indexOf(b)<0&&r.push(b)}s+=p.length}return r}}),new function(){function t(s,l,f,c){if(c<=0)return;var p=c/2,d=c-2,m=p-1,_=new Array(6),b,E;function k(L){var w=_[L],T=_[L+1];(b!=w||E!=T)&&(s.beginPath(),s.moveTo(b,E),s.lineTo(w,T),s.stroke(),s.beginPath(),s.arc(w,T,p,0,Math.PI*2,!0),s.fill())}for(var x=0,j=l.length;x<j;x++){var P=l[x],F=P._selection;if(P._transformCoordinates(f,_),b=_[0],E=_[1],F&2&&k(2),F&4&&k(4),s.fillRect(b-p,E-p,c,c),d>0&&!(F&1)){var C=s.fillStyle;s.fillStyle="#ffffff",s.fillRect(b-m,E-m,d,d),s.fillStyle=C}}}function r(s,l,f){var c=l._segments,p=c.length,d=new Array(6),m=!0,_,b,E,k,x,j,P,F;function C(w){if(f)w._transformCoordinates(f,d),_=d[0],b=d[1];else{var T=w._point;_=T._x,b=T._y}if(m)s.moveTo(_,b),m=!1;else{if(f)x=d[2],j=d[3];else{var B=w._handleIn;x=_+B._x,j=b+B._y}x===_&&j===b&&P===E&&F===k?s.lineTo(_,b):s.bezierCurveTo(P,F,x,j,_,b)}if(E=_,k=b,f)P=d[4],F=d[5];else{var B=w._handleOut;P=E+B._x,F=k+B._y}}for(var L=0;L<p;L++)C(c[L]);l._closed&&p>0&&C(c[0])}return{_draw:function(s,l,f,c){var p=l.dontStart,d=l.dontFinish||l.clip,m=this.getStyle(),_=m.hasFill(),b=m.hasStroke(),E=m.getDashArray(),k=!Pe.support.nativeDash&&b&&E&&E.length;p||s.beginPath(),(_||b&&!k||d)&&(r(s,this,c),this._closed&&s.closePath());function x(w){return E[(w%k+k)%k]}if(!d&&(_||b)&&(this._setStyles(s,l,f),_&&(s.fill(m.getFillRule()),s.shadowColor="rgba(0,0,0,0)"),b)){if(k){p||s.beginPath();for(var j=new ve(this,.25,32,!1,c),P=j.length,F=-m.getDashOffset(),C,L=0;F>0;)F-=x(L--)+x(L--);for(;F<P;)C=F+x(L++),(F>0||C>0)&&j.drawPart(s,Math.max(F,0),Math.max(C,0)),F=C+x(L++)}s.stroke()}},_drawSelected:function(s,l){s.beginPath(),r(s,this,l),s.stroke(),t(s,this._segments,l,Pe.settings.handleSize)}}},new function(){function t(r){var s=r._segments;if(!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return{moveTo:function(){var r=this._segments;r.length===1&&this.removeSegment(0),r.length||this._add([new O(v.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new O(v.read(arguments))])},cubicCurveTo:function(){var r=arguments,s=v.read(r),l=v.read(r),f=v.read(r),c=t(this);c.setHandleOut(s.subtract(c._point)),this._add([new O(f,l.subtract(f))])},quadraticCurveTo:function(){var r=arguments,s=v.read(r),l=v.read(r),f=t(this)._point;this.cubicCurveTo(s.add(f.subtract(s).multiply(1/3)),s.add(l.subtract(s).multiply(1/3)),l)},curveTo:function(){var r=arguments,s=v.read(r),l=v.read(r),f=o.pick(o.read(r),.5),c=1-f,p=t(this)._point,d=s.subtract(p.multiply(c*c)).subtract(l.multiply(f*f)).divide(2*f*c);if(d.isNaN())throw new Error("Cannot put a curve through points with parameter = "+f);this.quadraticCurveTo(d,l)},arcTo:function(){var r=arguments,s=Math.abs,l=Math.sqrt,f=t(this),c=f._point,p=v.read(r),d,m=o.peek(r),_=o.pick(m,!0),b,E,k,x;if(typeof _=="boolean")var j=c.add(p).divide(2),d=j.add(j.subtract(c).rotate(_?-90:90));else if(o.remain(r)<=2)d=p,p=v.read(r);else if(!c.equals(p)){var P=N.read(r),F=D.isZero;if(F(P.width)||F(P.height))return this.lineTo(p);var C=o.read(r),_=!!o.read(r),L=!!o.read(r),j=c.add(p).divide(2),w=c.subtract(j).rotate(-C),T=w.x,B=w.y,V=s(P.width),R=s(P.height),$=V*V,K=R*R,Y=T*T,se=B*B,q=l(Y/$+se/K);if(q>1&&(V*=q,R*=q,$=V*V,K=R*R),q=($*K-$*se-K*Y)/($*se+K*Y),s(q)<1e-12&&(q=0),q<0)throw new Error("Cannot create an arc with the given arguments");b=new v(V*B/R,-R*T/V).multiply((L===_?-1:1)*l(q)).rotate(C).add(j),x=new A().translate(b).rotate(C).scale(V,R),k=x._inverseTransform(c),E=k.getDirectedAngle(x._inverseTransform(p)),!_&&E>0?E-=360:_&&E<0&&(E+=360)}if(d){var re=new G(c.add(d).divide(2),d.subtract(c).rotate(90),!0),ae=new G(d.add(p).divide(2),p.subtract(d).rotate(90),!0),ue=new G(c,p),fe=ue.getSide(d);if(b=re.intersect(ae,!0),!b){if(!fe)return this.lineTo(p);throw new Error("Cannot create an arc with the given arguments")}k=c.subtract(b),E=k.getDirectedAngle(p.subtract(b));var ye=ue.getSide(b,!0);ye===0?E=fe*s(E):fe===ye&&(E+=E<0?360:-360)}if(E){for(var Ae=1e-5,De=s(E),Ue=De>=360?4:Math.ceil((De-Ae)/90),He=E/Ue,Ee=He*Math.PI/360,ze=4/3*Math.sin(Ee)/(1+Math.cos(Ee)),We=[],$e=0;$e<=Ue;$e++){var w=p,Ze=null;if($e<Ue&&(Ze=k.rotate(90).multiply(ze),x?(w=x._transformPoint(k),Ze=x._transformPoint(k.add(Ze)).subtract(w)):w=b.add(k)),!$e)f.setHandleOut(Ze);else{var Ye=k.rotate(-90).multiply(ze);x&&(Ye=x._transformPoint(k.add(Ye)).subtract(w)),We.push(new O(w,Ye,Ze))}k=k.rotate(He)}this._add(We)}},lineBy:function(){var r=v.read(arguments),s=t(this)._point;this.lineTo(s.add(r))},curveBy:function(){var r=arguments,s=v.read(r),l=v.read(r),f=o.read(r),c=t(this)._point;this.curveTo(c.add(s),c.add(l),f)},cubicCurveBy:function(){var r=arguments,s=v.read(r),l=v.read(r),f=v.read(r),c=t(this)._point;this.cubicCurveTo(c.add(s),c.add(l),c.add(f))},quadraticCurveBy:function(){var r=arguments,s=v.read(r),l=v.read(r),f=t(this)._point;this.quadraticCurveTo(f.add(s),f.add(l))},arcBy:function(){var r=arguments,s=t(this)._point,l=s.add(v.read(r)),f=o.pick(o.peek(r),!0);typeof f=="boolean"?this.arcTo(l,f):this.arcTo(l,s.add(v.read(r)))},closePath:function(r){this.setClosed(!0),this.join(this,r)}}},{_getBounds:function(t,r){var s=r.handle?"getHandleBounds":r.stroke?"getStrokeBounds":"getBounds";return ge[s](this._segments,this._closed,this,t,r)},statics:{getBounds:function(t,r,s,l,f,c){var p=t[0];if(!p)return new S;var d=new Array(6),m=p._transformCoordinates(l,new Array(6)),_=m.slice(0,2),b=_.slice(),E=new Array(2);function k(P){P._transformCoordinates(l,d);for(var F=0;F<2;F++)ke._addBounds(m[F],m[F+4],d[F+2],d[F],F,c?c[F]:0,_,b,E);var C=m;m=d,d=C}for(var x=1,j=t.length;x<j;x++)k(t[x]);return r&&k(p),new S(_[0],_[1],b[0]-_[0],b[1]-_[1])},getStrokeBounds:function(t,r,s,l,f){var c=s.getStyle(),p=c.hasStroke(),d=c.getStrokeWidth(),m=p&&s._getStrokeMatrix(l,f),_=p&&ge._getStrokePadding(d,m),b=ge.getBounds(t,r,s,l,f,_);if(!p)return b;var E=d/2,k=c.getStrokeJoin(),x=c.getStrokeCap(),j=c.getMiterLimit(),P=new S(new N(_));function F(V){b=b.include(V)}function C(V){b=b.unite(P.setCenter(V._point.transform(l)))}function L(V,R){R==="round"||V.isSmooth()?C(V):ge._addBevelJoin(V,R,E,j,l,m,F)}function w(V,R){R==="round"?C(V):ge._addSquareCap(V,R,E,l,m,F)}var T=t.length-(r?0:1);if(T>0){for(var B=1;B<T;B++)L(t[B],k);r?L(t[0],k):(w(t[0],x),w(t[t.length-1],x))}return b},_getStrokePadding:function(t,r){if(!r)return[t,t];var s=new v(t,0).transform(r),l=new v(0,t).transform(r),f=s.getAngleInRadians(),c=s.getLength(),p=l.getLength(),d=Math.sin(f),m=Math.cos(f),_=Math.tan(f),b=Math.atan2(p*_,c),E=Math.atan2(p,_*c);return[Math.abs(c*Math.cos(b)*m+p*Math.sin(b)*d),Math.abs(p*Math.sin(E)*m+c*Math.cos(E)*d)]},_addBevelJoin:function(t,r,s,l,f,c,p,d){var m=t.getCurve(),_=m.getPrevious(),b=m.getPoint1().transform(f),E=_.getNormalAtTime(1).multiply(s).transform(c),k=m.getNormalAtTime(0).multiply(s).transform(c),x=E.getDirectedAngle(k);if((x<0||x>=180)&&(E=E.negate(),k=k.negate()),d&&p(b),p(b.add(E)),r==="miter"){var j=new G(b.add(E),new v(-E.y,E.x),!0).intersect(new G(b.add(k),new v(-k.y,k.x),!0),!0);j&&b.getDistance(j)<=l*s&&p(j)}p(b.add(k))},_addSquareCap:function(t,r,s,l,f,c,p){var d=t._point.transform(l),m=t.getLocation(),_=m.getNormal().multiply(m.getTime()===0?s:-s).transform(f);r==="square"&&(p&&(c(d.subtract(_)),c(d.add(_))),d=d.add(_.rotate(-90))),c(d.add(_)),c(d.subtract(_))},getHandleBounds:function(t,r,s,l,f){var c=s.getStyle(),p=f.stroke&&c.hasStroke(),d,m;if(p){var _=s._getStrokeMatrix(l,f),b=c.getStrokeWidth()/2,E=b;c.getStrokeJoin()==="miter"&&(E=b*c.getMiterLimit()),c.getStrokeCap()==="square"&&(E=Math.max(E,b*Math.SQRT2)),d=ge._getStrokePadding(b,_),m=ge._getStrokePadding(E,_)}for(var k=new Array(6),x=1/0,j=-x,P=x,F=j,C=0,L=t.length;C<L;C++){var w=t[C];w._transformCoordinates(l,k);for(var T=0;T<6;T+=2){var B=T?d:m,V=B?B[0]:0,R=B?B[1]:0,$=k[T],K=k[T+1],Y=$-V,se=$+V,q=K-R,re=K+R;Y<x&&(x=Y),se>j&&(j=se),q<P&&(P=q),re>F&&(F=re)}}return new S(x,P,j-x,F-P)}}});ge.inject({statics:new function(){var t=.5522847498307936,r=[new O([-1,0],[0,t],[0,-t]),new O([0,-1],[-t,0],[t,0]),new O([1,0],[0,-t],[0,t]),new O([0,1],[t,0],[-t,0])];function s(f,c,p){var d=o.getNamed(p),m=new ge(d&&(d.insert==!0?ie.INSERT:d.insert==!1?ie.NO_INSERT:null));return m._add(f),m._closed=c,m.set(d,ie.INSERT)}function l(f,c,p){for(var d=new Array(4),m=0;m<4;m++){var _=r[m];d[m]=new O(_._point.multiply(c).add(f),_._handleIn.multiply(c),_._handleOut.multiply(c))}return s(d,!0,p)}return{Line:function(){var f=arguments;return s([new O(v.readNamed(f,"from")),new O(v.readNamed(f,"to"))],!1,f)},Circle:function(){var f=arguments,c=v.readNamed(f,"center"),p=o.readNamed(f,"radius");return l(c,new N(p),f)},Rectangle:function(){var f=arguments,c=S.readNamed(f,"rectangle"),p=N.readNamed(f,"radius",0,{readNull:!0}),d=c.getBottomLeft(!0),m=c.getTopLeft(!0),_=c.getTopRight(!0),b=c.getBottomRight(!0),E;if(!p||p.isZero())E=[new O(d),new O(m),new O(_),new O(b)];else{p=N.min(p,c.getSize(!0).divide(2));var k=p.width,x=p.height,j=k*t,P=x*t;E=[new O(d.add(k,0),null,[-j,0]),new O(d.subtract(0,x),[0,P]),new O(m.add(0,x),null,[0,-P]),new O(m.add(k,0),[-j,0],null),new O(_.subtract(k,0),null,[j,0]),new O(_.add(0,x),[0,-P],null),new O(b.subtract(0,x),null,[0,P]),new O(b.subtract(k,0),[j,0])]}return s(E,!0,f)},RoundRectangle:"#Rectangle",Ellipse:function(){var f=arguments,c=pe._readEllipse(f);return l(c.center,c.radius,f)},Oval:"#Ellipse",Arc:function(){var f=arguments,c=v.readNamed(f,"from"),p=v.readNamed(f,"through"),d=v.readNamed(f,"to"),m=o.getNamed(f),_=new ge(m&&m.insert==!1&&ie.NO_INSERT);return _.moveTo(c),_.arcTo(p,d),_.set(m)},RegularPolygon:function(){for(var f=arguments,c=v.readNamed(f,"center"),p=o.readNamed(f,"sides"),d=o.readNamed(f,"radius"),m=360/p,_=p%3===0,b=new v(0,_?-d:d),E=_?-1:.5,k=new Array(p),x=0;x<p;x++)k[x]=new O(c.add(b.rotate((x+E)*m)));return s(k,!0,f)},Star:function(){for(var f=arguments,c=v.readNamed(f,"center"),p=o.readNamed(f,"points")*2,d=o.readNamed(f,"radius1"),m=o.readNamed(f,"radius2"),_=360/p,b=new v(0,-1),E=new Array(p),k=0;k<p;k++)E[k]=new O(c.add(b.rotate(_*k).multiply(k%2?m:d)));return s(E,!0,f)}}}});var je=Me.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||(typeof r=="string"?this.setPathData(r):this.addChildren(Array.isArray(r)?r:arguments))},insertChildren:function t(r,s){var l=s,f=l[0];f&&typeof f[0]=="number"&&(l=[l]);for(var c=s.length-1;c>=0;c--){var p=l[c];l===s&&!(p instanceof ge)&&(l=o.slice(l)),Array.isArray(p)?l[c]=new ge({segments:p,insert:!1}):p instanceof je&&(l.splice.apply(l,[c,1].concat(p.removeChildren())),p.remove())}return t.base.call(this,r,l)},reduce:function t(r){for(var s=this._children,l=s.length-1;l>=0;l--){var f=s[l].reduce(r);f.isEmpty()&&f.remove()}if(!s.length){var f=new ge(ie.NO_INSERT);return f.copyAttributes(this),f.insertAbove(this),this.remove(),f}return t.base.call(this)},isClosed:function(){for(var t=this._children,r=0,s=t.length;r<s;r++)if(!t[r]._closed)return!1;return!0},setClosed:function(t){for(var r=this._children,s=0,l=r.length;s<l;s++)r[s].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,r=[],s=0,l=t.length;s<l;s++)o.push(r,t[s].getCurves());return r},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,r=0,s=0,l=t.length;s<l;s++)r+=t[s].getArea();return r},getLength:function(){for(var t=this._children,r=0,s=0,l=t.length;s<l;s++)r+=t[s].getLength();return r},getPathData:function(t,r){for(var s=this._children,l=[],f=0,c=s.length;f<c;f++){var p=s[f],d=p._matrix;l.push(p.getPathData(t&&!d.isIdentity()?t.appended(d):t,r))}return l.join("")},_hitTestChildren:function t(r,s,l){return t.base.call(this,r,s.class===ge||s.type==="path"?s:o.set({},s,{fill:!1}),l)},_draw:function(t,r,s,l){var f=this._children;if(f.length){r=r.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var c=0,p=f.length;c<p;c++)f[c].draw(t,r,l);if(!r.clip){this._setStyles(t,r,s);var d=this._style;d.hasFill()&&(t.fill(d.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),d.hasStroke()&&t.stroke()}}},_drawSelected:function(t,r,s){for(var l=this._children,f=0,c=l.length;f<c;f++){var p=l[f],d=p._matrix;s[p._id]||p._drawSelected(t,d.isIdentity()?r:r.appended(d))}}},new function(){function t(r,s){var l=r._children;if(s&&!l.length)throw new Error("Use a moveTo() command first");return l[l.length-1]}return o.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(r){this[r]=function(){var s=t(this,!0);s[r].apply(s,arguments)}},{moveTo:function(){var r=t(this),s=r&&r.isEmpty()?r:new ge(ie.NO_INSERT);s!==r&&this.addChild(s),s.moveTo.apply(s,arguments)},moveBy:function(){var r=t(this,!0),s=r&&r.getLastSegment(),l=v.read(arguments);this.moveTo(s?l.add(s._point):l)},closePath:function(r){t(this,!0).closePath(r)}})},o.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(r){for(var s=this._children,l,f=0,c=s.length;f<c;f++)l=s[f][t](r)||l;return l}},{}));Me.inject(new function(){var t=Math.min,r=Math.max,s=Math.abs,l={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function f(C){return C._children||[C]}function c(C,L){var w=C.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(L){for(var T=f(w),B=0,V=T.length;B<V;B++){var C=T[B];!C._closed&&!C.isEmpty()&&(C.closePath(1e-12),C.getFirstSegment().setHandleIn(0,0),C.getLastSegment().setHandleOut(0,0))}w=w.resolveCrossings().reorient(w.getFillRule()==="nonzero",!0)}return w}function p(C,L,w,T,B){var V=new je(ie.NO_INSERT);return V.addChildren(C,!0),V=V.reduce({simplify:L}),B&&B.insert==!1||V.insertAbove(T&&w.isSibling(T)&&w.getIndex()<T.getIndex()?T:w),V.copyAttributes(w,!0),V}function d(C){return C.hasOverlap()||C.isCrossing()}function m(C,L,w,T){if(T&&(T.trace==!1||T.stroke)&&/^(subtract|intersect)$/.test(w))return _(C,L,w);var B=c(C,!0),V=L&&C!==L&&c(L,!0),R=l[w];R[w]=!0,V&&(R.subtract||R.exclude)^(V.isClockwise()^B.isClockwise())&&V.reverse();var $=x(Te.expand(B.getIntersections(V,d))),K=f(B),Y=V&&f(V),se=[],q=[],re;function ae(Ze){for(var Ye=0,Qe=Ze.length;Ye<Qe;Ye++){var rt=Ze[Ye];o.push(se,rt._segments),o.push(q,rt.getCurves()),rt._overlapsOnly=!0}}function ue(Ze){for(var Ye=[],Qe=0,rt=Ze&&Ze.length;Qe<rt;Qe++)Ye.push(q[Ze[Qe]]);return Ye}if($.length){ae(K),Y&&ae(Y);for(var fe=new Array(q.length),ye=0,Ae=q.length;ye<Ae;ye++)fe[ye]=q[ye].getValues();for(var De=I.findCurveBoundsCollisions(fe,fe,0,!0),Ue={},ye=0;ye<q.length;ye++){var He=q[ye],Ee=He._path._id,ze=Ue[Ee]=Ue[Ee]||{};ze[He.getIndex()]={hor:ue(De[ye].hor),ver:ue(De[ye].ver)}}for(var ye=0,Ae=$.length;ye<Ae;ye++)P($[ye]._segment,B,V,Ue,R);for(var ye=0,Ae=se.length;ye<Ae;ye++){var We=se[ye],$e=We._intersection;We._winding||P(We,B,V,Ue,R),$e&&$e._overlap||(We._path._overlapsOnly=!1)}re=F(se,R)}else re=k(Y?K.concat(Y):K.slice(),function(Ze){return!!R[Ze]});return p(re,!0,C,L,T)}function _(C,L,w){var T=c(C),B=c(L),V=T.getIntersections(B,d),R=w==="subtract",$=w==="divide",K={},Y=[];function se(ae){if(!K[ae._id]&&($||B.contains(ae.getPointAt(ae.getLength()/2))^R))return Y.unshift(ae),K[ae._id]=!0}for(var q=V.length-1;q>=0;q--){var re=V[q].split();re&&(se(re)&&re.getFirstSegment().setHandleIn(0,0),T.getLastSegment().setHandleOut(0,0))}return se(T),p(Y,!1,C,L)}function b(C,L){for(var w=C;w;){if(w===L)return;w=w._previous}for(;C._next&&C._next!==L;)C=C._next;if(!C._next){for(;L._previous;)L=L._previous;C._next=L,L._previous=C}}function E(C){for(var L=C.length-1;L>=0;L--)C[L].clearHandles()}function k(C,L,w){var T=C&&C.length;if(T){var B=o.each(C,function(De,Ue){this[De._id]={container:null,winding:De.isClockwise()?1:-1,index:Ue}},{}),V=C.slice().sort(function(De,Ue){return s(Ue.getArea())-s(De.getArea())}),R=V[0],$=I.findItemBoundsCollisions(V,null,D.GEOMETRIC_EPSILON);w==null&&(w=R.isClockwise());for(var K=0;K<T;K++){var Y=V[K],se=B[Y._id],q=0,re=$[K];if(re){for(var ae=null,ue=re.length-1;ue>=0;ue--)if(re[ue]<K){ae=ae||Y.getInteriorPoint();var fe=V[re[ue]];if(fe.contains(ae)){var ye=B[fe._id];q=ye.winding,se.winding+=q,se.container=ye.exclude?ye.container:fe;break}}}if(L(se.winding)===L(q))se.exclude=!0,C[se.index]=null;else{var Ae=se.container;Y.setClockwise(Ae?!Ae.isClockwise():w)}}}return C}function x(C,L,w){var T=L&&[],B=1e-8,V=1-B,R=!1,$=w||[],K=w&&{},Y,se,q;function re(Ye){return Ye._path._id+"."+Ye._segment1._index}for(var ae=(w&&w.length)-1;ae>=0;ae--){var ue=w[ae];ue._path&&(K[re(ue)]=!0)}for(var ae=C.length-1;ae>=0;ae--){var fe=C[ae],ye=fe._time,Ae=ye,De=L&&!L(fe),ue=fe._curve,Ue;if(ue&&(ue!==se?(R=!ue.hasHandles()||K&&K[re(ue)],Y=[],q=null,se=ue):q>=B&&(ye/=q)),De){Y&&Y.push(fe);continue}else L&&T.unshift(fe);if(q=Ae,ye<B)Ue=ue._segment1;else if(ye>V)Ue=ue._segment2;else{var He=ue.divideAtTime(ye,!0);R&&$.push(ue,He),Ue=He._segment1;for(var Ee=Y.length-1;Ee>=0;Ee--){var ze=Y[Ee];ze._time=(ze._time-ye)/(1-ye)}}fe._setSegment(Ue);var We=Ue._intersection,$e=fe._intersection;if(We){b(We,$e);for(var Ze=We;Ze;)b(Ze._intersection,We),Ze=Ze._next}else Ue._intersection=$e}return w||E($),T||C}function j(C,L,w,T,B){var V=Array.isArray(L)?L:L[w?"hor":"ver"],R=w?1:0,$=R^1,K=[C.x,C.y],Y=K[R],se=K[$],q=1e-9,re=1e-6,ae=Y-q,ue=Y+q,fe=0,ye=0,Ae=0,De=0,Ue=!1,He=!1,Ee=1,ze=[],We,$e;function Ze(mt){var Tt=mt[$+0],rn=mt[$+6];if(!(se<t(Tt,rn)||se>r(Tt,rn))){var Lt=mt[R+0],yn=mt[R+2],sr=mt[R+4],En=mt[R+6];if(Tt===rn){(Lt<ue&&En>ae||En<ue&&Lt>ae)&&(Ue=!0);return}var Pn=se===Tt?0:se===rn||ae>r(Lt,yn,sr,En)||ue<t(Lt,yn,sr,En)?1:ke.solveCubic(mt,$,se,ze,0,1)>0?ze[0]:1,sn=Pn===0?Lt:Pn===1?En:ke.getPoint(mt,Pn)[w?"y":"x"],cn=Tt>rn?1:-1,ar=We[$]>We[$+6]?1:-1,zn=We[R+6];return se!==Tt?(sn<ae?Ae+=cn:sn>ue?De+=cn:Ue=!0,sn>Y-re&&sn<Y+re&&(Ee/=2)):(cn!==ar?Lt<ae?Ae+=cn:Lt>ue&&(De+=cn):Lt!=zn&&(zn<ue&&sn>ue?(De+=cn,Ue=!0):zn>ae&&sn<ae&&(Ae+=cn,Ue=!0)),Ee/=4),We=mt,!B&&sn>ae&&sn<ue&&ke.getTangent(mt,Pn)[w?"x":"y"]===0&&j(C,L,!w,T,!0)}}function Ye(mt){var Tt=mt[$+0],rn=mt[$+2],Lt=mt[$+4],yn=mt[$+6];if(se<=r(Tt,rn,Lt,yn)&&se>=t(Tt,rn,Lt,yn)){for(var sr=mt[R+0],En=mt[R+2],Pn=mt[R+4],sn=mt[R+6],cn=ae>r(sr,En,Pn,sn)||ue<t(sr,En,Pn,sn)?[mt]:ke.getMonoCurves(mt,w),ar,zn=0,Cs=cn.length;zn<Cs;zn++)if(ar=Ze(cn[zn]))return ar}}for(var Qe=0,rt=V.length;Qe<rt;Qe++){var at=V[Qe],nt=at._path,Mt=at.getValues(),At;if((!Qe||V[Qe-1]._path!==nt)&&(We=null,nt._closed||($e=ke.getValues(nt.getLastCurve().getSegment2(),at.getSegment1(),null,!T),$e[$]!==$e[$+6]&&(We=$e)),!We)){We=Mt;for(var Wt=nt.getLastCurve();Wt&&Wt!==at;){var zt=Wt.getValues();if(zt[$]!==zt[$+6]){We=zt;break}Wt=Wt.getPrevious()}}if(At=Ye(Mt))return At;if(Qe+1===rt||V[Qe+1]._path!==nt){if($e&&(At=Ye($e)))return At;Ue&&!Ae&&!De&&(Ae=De=nt.isClockwise(T)^w?1:-1),fe+=Ae,ye+=De,Ae=De=0,Ue&&(He=!0,Ue=!1),$e=null}}return fe=s(fe),ye=s(ye),{winding:r(fe,ye),windingL:fe,windingR:ye,quality:Ee,onPath:He}}function P(C,L,w,T,B){var V=[],R=C,$=0,q;do{var K=C.getCurve();if(K){var Y=K.getLength();V.push({segment:C,curve:K,length:Y}),$+=Y}C=C.getNext()}while(C&&!C._intersection&&C!==R);for(var se=[.5,.25,.75],q={winding:0,quality:-1},re=.001,ae=1-re,ue=0;ue<se.length&&q.quality<.5;ue++)for(var Y=$*se[ue],fe=0,ye=V.length;fe<ye;fe++){var Ae=V[fe],De=Ae.length;if(Y<=De){var K=Ae.curve,Ue=K._path,He=Ue._parent,Ee=He instanceof je?He:Ue,ze=D.clamp(K.getTimeAt(Y),re,ae),We=K.getPointAtTime(ze),$e=s(K.getTangentAtTime(ze).y)<Math.SQRT1_2,Ze=null;if(B.subtract&&w){var Ye=Ee===L?w:L,Qe=Ye._getWinding(We,$e,!0);if(Ee===L&&Qe.winding||Ee===w&&!Qe.winding){if(Qe.quality<1)continue;Ze={winding:0,quality:1}}}Ze=Ze||j(We,T[Ue._id][K.getIndex()],$e,!0),Ze.quality>q.quality&&(q=Ze);break}Y-=De}for(var fe=V.length-1;fe>=0;fe--)V[fe].segment._winding=q}function F(C,L){var w=[],T;function B(rt){var at;return!!(rt&&!rt._visited&&(!L||L[(at=rt._winding||{}).winding]&&!(L.unite&&at.winding===2&&at.windingL&&at.windingR)))}function V(rt){if(rt){for(var at=0,nt=T.length;at<nt;at++)if(rt===T[at])return!0}return!1}function R(rt){for(var at=rt._segments,nt=0,Mt=at.length;nt<Mt;nt++)at[nt]._visited=!0}function $(rt,at){var nt=rt._intersection,Mt=nt,At=[];at&&(T=[rt]);function Wt(zt,mt){for(;zt&&zt!==mt;){var Tt=zt._segment,rn=Tt&&Tt._path;if(rn){var Lt=Tt.getNext()||rn.getFirstSegment(),yn=Lt._intersection;Tt!==rt&&(V(Tt)||V(Lt)||Lt&&B(Tt)&&(B(Lt)||yn&&B(yn._segment)))&&At.push(Tt),at&&T.push(Tt)}zt=zt._next}}if(nt){for(Wt(nt);nt&&nt._previous;)nt=nt._previous;Wt(nt,Mt)}return At}C.sort(function(rt,at){var nt=rt._intersection,Mt=at._intersection,At=!!(nt&&nt._overlap),Wt=!!(Mt&&Mt._overlap),zt=rt._path,mt=at._path;return At^Wt?At?1:-1:!nt^!Mt?nt?1:-1:zt!==mt?zt._id-mt._id:rt._index-at._index});for(var K=0,Y=C.length;K<Y;K++){var se=C[K],q=B(se),re=null,ae=!1,ue=!0,fe=[],ye,Ae,De;if(q&&se._path._overlapsOnly){var Ue=se._path,He=se._intersection._segment._path;Ue.compare(He)&&(Ue.getArea()&&w.push(Ue.clone(!1)),R(Ue),R(He),q=!1)}for(;q;){var Ee=!re,ze=$(se,Ee),We=ze.shift(),ae=!Ee&&(V(se)||V(We)),$e=!ae&&We;if(Ee&&(re=new ge(ie.NO_INSERT),ye=null),ae){(se.isFirst()||se.isLast())&&(ue=se._path._closed),se._visited=!0;break}if($e&&ye&&(fe.push(ye),ye=null),ye||($e&&ze.push(se),ye={start:re._segments.length,crossings:ze,visited:Ae=[],handleIn:De}),$e&&(se=We),!B(se)){re.removeSegments(ye.start);for(var Ze=0,Ye=Ae.length;Ze<Ye;Ze++)Ae[Ze]._visited=!1;Ae.length=0;do se=ye&&ye.crossings.shift(),(!se||!se._path)&&(se=null,ye=fe.pop(),ye&&(Ae=ye.visited,De=ye.handleIn));while(ye&&!B(se));if(!se)break}var Qe=se.getNext();re.add(new O(se._point,De,Qe&&se._handleOut)),se._visited=!0,Ae.push(se),se=Qe||se._path.getFirstSegment(),De=Qe&&Qe._handleIn}ae&&(ue&&(re.getFirstSegment().setHandleIn(De),re.setClosed(ue)),re.getArea()!==0&&w.push(re))}return w}return{_getWinding:function(C,L,w){return j(C,this.getCurves(),L,w)},unite:function(C,L){return m(this,C,"unite",L)},intersect:function(C,L){return m(this,C,"intersect",L)},subtract:function(C,L){return m(this,C,"subtract",L)},exclude:function(C,L){return m(this,C,"exclude",L)},divide:function(C,L){return L&&(L.trace==!1||L.stroke)?_(this,C,"divide"):p([this.subtract(C,L),this.intersect(C,L)],!0,this,C,L)},resolveCrossings:function(){var C=this._children,L=C||[this];function w(ye,Ae){var De=ye&&ye._intersection;return De&&De._overlap&&De._path===Ae}var T=!1,B=!1,V=this.getIntersections(null,function(ye){return ye.hasOverlap()&&(T=!0)||ye.isCrossing()&&(B=!0)}),R=T&&B&&[];if(V=Te.expand(V),T)for(var $=x(V,function(ye){return ye.hasOverlap()},R),K=$.length-1;K>=0;K--){var Y=$[K],se=Y._path,q=Y._segment,re=q.getPrevious(),ae=q.getNext();w(re,se)&&w(ae,se)&&(q.remove(),re._handleOut._set(0,0),ae._handleIn._set(0,0),re!==q&&!re.getCurve().hasLength()&&(ae._handleIn.set(re._handleIn),re.remove()))}B&&(x(V,T&&function(ye){var Ae=ye.getCurve(),De=ye.getSegment(),Ue=ye._intersection,He=Ue._curve,Ee=Ue._segment;if(Ae&&He&&Ae._path&&He._path)return!0;De&&(De._intersection=null),Ee&&(Ee._intersection=null)},R),R&&E(R),L=F(o.each(L,function(ye){o.push(this,ye._segments)},[])));var ue=L.length,fe;return ue>1&&C?(L!==C&&this.setChildren(L),fe=this):ue===1&&!C&&(L[0]!==this&&this.setSegments(L[0].removeSegments()),fe=this),fe||(fe=new je(ie.NO_INSERT),fe.addChildren(L),fe=fe.reduce(),fe.copyAttributes(this),this.replaceWith(fe)),fe},reorient:function(C,L){var w=this._children;return w&&w.length?this.setChildren(k(this.removeChildren(),function(T){return!!(C?T:T&1)},L)):L!==i&&this.setClockwise(L),this},getInteriorPoint:function(){var C=this.getBounds(),L=C.getCenter(!0);if(!this.contains(L)){for(var w=this.getCurves(),T=L.y,B=[],V=[],R=0,$=w.length;R<$;R++){var K=w[R].getValues(),Y=K[1],se=K[3],q=K[5],re=K[7];if(T>=t(Y,se,q,re)&&T<=r(Y,se,q,re))for(var ae=ke.getMonoCurves(K),ue=0,fe=ae.length;ue<fe;ue++){var ye=ae[ue],Ae=ye[1],De=ye[7];if(Ae!==De&&(T>=Ae&&T<=De||T>=De&&T<=Ae)){var Ue=T===Ae?ye[0]:T===De?ye[6]:ke.solveCubic(ye,1,T,V,0,1)===1?ke.getPoint(ye,V[0]).x:(ye[0]+ye[6])/2;B.push(Ue)}}}B.length>1&&(B.sort(function(He,Ee){return He-Ee}),L.x=(B[0]+B[1])/2)}return L}}});var ve=o.extend({_class:"PathFlattener",initialize:function(t,r,s,l,f){var c=[],p=[],d=0,m=1/(s||32),_=t._segments,b=_[0],E;function k(F,C){var L=ke.getValues(F,C,f);c.push(L),x(L,F._index,0,1)}function x(F,C,L,w){if(w-L>m&&!(l&&ke.isStraight(F))&&!ke.isFlatEnough(F,r||.25)){var T=ke.subdivide(F,.5),B=(L+w)/2;x(T[0],C,L,B),x(T[1],C,B,w)}else{var V=F[6]-F[0],R=F[7]-F[1],$=Math.sqrt(V*V+R*R);$>0&&(d+=$,p.push({offset:d,curve:F,index:C,time:w}))}}for(var j=1,P=_.length;j<P;j++)E=_[j],k(b,E),b=E;t._closed&&k(E||b,_[0]),this.curves=c,this.parts=p,this.length=d,this.index=0},_get:function(t){for(var r=this.parts,s=r.length,l,f=this.index;l=f,!(!f||r[--f].offset<t););for(;l<s;l++){var c=r[l];if(c.offset>=t){this.index=l;var p=r[l-1],d=p&&p.index===c.index?p.time:0,m=p?p.offset:0;return{index:c.index,time:d+(c.time-d)*(t-m)/(c.offset-m)}}}return{index:r[s-1].index,time:1}},drawPart:function(t,r,s){for(var l=this._get(r),f=this._get(s),c=l.index,p=f.index;c<=p;c++){var d=ke.getPart(this.curves[c],c===l.index?l.time:0,c===f.index?f.time:1);c===l.index&&t.moveTo(d[0],d[1]),t.bezierCurveTo.apply(t,d.slice(2))}}},o.each(ke._evaluateMethods,function(t){this[t+"At"]=function(r){var s=this._get(r);return ke[t](this.curves[s.index],s.time)}},{})),_e=o.extend({initialize:function(t){for(var r=this.points=[],s=t._segments,l=t._closed,f=0,c,p=s.length;f<p;f++){var d=s[f].point;(!c||!c.equals(d))&&r.push(c=d.clone())}l&&(r.unshift(r[r.length-1]),r.push(r[1])),this.closed=l},fit:function(t){var r=this.points,s=r.length,l=null;return s>0&&(l=[new O(r[0])],s>1&&(this.fitCubic(l,t,0,s-1,r[1].subtract(r[0]),r[s-2].subtract(r[s-1])),this.closed&&(l.shift(),l.pop()))),l},fitCubic:function(t,r,s,l,f,c){var p=this.points;if(l-s===1){var d=p[s],m=p[l],_=d.getDistance(m)/3;this.addCurve(t,[d,d.add(f.normalize(_)),m.add(c.normalize(_)),m]);return}for(var b=this.chordLengthParameterize(s,l),E=Math.max(r,r*r),k,x=!0,j=0;j<=4;j++){var P=this.generateBezier(s,l,b,f,c),F=this.findMaxError(s,l,P,b);if(F.error<r&&x){this.addCurve(t,P);return}if(k=F.index,F.error>=E)break;x=this.reparameterize(s,l,b,P),E=F.error}var C=p[k-1].subtract(p[k+1]);this.fitCubic(t,r,s,k,f,C),this.fitCubic(t,r,k,l,C.negate(),c)},addCurve:function(t,r){var s=t[t.length-1];s.setHandleOut(r[1].subtract(r[0])),t.push(new O(r[3],r[2].subtract(r[3])))},generateBezier:function(t,r,s,l,f){for(var c=1e-12,p=Math.abs,d=this.points,m=d[t],_=d[r],b=[[0,0],[0,0]],E=[0,0],k=0,x=r-t+1;k<x;k++){var j=s[k],P=1-j,F=3*j*P,C=P*P*P,L=F*P,w=F*j,T=j*j*j,B=l.normalize(L),V=f.normalize(w),R=d[t+k].subtract(m.multiply(C+L)).subtract(_.multiply(w+T));b[0][0]+=B.dot(B),b[0][1]+=B.dot(V),b[1][0]=b[0][1],b[1][1]+=V.dot(V),E[0]+=B.dot(R),E[1]+=V.dot(R)}var $=b[0][0]*b[1][1]-b[1][0]*b[0][1],K,Y;if(p($)>c){var se=b[0][0]*E[1]-b[1][0]*E[0],q=E[0]*b[1][1]-E[1]*b[0][1];K=q/$,Y=se/$}else{var re=b[0][0]+b[0][1],ae=b[1][0]+b[1][1];K=Y=p(re)>c?E[0]/re:p(ae)>c?E[1]/ae:0}var ue=_.getDistance(m),fe=c*ue,ye,Ae;if(K<fe||Y<fe)K=Y=ue/3;else{var De=_.subtract(m);ye=l.normalize(K),Ae=f.normalize(Y),ye.dot(De)-Ae.dot(De)>ue*ue&&(K=Y=ue/3,ye=Ae=null)}return[m,m.add(ye||l.normalize(K)),_.add(Ae||f.normalize(Y)),_]},reparameterize:function(t,r,s,l){for(var f=t;f<=r;f++)s[f-t]=this.findRoot(l,this.points[f],s[f-t]);for(var f=1,c=s.length;f<c;f++)if(s[f]<=s[f-1])return!1;return!0},findRoot:function(t,r,s){for(var l=[],f=[],c=0;c<=2;c++)l[c]=t[c+1].subtract(t[c]).multiply(3);for(var c=0;c<=1;c++)f[c]=l[c+1].subtract(l[c]).multiply(2);var p=this.evaluate(3,t,s),d=this.evaluate(2,l,s),m=this.evaluate(1,f,s),_=p.subtract(r),b=d.dot(d)+_.dot(m);return D.isMachineZero(b)?s:s-_.dot(d)/b},evaluate:function(t,r,s){for(var l=r.slice(),f=1;f<=t;f++)for(var c=0;c<=t-f;c++)l[c]=l[c].multiply(1-s).add(l[c+1].multiply(s));return l[0]},chordLengthParameterize:function(t,r){for(var s=[0],l=t+1;l<=r;l++)s[l-t]=s[l-t-1]+this.points[l].getDistance(this.points[l-1]);for(var l=1,f=r-t;l<=f;l++)s[l]/=s[f];return s},findMaxError:function(t,r,s,l){for(var f=Math.floor((r-t+1)/2),c=0,p=t+1;p<r;p++){var d=this.evaluate(3,s,l[p-t]),m=d.subtract(this.points[p]),_=m.x*m.x+m.y*m.y;_>=c&&(c=_,f=p)}return{error:c,index:f}}}),Ke=ie.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(r){this._content="",this._lines=[];var s=r&&o.isPlainObject(r)&&r.x===i&&r.y===i;this._initialize(s&&r,!s&&v.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Ve=Ke.extend({_class:"PointText",initialize:function(){Ke.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new H(t.x,t.y,this,"setPoint")},setPoint:function(){var t=v.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,r,s){if(this._content){this._setStyles(t,r,s);var l=this._lines,f=this._style,c=f.hasFill(),p=f.hasStroke(),d=f.getLeading(),m=t.shadowColor;t.font=f.getFontStyle(),t.textAlign=f.getJustification();for(var _=0,b=l.length;_<b;_++){t.shadowColor=m;var E=l[_];c&&(t.fillText(E,0,0),t.shadowColor="rgba(0,0,0,0)"),p&&t.strokeText(E,0,0),t.translate(0,d)}}},_getBounds:function(t,r){var s=this._style,l=this._lines,f=l.length,c=s.getJustification(),p=s.getLeading(),d=this.getView().getTextWidth(s.getFontStyle(),l),m=0;c!=="left"&&(m-=d/(c==="center"?2:1));var _=new S(m,f?-.75*p:0,d,f*p);return t?t._transformBounds(_,_):_}}),Fe=o.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},s={transparent:[0,0,0,0]},l;function f(d){var m=d.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||d.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),_="rgb",b;if(m){var E=m[4]?4:3;b=new Array(E);for(var k=0;k<E;k++){var x=m[k+1];b[k]=parseInt(x.length==1?x+x:x,16)/255}}else if(m=d.match(/^(rgb|hsl)a?\((.*)\)$/)){_=m[1],b=m[2].trim().split(/[,\s]+/g);for(var j=_==="hsl",k=0,P=Math.min(b.length,4);k<P;k++){var F=b[k],x=parseFloat(F);if(j)if(k===0){var C=F.match(/([a-z]*)$/)[1];x*={turn:360,rad:180/Math.PI,grad:.9}[C]||1}else k<3&&(x/=100);else k<3&&(x/=/%$/.test(F)?100:255);b[k]=x}}else{var L=s[d];if(!L)if(a){l||(l=Ne.getContext(1,1,{willReadFrequently:!0}),l.globalCompositeOperation="copy"),l.fillStyle="rgba(0,0,0,0)",l.fillStyle=d,l.fillRect(0,0,1,1);var w=l.getImageData(0,0,1,1).data;L=s[d]=[w[0]/255,w[1]/255,w[2]/255]}else L=[0,0,0];b=L.slice()}return[_,b]}var c=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],p={"rgb-hsb":function(d,m,_){var b=Math.max(d,m,_),E=Math.min(d,m,_),k=b-E,x=k===0?0:(b==d?(m-_)/k+(m<_?6:0):b==m?(_-d)/k+2:(d-m)/k+4)*60;return[x,b===0?0:k/b,b]},"hsb-rgb":function(d,m,_){d=(d/60%6+6)%6;var E=Math.floor(d),b=d-E,E=c[E],k=[_,_*(1-m),_*(1-m*b),_*(1-m*(1-b))];return[k[E[0]],k[E[1]],k[E[2]]]},"rgb-hsl":function(d,m,_){var b=Math.max(d,m,_),E=Math.min(d,m,_),k=b-E,x=k===0,j=x?0:(b==d?(m-_)/k+(m<_?6:0):b==m?(_-d)/k+2:(d-m)/k+4)*60,P=(b+E)/2,F=x?0:P<.5?k/(b+E):k/(2-b-E);return[j,F,P]},"hsl-rgb":function(d,m,_){if(d=(d/360%1+1)%1,m===0)return[_,_,_];for(var b=[d+1/3,d,d-1/3],E=_<.5?_*(1+m):_+m-_*m,k=2*_-E,x=[],j=0;j<3;j++){var P=b[j];P<0&&(P+=1),P>1&&(P-=1),x[j]=6*P<1?k+(E-k)*6*P:2*P<1?E:3*P<2?k+(E-k)*(2/3-P)*6:k}return x},"rgb-gray":function(d,m,_){return[d*.2989+m*.587+_*.114]},"gray-rgb":function(d){return[d,d,d]},"gray-hsb":function(d){return[0,0,d]},"gray-hsl":function(d){return[0,0,d]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return o.each(t,function(d,m){r[m]=[],o.each(d,function(_,b){var E=o.capitalize(_),k=/^(hue|saturation)$/.test(_),x=r[m][b]=m==="gradient"?_==="gradient"?function(j){var P=this._components[0];return j=ht.read(Array.isArray(j)?j:arguments,0,{readNull:!0}),P!==j&&(P&&P._removeOwner(this),j&&j._addOwner(this)),j}:function(){return v.read(arguments,0,{readNull:_==="highlight",clone:!0})}:function(j){return j==null||isNaN(j)?0:+j};this["get"+E]=function(){return this._type===m||k&&/^hs[bl]$/.test(this._type)?this._components[b]:this._convert(m)[b]},this["set"+E]=function(j){this._type!==m&&!(k&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(m),this._properties=t[m],this._type=m),this._components[b]=x.call(this,j),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function d(m){var _=arguments,b=this.__read,E=0,k,x,j,P;Array.isArray(m)&&(_=m,m=_[0]);var F=m!=null&&typeof m;if(F==="string"&&m in t&&(k=m,m=_[1],Array.isArray(m)?(x=m,j=_[2]):(b&&(E=1),_=o.slice(_,1),F=typeof m)),!x){if(P=F==="number"?_:F==="object"&&m.length!=null?m:null,P){k||(k=P.length>=3?"rgb":"gray");var C=t[k].length;j=P[C],b&&(E+=P===arguments?C+(j!=null?1:0):1),P.length>C&&(P=o.slice(P,0,C))}else if(F==="string"){var L=f(m);k=L[0],x=L[1],x.length===4&&(j=x[3],x.length--)}else if(F==="object")if(m.constructor===d){if(k=m._type,x=m._components.slice(),j=m._alpha,k==="gradient")for(var w=1,T=x.length;w<T;w++){var B=x[w];B&&(x[w]=B.clone())}}else if(m.constructor===ht)k="gradient",P=_;else{k="hue"in m?"lightness"in m?"hsl":"hsb":"gradient"in m||"stops"in m||"radial"in m?"gradient":"gray"in m?"gray":"rgb";var V=t[k],R=r[k];this._components=x=[];for(var w=0,T=V.length;w<T;w++){var $=m[V[w]];$==null&&!w&&k==="gradient"&&"stops"in m&&($={stops:m.stops,radial:m.radial}),$=R[w].call(this,$),$!=null&&(x[w]=$)}j=m.alpha}b&&k&&(E=1)}if(this._type=k||"rgb",!x){this._components=x=[];for(var R=r[this._type],w=0,T=R.length;w<T;w++){var $=R[w].call(this,P&&P[w]);$!=null&&(x[w]=$)}}return this._components=x,this._properties=t[this._type],this._alpha=j,b&&(this.__read=E),this},set:"#initialize",_serialize:function(d,m){var _=this.getComponents();return o.serialize(/^(gray|rgb)$/.test(this._type)?_:[this._type].concat(_),d,!0,m)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(d){var m;return this._type===d?this._components.slice():(m=p[this._type+"-"+d])?m.apply(this,this._components):p["rgb-"+d].apply(this,p[this._type+"-rgb"].apply(this,this._components))},convert:function(d){return new Fe(d,this._convert(d),this._alpha)},getType:function(){return this._type},setType:function(d){this._components=this._convert(d),this._properties=t[d],this._type=d},getComponents:function(){var d=this._components.slice();return this._alpha!=null&&d.push(this._alpha),d},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(d){this._alpha=d==null?null:Math.min(Math.max(d,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(d){var m=o.isPlainValue(d,!0)?Fe.read(arguments):d;return m===this||m&&this._class===m._class&&this._type===m._type&&this.getAlpha()===m.getAlpha()&&o.equals(this._components,m._components)||!1},toString:function(){for(var d=this._properties,m=[],_=this._type==="gradient",b=U.instance,E=0,k=d.length;E<k;E++){var x=this._components[E];x!=null&&m.push(d[E]+": "+(_?x:b.number(x)))}return this._alpha!=null&&m.push("alpha: "+b.number(this._alpha)),"{ "+m.join(", ")+" }"},toCSS:function(d){var m=this._convert("rgb"),_=d||this._alpha==null?1:this._alpha;function b(E){return Math.round((E<0?0:E>1?1:E)*255)}return m=[b(m[0]),b(m[1]),b(m[2])],_<1&&m.push(_<0?0:_),d?"#"+((1<<24)+(m[0]<<16)+(m[1]<<8)+m[2]).toString(16).slice(1):(m.length==4?"rgba(":"rgb(")+m.join(",")+")"},toCanvasStyle:function(d,m){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var _=this._components,b=_[0],E=b._stops,k=_[1],x=_[2],j=_[3],P=m&&m.inverted(),F;if(P&&(k=P._transformPoint(k),x=P._transformPoint(x),j&&(j=P._transformPoint(j))),b._radial){var C=x.getDistance(k);if(j){var L=j.subtract(k);L.getLength()>C&&(j=k.add(L.normalize(C-.1)))}var w=j||k;F=d.createRadialGradient(w.x,w.y,0,k.x,k.y,C)}else F=d.createLinearGradient(k.x,k.y,x.x,x.y);for(var T=0,B=E.length;T<B;T++){var V=E[T],R=V._offset;F.addColorStop(R??T/(B-1),V._color.toCanvasStyle())}return this._canvasStyle=F},transform:function(d){if(this._type==="gradient"){for(var m=this._components,_=1,b=m.length;_<b;_++){var E=m[_];d._transformPoint(E,E,!0)}this._changed()}},statics:{_types:t,random:function(){var d=Math.random;return new Fe(d(),d(),d())},_setOwner:function(d,m,_){return d&&(d._owner&&m&&d._owner!==m&&(d=d.clone()),!d._owner^!m&&(d._owner=m||null,d._setter=_||null)),d}}})},new function(){var t={add:function(r,s){return r+s},subtract:function(r,s){return r-s},multiply:function(r,s){return r*s},divide:function(r,s){return r/s}};return o.each(t,function(r,s){this[s]=function(l){l=Fe.read(arguments);for(var f=this._type,c=this._components,p=l._convert(f),d=0,m=c.length;d<m;d++)p[d]=r(c[d],p[d]);return new Fe(f,p,this._alpha!=null?r(this._alpha,l.getAlpha()):null)}},{})}),ht=o.extend({_class:"Gradient",initialize:function(r,s){this._id=W.get(),r&&o.isPlainObject(r)&&(this.set(r),r=s=null),this._stops==null&&this.setStops(r||["white","black"]),this._radial==null&&this.setRadial(typeof s=="string"&&s==="radial"||s||!1)},_serialize:function(t,r){return r.add(this,function(){return o.serialize([this._stops,this._radial],t,!0,r)})},_changed:function(){for(var t=0,r=this._owners&&this._owners.length;t<r;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var r=this._owners?this._owners.indexOf(t):-1;r!=-1&&(this._owners.splice(r,1),this._owners.length||(this._owners=i))},clone:function(){for(var t=[],r=0,s=this._stops.length;r<s;r++)t[r]=this._stops[r].clone();return new ht(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var r=this._stops;if(r)for(var s=0,l=r.length;s<l;s++)r[s]._owner=i;r=this._stops=yt.readList(t,0,{clone:!0});for(var s=0,l=r.length;s<l;s++)r[s]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var r=this._stops,s=t._stops,l=r.length;if(l===s.length){for(var f=0;f<l;f++)if(!r[f].equals(s[f]))return!1;return!0}}return!1}}),yt=o.extend({_class:"GradientStop",initialize:function(r,s){var l=r,f=s;typeof r=="object"&&s===i&&(Array.isArray(r)&&typeof r[0]!="number"?(l=r[0],f=r[1]):("color"in r||"offset"in r||"rampPoint"in r)&&(l=r.color,f=r.offset||r.rampPoint||0)),this.setColor(l),this.setOffset(f)},clone:function(){return new yt(this._color.clone(),this._offset)},_serialize:function(t,r){var s=this._color,l=this._offset;return o.serialize(l==null?[s]:[s,l],t,!0,r)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Fe._setOwner(this._color,null),this._color=Fe._setOwner(Fe.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),lt=o.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new v,selectedColor:null},r=o.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),s=o.set({},r,{fillColor:new Fe}),l={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},f={beans:!0},c={_class:"Style",beans:!0,initialize:function(d,m,_){this._values={},this._owner=m,this._project=m&&m._project||_||Pe.project,this._defaults=!m||m instanceof le?r:m instanceof Ke?s:t,d&&this.set(d)}};return o.each(r,function(p,d){var m=/Color$/.test(d),_=d==="shadowOffset",b=o.capitalize(d),E=l[d],k="set"+b,x="get"+b;c[k]=function(j){var P=this._owner,F=P&&P._children,C=F&&F.length>0&&!(P instanceof je);if(C)for(var L=0,w=F.length;L<w;L++)F[L]._style[k](j);if((d==="selectedColor"||!C)&&d in this._defaults){var T=this._values[d];T!==j&&(m&&(T&&(Fe._setOwner(T,null),T._canvasStyle=null),j&&j.constructor===Fe&&(j=Fe._setOwner(j,P,C&&k))),this._values[d]=j,P&&P._changed(E||129))}},c[x]=function(j){var P=this._owner,F=P&&P._children,C=F&&F.length>0&&!(P instanceof je),L;if(C&&!j)for(var w=0,T=F.length;w<T;w++){var B=F[w]._style[x]();if(!w)L=B;else if(!o.equals(L,B))return i}else if(d in this._defaults){var L=this._values[d];if(L===i)L=this._defaults[d],L&&L.clone&&(L=L.clone());else{var V=m?Fe:_?v:null;V&&!(L&&L.constructor===V)&&(this._values[d]=L=V.read([L],0,{readNull:!0,clone:!0}))}}return L&&m&&(L=Fe._setOwner(L,P,C&&k)),L},f[x]=function(j){return this._style[x](j)},f[k]=function(j){this._style[k](j)}}),o.each({Font:"FontFamily",WindingRule:"FillRule"},function(p,d){var m="get"+d,_="set"+d;c[m]=f[m]="#get"+p,c[_]=f[_]="#set"+p}),ie.inject(f),c},{set:function(t){var r=t instanceof lt,s=r?t._values:t;if(s){for(var l in s)if(l in this._defaults){var f=s[l];this[l]=f&&r&&f.clone?f.clone():f}}},equals:function(t){function r(s,l,f){var c=s._values,p=l._values,d=l._defaults;for(var m in c){var _=c[m],b=p[m];if(!(f&&m in p)&&!o.equals(_,b===i?d[m]:b))return!1}return!0}return t===this||t&&this._class===t._class&&r(this,t)&&r(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var r=t.base.call(this),s=this.getFontSize();return/pt|em|%|px/.test(s)&&(s=this.getView().getPixelSize(s)),r??s*1.2}}),Xe=new function(){function t(r,s,l,f){for(var c=["","webkit","moz","Moz","ms","o"],p=s[0].toUpperCase()+s.substring(1),d=0;d<6;d++){var m=c[d],_=m?m+p:s;if(_ in r){if(l)r[_]=f;else return r[_];break}}}return{getStyles:function(r){var s=r&&r.nodeType!==9?r.ownerDocument:r,l=s&&s.defaultView;return l&&l.getComputedStyle(r,"")},getBounds:function(r,s){var l=r.ownerDocument,f=l.body,c=l.documentElement,p;try{p=r.getBoundingClientRect()}catch{p={left:0,top:0,width:0,height:0}}var d=p.left-(c.clientLeft||f.clientLeft||0),m=p.top-(c.clientTop||f.clientTop||0);if(!s){var _=l.defaultView;d+=_.pageXOffset||c.scrollLeft||f.scrollLeft,m+=_.pageYOffset||c.scrollTop||f.scrollTop}return new S(d,m,p.width,p.height)},getViewportBounds:function(r){var s=r.ownerDocument,l=s.defaultView,f=s.documentElement;return new S(0,0,l.innerWidth||f.clientWidth,l.innerHeight||f.clientHeight)},getOffset:function(r,s){return Xe.getBounds(r,s).getPoint()},getSize:function(r){return Xe.getBounds(r,!0).getSize()},isInvisible:function(r){return Xe.getSize(r).equals(new N(0,0))},isInView:function(r){return!Xe.isInvisible(r)&&Xe.getViewportBounds(r).intersects(Xe.getBounds(r,!0))},isInserted:function(r){return u.body.contains(r)},getPrefixed:function(r,s){return r&&t(r,s)},setPrefixed:function(r,s,l){if(typeof s=="object")for(var f in s)t(r,f,!0,s[f]);else t(r,s,!0,l)}}},ut={add:function(t,r){if(t)for(var s in r)for(var l=r[s],f=s.split(/[\s,]+/g),c=0,p=f.length;c<p;c++){var d=f[c],m=t===u&&(d==="touchstart"||d==="touchmove")?{passive:!1}:!1;t.addEventListener(d,l,m)}},remove:function(t,r){if(t)for(var s in r)for(var l=r[s],f=s.split(/[\s,]+/g),c=0,p=f.length;c<p;c++)t.removeEventListener(f[c],l,!1)},getPoint:function(t){var r=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new v(r.pageX||r.clientX+u.documentElement.scrollLeft,r.pageY||r.clientY+u.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,r){return ut.getPoint(t).subtract(Xe.getOffset(r||ut.getTarget(t)))}};ut.requestAnimationFrame=new function(){var t=Xe.getPrefixed(a,"requestAnimationFrame"),r=!1,s=[],l;function f(){var c=s;s=[];for(var p=0,d=c.length;p<d;p++)c[p]();r=t&&s.length,r&&t(f)}return function(c){s.push(c),t?r||(t(f),r=!0):l||(l=setInterval(f,1e3/60))}};var st=o.extend(h,{_class:"View",initialize:function t(r,s){function l(E){return s[E]||parseInt(s.getAttribute(E),10)}function f(){var E=Xe.getSize(s);return E.isNaN()||E.isZero()?new N(l("width"),l("height")):E}var c;if(a&&s){this._id=s.getAttribute("id"),this._id==null&&s.setAttribute("id",this._id="paper-view-"+t._id++),ut.add(s,this._viewEvents);var p="none";if(Xe.setPrefixed(s.style,{userDrag:p,userSelect:p,touchCallout:p,contentZooming:p,tapHighlightColor:"rgba(0,0,0,0)"}),g.hasAttribute(s,"resize")){var d=this;ut.add(a,this._windowEvents={resize:function(){d.setViewSize(f())}})}if(c=f(),g.hasAttribute(s,"stats")&&typeof Stats<"u"){this._stats=new Stats;var m=this._stats.domElement,_=m.style,b=Xe.getOffset(s);_.position="absolute",_.left=b.x+"px",_.top=b.y+"px",u.body.appendChild(m)}}else c=new N(s),s=null;this._project=r,this._scope=r._scope,this._element=s,this._pixelRatio||(this._pixelRatio=a&&a.devicePixelRatio||1),this._setElementSize(c.width,c.height),this._viewSize=c,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new A)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Pe.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;st._focused===this&&(st._focused=null),st._views.splice(st._views.indexOf(this),1),delete st._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),ut.remove(this._element,this._viewEvents),ut.remove(a,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:o.each(ie._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;ut.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var r=t._element;(!Xe.getPrefixed(u,"hidden")||g.getAttribute(r,"keepalive")==="true")&&Xe.isInView(r)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Pe=this._scope;var t=Date.now()/1e3,r=this._last?t-this._last:0;this._last=t,this.emit("frame",new o({delta:r,time:this._time+=r,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,r){var s=this._frameItems;r?(s[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete s[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var r in this._frameItems){var s=this._frameItems[r];s.item.emit("frame",new o(t,{time:s.time+=t.delta,count:s.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=i},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new Z(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=N.read(arguments),r=t.subtract(this._viewSize);r.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:r}),this._autoUpdate&&this.update())},_setElementSize:function(t,r){var s=this._element;s&&(s.width!==t&&(s.width=t),s.height!==r&&(s.height=r))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new S(new v,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Xe.isInView(this._element)},isInserted:function(){return Xe.isInserted(this._element)},getPixelSize:function(t){var r=this._element,s;if(r){var l=r.parentNode,f=u.createElement("div");f.style.fontSize=t,l.appendChild(f),s=parseFloat(Xe.getStyles(f).fontSize),l.removeChild(f)}else s=parseFloat(s);return s},getTextWidth:function(t,r){return 0}},o.each(["rotate","scale","shear","skew"],function(t){var r=t==="rotate";this[t]=function(){var s=arguments,l=(r?o:v).read(s),f=v.read(s,0,{readNull:!0});return this.transform(new A()[t](l,f||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new A;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=v.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new A().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var r=this.getRotation();r!=null&&t!=null&&this.rotate(t-r)},getScaling:function(){var t=this._decompose().scaling;return new H(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),r=v.read(arguments,0,{clone:!0,readNull:!0});t&&r&&this.scale(r.x/t.x,r.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(v.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(v.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(v.read(arguments))},getEventPoint:function(t){return this.viewToProject(ut.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,r){u&&typeof r=="string"&&(r=u.getElementById(r));var s=a?vn:st;return new s(t,r)}}},new function(){if(!a)return;var t,r,s=!1,l=!1;function f(q){var re=ut.getTarget(q);return re.getAttribute&&st._viewsById[re.getAttribute("id")]}function c(){var q=st._focused;if(!q||!q.isVisible()){for(var re=0,ae=st._views.length;re<ae;re++)if((q=st._views[re]).isVisible()){st._focused=r=q;break}}}function p(q,re,ae){q._handleMouseEvent("mousemove",re,ae)}var d=a.navigator,m,_,b;d.pointerEnabled||d.msPointerEnabled?(m="pointerdown MSPointerDown",_="pointermove MSPointerMove",b="pointerup pointercancel MSPointerUp MSPointerCancel"):(m="touchstart",_="touchmove",b="touchend touchcancel","ontouchstart"in a&&d.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(m+=" mousedown",_+=" mousemove",b+=" mouseup"));var E={},k={mouseout:function(q){var re=st._focused,ae=ut.getRelatedTarget(q);if(re&&(!ae||ae.nodeName==="HTML")){var ue=ut.getOffset(q,re._element),fe=ue.x,ye=Math.abs,Ae=ye(fe),De=1<<25,Ue=Ae-De;ue.x=ye(Ue)<Ae?Ue*(fe<0?-1:1):fe,p(re,q,re.viewToProject(ue))}},scroll:c};E[m]=function(q){var re=st._focused=f(q);s||(s=!0,re._handleMouseEvent("mousedown",q))},k[_]=function(q){var re=st._focused;if(!l){var ae=f(q);ae?re!==ae&&(re&&p(re,q),t||(t=re),re=st._focused=r=ae):r&&r===re&&(t&&!t.isInserted()&&(t=null),re=st._focused=t,t=null,c())}re&&p(re,q)},k[m]=function(){l=!0},k[b]=function(q){var re=st._focused;re&&s&&re._handleMouseEvent("mouseup",q),l=s=!1},ut.add(u,k),ut.add(a,{load:c});var x=!1,j=!1,P={doubleclick:"click",mousedrag:"mousemove"},F=!1,C,L,w,T,B,V,R,$;function K(q,re,ae,ue,fe,ye,Ae){var De=!1,Ue;function He(Ee,ze){if(Ee.responds(ze)){if(Ue||(Ue=new Ce(ze,ue,fe,re||Ee,ye?fe.subtract(ye):null)),Ee.emit(ze,Ue)&&(x=!0,Ue.prevented&&(j=!0),Ue.stopped))return De=!0}else{var We=P[ze];if(We)return He(Ee,We)}}for(;q&&q!==Ae&&!He(q,ae);)q=q._parent;return De}function Y(q,re,ae,ue,fe,ye){return q._project.removeOn(ae),j=x=!1,B&&K(B,null,ae,ue,fe,ye)||re&&re!==B&&!re.isDescendant(B)&&K(re,null,ae==="mousedrag"?"mousemove":ae,ue,fe,ye,B)||K(q,B||re||q,ae,ue,fe,ye)}var se={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:E,_handleMouseEvent:function(q,re,ae){var ue=this._itemEvents,fe=ue.native[q],ye=q==="mousemove",Ae=this._scope.tool,De=this;function Ue(Ye){return ue.virtual[Ye]||De.responds(Ye)||Ae&&Ae.responds(Ye)}ye&&s&&Ue("mousedrag")&&(q="mousedrag"),ae||(ae=this.getEventPoint(re));var He=this.getBounds().contains(ae),Ee=fe&&He&&De._project.hitTest(ae,{tolerance:0,fill:!0,stroke:!0}),ze=Ee&&Ee.item||null,We=!1,$e={};if($e[q.substr(5)]=!0,fe&&ze!==T&&(T&&K(T,null,"mouseleave",re,ae),ze&&K(ze,null,"mouseenter",re,ae),T=ze),F^He&&(K(this,null,He?"mouseenter":"mouseleave",re,ae),We=!0),(He||$e.drag)&&!ae.equals(L)&&(Y(this,ze,ye?q:"mousemove",re,ae,L),We=!0),F=He,$e.down&&He||$e.up&&C){if(Y(this,ze,q,re,ae,C),$e.down){if($=ze===V&&Date.now()-R<300,w=V=ze,!j&&ze){for(var Ze=ze;Ze&&!Ze.responds("mousedrag");)Ze=Ze._parent;Ze&&(B=ze)}C=ae}else $e.up&&(!j&&ze===w&&(R=Date.now(),Y(this,ze,$?"doubleclick":"click",re,ae,C),$=!1),w=B=null);F=!1,We=!0}L=ae,We&&Ae&&(x=Ae._handleMouseEvent(q,re,ae,$e)||x),re.cancelable!==!1&&(x&&!$e.move||$e.down&&Ue("mouseup"))&&re.preventDefault()},_handleKeyEvent:function(q,re,ae,ue){var fe=this._scope,ye=fe.tool,Ae;function De(Ue){Ue.responds(q)&&(Pe=fe,Ue.emit(q,Ae=Ae||new M(q,re,ae,ue)))}this.isVisible()&&(De(this),ye&&ye.responds(q)&&De(ye))},_countItemEvent:function(q,re){var ae=this._itemEvents,ue=ae.native,fe=ae.virtual;for(var ye in se)ue[ye]=(ue[ye]||0)+(se[ye][q]||0)*re;fe[q]=(fe[q]||0)+re},statics:{updateFocus:c,_resetState:function(){s=l=x=F=!1,t=r=C=L=w=T=B=V=R=$=null}}}}),vn=st.extend({_class:"CanvasView",initialize:function(r,s){if(!(s instanceof a.HTMLCanvasElement)){var l=N.read(arguments,1);if(l.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+o.slice(arguments,1));s=Ne.getCanvas(l)}var f=this._context=s.getContext("2d");if(f.save(),this._pixelRatio=1,!/^off|false$/.test(g.getAttribute(s,"hidpi"))){var c=a.devicePixelRatio||1,p=Xe.getPrefixed(f,"backingStorePixelRatio")||1;this._pixelRatio=c/p}st.call(this,r,s),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(r,s){var l=this._pixelRatio;if(t.base.call(this,r*l,s*l),l!==1){var f=this._element,c=this._context;if(!g.hasAttribute(f,"resize")){var p=f.style;p.width=r+"px",p.height=s+"px"}c.restore(),c.save(),c.scale(l,l)}},getContext:function(){return this._context},getPixelSize:function t(r){var s=Pe.agent,l;if(s&&s.firefox)l=t.base.call(this,r);else{var f=this._context,c=f.font;f.font=r+" serif",l=parseFloat(f.font),f.font=c}return l},getTextWidth:function(t,r){var s=this._context,l=s.font,f=0;s.font=t;for(var c=0,p=r.length;c<p;c++)f=Math.max(f,s.measureText(r[c]).width);return s.font=l,f},update:function(){if(!this._needsUpdate)return!1;var t=this._project,r=this._context,s=this._viewSize;return r.clearRect(0,0,s.width+1,s.height+1),t&&t.draw(r,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Gt=o.extend({_class:"Event",initialize:function(r){this.event=r,this.type=r&&r.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Oe.modifiers}}),M=Gt.extend({_class:"KeyEvent",initialize:function(r,s,l,f){this.type=r,this.event=s,this.key=l,this.character=f},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Oe=new function(){var t={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"	",space:" ",enter:"\r"},s={},l={},f,c,p=new o({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var _=Pe&&Pe.agent;return _&&_.mac?this.meta:this.control}}});function d(_){var b=_.key||_.keyIdentifier;return b=/^U\+/.test(b)?String.fromCharCode(parseInt(b.substr(2),16)):/^Arrow[A-Z]/.test(b)?b.substr(5):b==="Unidentified"||b===i?String.fromCharCode(_.keyCode):b,t[b]||(b.length>1?o.hyphenate(b):b.toLowerCase())}function m(_,b,E,k){var x=st._focused,j;if(s[b]=_,_?l[b]=E:delete l[b],b.length>1&&(j=o.camelize(b))in p){p[j]=_;var P=Pe&&Pe.agent;if(j==="meta"&&P&&P.mac)if(_)f={};else{for(var F in f)F in l&&m(!1,F,f[F],k);f=null}}else _&&f&&(f[b]=E);x&&x._handleKeyEvent(_?"keydown":"keyup",k,b,E)}return ut.add(u,{keydown:function(_){var b=d(_),E=Pe&&Pe.agent;b.length>1||E&&E.chrome&&(_.altKey||E.mac&&_.metaKey||!E.mac&&_.ctrlKey)?m(!0,b,r[b]||(b.length>1?"":b),_):c=b},keypress:function(_){if(c){var b=d(_),E=_.charCode,k=E>=32?String.fromCharCode(E):b.length>1?"":b;b!==c&&(b=k.toLowerCase()),m(!0,b,k,_),c=null}},keyup:function(_){var b=d(_);b in l&&m(!1,b,l[b],_)}}),ut.add(a,{blur:function(_){for(var b in l)m(!1,b,l[b],_)}}),{modifiers:p,isDown:function(_){return!!s[_]}}},Ce=Gt.extend({_class:"MouseEvent",initialize:function(r,s,l,f,c){this.type=r,this.event=s,this.point=l,this.target=f,this.delta=c},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),te=Gt.extend({_class:"ToolEvent",_item:null,initialize:function(r,s,l){this.tool=r,this.type=s,this.event=l},_choosePoint:function(t,r){return t||(r?r.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var r=t.item,s=r._parent;/^(Group|CompoundPath)$/.test(s._class);)r=s,s=s._parent;this._item=r}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),X=y.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(r){y.call(this),this._moveCount=-1,this._downCount=-1,this.set(r)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,r,s,l){Pe=this._scope,l.drag&&!this.responds(t)&&(t="mousemove");var f=l.move||l.drag,c=this.responds(t),p=!1,d=this;function m(b,E){var k=s,x=f?d._point:d._downPoint||k;if(f){if(d._moveCount>=0&&k.equals(x))return!1;if(x&&(b!=null||E!=null)){var j=k.subtract(x),P=j.getLength();if(P<(b||0))return!1;E&&(k=x.add(j.normalize(Math.min(P,E))))}d._moveCount++}return d._point=k,d._lastPoint=x||k,l.down&&(d._moveCount=-1,d._downPoint=k,d._downCount++),!0}function _(){c&&(p=d.emit(t,new te(d,t,r))||p)}if(l.down)m(),_();else if(l.up)m(null,this._maxDistance),_();else if(c)for(;m(this._minDistance,this._maxDistance);)_();return p}}),ce=o.extend(h,{_class:"Tween",statics:{easings:new o({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(r,s,l,f,c,p){this.object=r;var d=typeof c,m=d==="function";this.type=m?d:d==="string"?c:"linear",this.easing=m?c:t.easings[this.type],this.duration=f,this.running=!1,this._then=null,this._startTime=null;var _=s||l;this._keys=_?Object.keys(_):[],this._parsedKeys=this._parseKeys(this._keys),this._from=_&&this._getState(s),this._to=_&&this._getState(l),p!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var r=this.easing(t),s=this._keys,l=function(b){return typeof b=="function"?b(r,t):b},f=0,c=s&&s.length;f<c;f++){var p=s[f],d=l(this._from[p]),m=l(this._to[p]),_=d&&m&&d.__add&&m.__add?m.__subtract(d).__multiply(r).__add(d):(m-d)*r+d;this._setProperty(this._parsedKeys[p],_)}this.responds("update")&&this.emit("update",new o({progress:t,factor:r})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var r=this._startTime,s=r?(t-r)/this.duration:0;r||(this._startTime=t),this.update(s)},_getState:function(t){for(var r=this._keys,s={},l=0,f=r.length;l<f;l++){var c=r[l],p=this._parsedKeys[c],d=this._getProperty(p),m;if(t){var _=this._resolveValue(d,t[c]);this._setProperty(p,_),m=this._getProperty(p),m=m&&m.clone?m.clone():m,this._setProperty(p,d)}else m=d&&d.clone?d.clone():d;s[c]=m}return s},_resolveValue:function(t,r){if(r){if(Array.isArray(r)&&r.length===2){var s=r[0];return s&&s.match&&s.match(/^[+\-\*\/]=/)?this._calculate(t,s[0],r[1]):r}else if(typeof r=="string"){var l=r.match(/^[+\-*/]=(.*)/);if(l){var f=JSON.parse(l[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,r[0],f)}}}return r},_calculate:function(t,r,s){return Pe.PaperScript.calculateBinary(t,r,s)},_parseKeys:function(t){for(var r={},s=0,l=t.length;s<l;s++){var f=t[s],c=f.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");r[f]=c.split("/")}return r},_getProperty:function(t,r){for(var s=this.object,l=0,f=t.length-(r||0);l<f&&s;l++)s=s[t[l]];return s},_setProperty:function(t,r){var s=this._getProperty(t,1);s&&(s[t[t.length-1]]=r)}}),Re={request:function(t){var r=new n.XMLHttpRequest;return r.open((t.method||"get").toUpperCase(),t.url,o.pick(t.async,!0)),t.mimeType&&r.overrideMimeType(t.mimeType),r.onload=function(){var s=r.status;s===0||s===200?t.onLoad&&t.onLoad.call(r,r.responseText):r.onerror()},r.onerror=function(){var s=r.status,l='Could not load "'+t.url+'" (Status: '+s+")";if(t.onError)t.onError(l,s);else throw new Error(l)},r.send(null)}},Ne=o.exports.CanvasProvider={canvases:[],getCanvas:function(t,r,s){if(!a)return null;var l,f=!0;typeof t=="object"&&(r=t.height,t=t.width),this.canvases.length?l=this.canvases.pop():(l=u.createElement("canvas"),f=!1);var c=l.getContext("2d",s||{});if(!c)throw new Error("Canvas "+l+" is unable to provide a 2D context.");return l.width===t&&l.height===r?f&&c.clearRect(0,0,t+1,r+1):(l.width=t,l.height=r),c.save(),l},getContext:function(t,r,s){var l=this.getCanvas(t,r,s);return l?l.getContext("2d",s||{}):null},release:function(t){var r=t&&t.canvas?t.canvas:t;r&&r.getContext&&(r.getContext("2d").restore(),this.canvases.push(r))}},we=new function(){var t=Math.min,r=Math.max,s=Math.abs,l,f,c,p,d,m,_,b,E,k,x;function j(B,V,R){return .2989*B+.587*V+.114*R}function P(B,V,R,Y){var K=Y-j(B,V,R);E=B+K,k=V+K,x=R+K;var Y=j(E,k,x),se=t(E,k,x),q=r(E,k,x);if(se<0){var re=Y-se;E=Y+(E-Y)*Y/re,k=Y+(k-Y)*Y/re,x=Y+(x-Y)*Y/re}if(q>255){var ae=255-Y,ue=q-Y;E=Y+(E-Y)*ae/ue,k=Y+(k-Y)*ae/ue,x=Y+(x-Y)*ae/ue}}function F(B,V,R){return r(B,V,R)-t(B,V,R)}function C(B,V,R,$){var K=[B,V,R],Y=r(B,V,R),se=t(B,V,R),q;se=se===B?0:se===V?1:2,Y=Y===B?0:Y===V?1:2,q=t(se,Y)===0?r(se,Y)===1?2:1:0,K[Y]>K[se]?(K[q]=(K[q]-K[se])*$/(K[Y]-K[se]),K[Y]=$):K[q]=K[Y]=0,K[se]=0,E=K[0],k=K[1],x=K[2]}var L={multiply:function(){E=d*l/255,k=m*f/255,x=_*c/255},screen:function(){E=d+l-d*l/255,k=m+f-m*f/255,x=_+c-_*c/255},overlay:function(){E=d<128?2*d*l/255:255-2*(255-d)*(255-l)/255,k=m<128?2*m*f/255:255-2*(255-m)*(255-f)/255,x=_<128?2*_*c/255:255-2*(255-_)*(255-c)/255},"soft-light":function(){var B=l*d/255;E=B+d*(255-(255-d)*(255-l)/255-B)/255,B=f*m/255,k=B+m*(255-(255-m)*(255-f)/255-B)/255,B=c*_/255,x=B+_*(255-(255-_)*(255-c)/255-B)/255},"hard-light":function(){E=l<128?2*l*d/255:255-2*(255-l)*(255-d)/255,k=f<128?2*f*m/255:255-2*(255-f)*(255-m)/255,x=c<128?2*c*_/255:255-2*(255-c)*(255-_)/255},"color-dodge":function(){E=d===0?0:l===255?255:t(255,255*d/(255-l)),k=m===0?0:f===255?255:t(255,255*m/(255-f)),x=_===0?0:c===255?255:t(255,255*_/(255-c))},"color-burn":function(){E=d===255?255:l===0?0:r(0,255-(255-d)*255/l),k=m===255?255:f===0?0:r(0,255-(255-m)*255/f),x=_===255?255:c===0?0:r(0,255-(255-_)*255/c)},darken:function(){E=d<l?d:l,k=m<f?m:f,x=_<c?_:c},lighten:function(){E=d>l?d:l,k=m>f?m:f,x=_>c?_:c},difference:function(){E=d-l,E<0&&(E=-E),k=m-f,k<0&&(k=-k),x=_-c,x<0&&(x=-x)},exclusion:function(){E=d+l*(255-d-d)/255,k=m+f*(255-m-m)/255,x=_+c*(255-_-_)/255},hue:function(){C(l,f,c,F(d,m,_)),P(E,k,x,j(d,m,_))},saturation:function(){C(d,m,_,F(l,f,c)),P(E,k,x,j(d,m,_))},luminosity:function(){P(d,m,_,j(l,f,c))},color:function(){P(l,f,c,j(d,m,_))},add:function(){E=t(d+l,255),k=t(m+f,255),x=t(_+c,255)},subtract:function(){E=r(d-l,0),k=r(m-f,0),x=r(_-c,0)},average:function(){E=(d+l)/2,k=(m+f)/2,x=(_+c)/2},negation:function(){E=255-s(255-l-d),k=255-s(255-f-m),x=255-s(255-c-_)}},w=this.nativeModes=o.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(B){this[B]=!0},{}),T=Ne.getContext(1,1,{willReadFrequently:!0});T&&(o.each(L,function(B,V){var R=V==="darken",$=!1;T.save();try{T.fillStyle=R?"#300":"#a00",T.fillRect(0,0,1,1),T.globalCompositeOperation=V,T.globalCompositeOperation===V&&(T.fillStyle=R?"#a00":"#300",T.fillRect(0,0,1,1),$=T.getImageData(0,0,1,1).data[0]!==R?170:51)}catch{}T.restore(),w[V]=$}),Ne.release(T)),this.process=function(B,V,R,$,K){var Y=V.canvas,se=B==="normal";if(se||w[B])R.save(),R.setTransform(1,0,0,1,0,0),R.globalAlpha=$,se||(R.globalCompositeOperation=B),R.drawImage(Y,K.x,K.y),R.restore();else{var q=L[B];if(!q)return;for(var re=R.getImageData(K.x,K.y,Y.width,Y.height),ae=re.data,ue=V.getImageData(0,0,Y.width,Y.height).data,fe=0,ye=ae.length;fe<ye;fe+=4){l=ue[fe],d=ae[fe],f=ue[fe+1],m=ae[fe+1],c=ue[fe+2],_=ae[fe+2],p=ue[fe+3],b=ae[fe+3],q();var Ae=p*$/255,De=1-Ae;ae[fe]=Ae*E+De*d,ae[fe+1]=Ae*k+De*m,ae[fe+2]=Ae*x+De*_,ae[fe+3]=p*$+De*b}R.putImageData(re,K.x,K.y)}}},Le=new function(){var t="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",l={href:s,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};function f(d,m,_){return p(u.createElementNS(t,d),m,_)}function c(d,m){var _=l[m],b=_?d.getAttributeNS(_,m):d.getAttribute(m);return b==="null"?null:b}function p(d,m,_){for(var b in m){var E=m[b],k=l[b];typeof E=="number"&&_&&(E=_.number(E)),k?d.setAttributeNS(k,b,E):d.setAttribute(b,E)}return d}return{svg:t,xmlns:r,xlink:s,create:f,get:c,set:p}},Ge=o.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,r){return!r&&(t instanceof Me||t instanceof pe||t instanceof Ke)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,r){var s=o.capitalize(r),l=t[2];this[r]={type:t[1],property:r,attribute:t[0],toSVG:l,fromSVG:l&&o.each(l,function(f,c){this[f]=c},{}),exportFilter:t[3],get:"get"+s,set:"set"+s}},{});new function(){var t;function r(L,w,T){var B=new o,V=L.getTranslation();if(w){var R;L.isInvertible()?(L=L._shiftless(),R=L._inverseTransform(V),V=null):R=new v,B[T?"cx":"x"]=R.x,B[T?"cy":"y"]=R.y}if(!L.isIdentity()){var $=L.decompose();if($){var K=[],Y=$.rotation,se=$.scaling,q=$.skewing;V&&!V.isZero()&&K.push("translate("+t.point(V)+")"),Y&&K.push("rotate("+t.number(Y)+")"),(!D.isZero(se.x-1)||!D.isZero(se.y-1))&&K.push("scale("+t.point(se)+")"),q.x&&K.push("skewX("+t.number(q.x)+")"),q.y&&K.push("skewY("+t.number(q.y)+")"),B.transform=K.join(" ")}else B.transform="matrix("+L.getValues().join(",")+")"}return B}function s(L,w){for(var T=r(L._matrix),B=L._children,V=Le.create("g",T,t),R=0,$=B.length;R<$;R++){var K=B[R],Y=F(K,w);if(Y)if(K.isClipMask()){var se=Le.create("clipPath");se.appendChild(Y),j(K,se,"clip"),Le.set(V,{"clip-path":"url(#"+se.id+")"})}else V.appendChild(Y)}return V}function l(L,w){var T=r(L._matrix,!0),B=L.getSize(),V=L.getImage();return T.x-=B.width/2,T.y-=B.height/2,T.width=B.width,T.height=B.height,T.href=w.embedImages==!1&&V&&V.src||L.toDataURL(),Le.create("image",T,t)}function f(L,w){var T=w.matchShapes;if(T){var B=L.toShape(!1);if(B)return c(B)}var V=L._segments,R=V.length,$,K=r(L._matrix);if(T&&R>=2&&!L.hasHandles())if(R>2){$=L._closed?"polygon":"polyline";for(var Y=[],se=0;se<R;se++)Y.push(t.point(V[se]._point));K.points=Y.join(" ")}else{$="line";var q=V[0]._point,re=V[1]._point;K.set({x1:q.x,y1:q.y,x2:re.x,y2:re.y})}else $="path",K.d=L.getPathData(null,w.precision);return Le.create($,K,t)}function c(L){var w=L._type,T=L._radius,B=r(L._matrix,!0,w!=="rectangle");if(w==="rectangle"){w="rect";var V=L._size,R=V.width,$=V.height;B.x-=R/2,B.y-=$/2,B.width=R,B.height=$,T.isZero()&&(T=null)}return T&&(w==="circle"?B.r=T:(B.rx=T.width,B.ry=T.height)),Le.create(w,B,t)}function p(L,w){var T=r(L._matrix),B=L.getPathData(null,w.precision);return B&&(T.d=B),Le.create("path",T,t)}function d(L,w){var T=r(L._matrix,!0),B=L._definition,V=x(B,"symbol"),R=B._item,$=R.getStrokeBounds();return V||(V=Le.create("symbol",{viewBox:t.rectangle($)}),V.appendChild(F(R,w)),j(B,V,"symbol")),T.href="#"+V.id,T.x+=$.x,T.y+=$.y,T.width=$.width,T.height=$.height,T.overflow="visible",Le.create("use",T,t)}function m(L){var w=x(L,"color");if(!w){var T=L.getGradient(),B=T._radial,V=L.getOrigin(),R=L.getDestination(),$;if(B){$={cx:V.x,cy:V.y,r:V.getDistance(R)};var K=L.getHighlight();K&&($.fx=K.x,$.fy=K.y)}else $={x1:V.x,y1:V.y,x2:R.x,y2:R.y};$.gradientUnits="userSpaceOnUse",w=Le.create((B?"radial":"linear")+"Gradient",$,t);for(var Y=T._stops,se=0,q=Y.length;se<q;se++){var re=Y[se],ae=re._color,ue=ae.getAlpha(),fe=re._offset;$={offset:fe??se/(q-1)},ae&&($["stop-color"]=ae.toCSS(!0)),ue<1&&($["stop-opacity"]=ue),w.appendChild(Le.create("stop",$,t))}j(L,w,"color")}return"url(#"+w.id+")"}function _(L){var w=Le.create("text",r(L._matrix,!0),t);return w.textContent=L._content,w}var b={Group:s,Layer:s,Raster:l,Path:f,Shape:c,CompoundPath:p,SymbolItem:d,PointText:_};function E(L,w,T,B){var V={},R=!B&&L.getParent(),$=[];return L._name!=null&&(V.id=L._name),o.each(Ge,function(K){var Y=K.get,se=K.type,q=L[Y]();if(K.exportFilter?K.exportFilter(L,q):T.reduceAttributes==!1||!R||!o.equals(R[Y](),q)){if(se==="color"&&q!=null){var re=q.getAlpha();re<1&&(V[K.attribute+"-opacity"]=re)}se==="style"?$.push(K.attribute+": "+q):V[K.attribute]=q==null?"none":se==="color"?q.gradient?m(q):q.toCSS(!0):se==="array"?q.join(","):se==="lookup"?K.toSVG[q]:q}}),$.length&&(V.style=$.join(";")),V.opacity===1&&delete V.opacity,L._visible||(V.visibility="hidden"),Le.set(w,V,t)}var k;function x(L,w){return k||(k={ids:{},svgs:{}}),L&&k.svgs[w+"-"+(L._id||L.__id||(L.__id=W.get("svg")))]}function j(L,w,T){k||x();var B=k.ids[T]=(k.ids[T]||0)+1;w.id=T+"-"+B,k.svgs[T+"-"+(L._id||L.__id)]=w}function P(L,w){var T=L,B=null;if(k){T=L.nodeName.toLowerCase()==="svg"&&L;for(var V in k.svgs)B||(T||(T=Le.create("svg"),T.appendChild(L)),B=T.insertBefore(Le.create("defs"),T.firstChild)),B.appendChild(k.svgs[V]);k=null}return w.asString?new n.XMLSerializer().serializeToString(T):T}function F(L,w,T){var B=b[L._class],V=B&&B(L,w);if(V){var R=w.onExport;R&&(V=R(L,V,w)||V);var $=JSON.stringify(L._data);$&&$!=="{}"&&$!=="null"&&V.setAttribute("data-paper-data",$)}return V&&E(L,V,w,T)}function C(L){return L||(L={}),t=new U(L.precision),L}ie.inject({exportSVG:function(L){return L=C(L),P(F(this,L,!0),L)}}),J.inject({exportSVG:function(L){L=C(L);var w=this._children,T=this.getView(),B=o.pick(L.bounds,"view"),V=L.matrix||B==="view"&&T._matrix,R=V&&A.read([V]),$=B==="view"?new S([0,0],T.getViewSize()):B==="content"?ie._getBounds(w,R,{stroke:!0}).rect:S.read([B],0,{readNull:!0}),K={version:"1.1",xmlns:Le.svg,"xmlns:xlink":Le.xlink};$&&(K.width=$.width,K.height=$.height,($.x||$.x===0||$.y||$.y===0)&&(K.viewBox=t.rectangle($)));var Y=Le.create("svg",K,t),se=Y;R&&!R.isIdentity()&&(se=Y.appendChild(Le.create("g",r(R),t)));for(var q=0,re=w.length;q<re;q++)se.appendChild(F(w[q],L,!0));return P(Y,L)}})},new function(){var t={},r;function s(w,T,B,V,R,$){var K=Le.get(w,T)||$,Y=K==null?V?null:B?"":0:B?K:parseFloat(K);return/%\s*$/.test(K)?Y/100*(R?1:r[/x|^width/.test(T)?"width":"height"]):Y}function l(w,T,B,V,R,$,K){return T=s(w,T||"x",!1,V,R,$),B=s(w,B||"y",!1,V,R,K),V&&(T==null||B==null)?null:new v(T,B)}function f(w,T,B,V,R){return T=s(w,T||"width",!1,V,R),B=s(w,B||"height",!1,V,R),V&&(T==null||B==null)?null:new N(T,B)}function c(w,T,B){return w==="none"?null:T==="number"?parseFloat(w):T==="array"?w?w.split(/[\s,]+/g).map(parseFloat):[]:T==="color"?F(w)||w:T==="lookup"?B[w]:w}function p(w,T,B,V){var R=w.childNodes,$=T==="clippath",K=T==="defs",Y=new le,se=Y._project,q=se._currentStyle,re=[];if(!$&&!K&&(Y=P(Y,w,V),se._currentStyle=Y._style.clone()),V)for(var ae=w.querySelectorAll("defs"),ue=0,fe=ae.length;ue<fe;ue++)C(ae[ue],B,!1);for(var ue=0,fe=R.length;ue<fe;ue++){var ye=R[ue],Ae;ye.nodeType===1&&!/^defs$/i.test(ye.nodeName)&&(Ae=C(ye,B,!1))&&!(Ae instanceof Q)&&re.push(Ae)}return Y.addChildren(re),$&&(Y=P(Y.reduce(),w,V)),se._currentStyle=q,($||K)&&(Y.remove(),Y=null),Y}function d(w,T){for(var B=w.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),V=[],R=0,$=B.length;R<$;R+=2)V.push(new v(parseFloat(B[R]),parseFloat(B[R+1])));var K=new ge(V);return T==="polygon"&&K.closePath(),K}function m(w){return Me.create(w.getAttribute("d"))}function _(w,T){var B=(s(w,"href",!0)||"").substring(1),V=T==="radialgradient",R;if(B)R=t[B].getGradient(),R._radial^V&&(R=R.clone(),R._radial=V);else{for(var $=w.childNodes,K=[],Y=0,se=$.length;Y<se;Y++){var q=$[Y];q.nodeType===1&&K.push(P(new yt,q))}R=new ht(K,V)}var re,ae,ue,fe=s(w,"gradientUnits",!0)!=="userSpaceOnUse";V?(re=l(w,"cx","cy",!1,fe,"50%","50%"),ae=re.add(s(w,"r",!1,!1,fe,"50%"),0),ue=l(w,"fx","fy",!0,fe)):(re=l(w,"x1","y1",!1,fe,"0%","0%"),ae=l(w,"x2","y2",!1,fe,"100%","0%"));var ye=P(new Fe(R,re,ae,ue),w);return ye._scaleToBounds=fe,null}var b={"#document":function(w,T,B,V){for(var R=w.childNodes,$=0,K=R.length;$<K;$++){var Y=R[$];if(Y.nodeType===1)return C(Y,B,V)}},g:p,svg:p,clippath:p,polygon:d,polyline:d,path:m,lineargradient:_,radialgradient:_,image:function(w){var T=new he(s(w,"href",!0));return T.on("load",function(){var B=f(w);this.setSize(B);var V=l(w).add(B.divide(2));this._matrix.append(new A().translate(V))}),T},symbol:function(w,T,B,V){return new Q(p(w,T,B,V),!0)},defs:p,use:function(w){var T=(s(w,"href",!0)||"").substring(1),B=t[T],V=l(w);return B?B instanceof Q?B.place(V):B.clone().translate(V):null},circle:function(w){return new pe.Circle(l(w,"cx","cy"),s(w,"r"))},ellipse:function(w){return new pe.Ellipse({center:l(w,"cx","cy"),radius:f(w,"rx","ry")})},rect:function(w){return new pe.Rectangle(new S(l(w),f(w)),f(w,"rx","ry"))},line:function(w){return new ge.Line(l(w,"x1","y1"),l(w,"x2","y2"))},text:function(w){var T=new Ve(l(w).add(l(w,"dx","dy")));return T.setContent(w.textContent.trim()||""),T},switch:p};function E(w,T,B,V){if(w.transform){for(var R=(V.getAttribute(B)||"").split(/\)\s*/g),$=new A,K=0,Y=R.length;K<Y;K++){var se=R[K];if(!se)break;for(var q=se.split(/\(\s*/),re=q[0].trim(),ae=q[1].split(/[\s,]+/g),ue=0,fe=ae.length;ue<fe;ue++)ae[ue]=parseFloat(ae[ue]);switch(re){case"matrix":$.append(new A(ae[0],ae[1],ae[2],ae[3],ae[4],ae[5]));break;case"rotate":$.rotate(ae[0],ae[1]||0,ae[2]||0);break;case"translate":$.translate(ae[0],ae[1]||0);break;case"scale":$.scale(ae);break;case"skewX":$.skew(ae[0],0);break;case"skewY":$.skew(0,ae[0]);break}}w.transform($)}}function k(w,T,B){var V=B==="fill-opacity"?"getFillColor":"getStrokeColor",R=w[V]&&w[V]();R&&R.setAlpha(parseFloat(T))}var x=o.set(o.each(Ge,function(w){this[w.attribute]=function(T,B){if(T[w.set]&&(T[w.set](c(B,w.type,w.fromSVG)),w.type==="color")){var V=T[w.get]();if(V&&V._scaleToBounds){var R=T.getBounds();V.transform(new A().translate(R.getPoint()).scale(R.getSize()))}}}},{}),{id:function(w,T){t[T]=w,w.setName&&w.setName(T)},"clip-path":function(w,T){var B=F(T);if(B)if(B=B.clone(),B.setClipMask(!0),w instanceof le)w.insertChild(0,B);else return new le(B,w)},gradientTransform:E,transform:E,"fill-opacity":k,"stroke-opacity":k,visibility:function(w,T){w.setVisible&&w.setVisible(T==="visible")},display:function(w,T){w.setVisible&&w.setVisible(T!==null)},"stop-color":function(w,T){w.setColor&&w.setColor(T)},"stop-opacity":function(w,T){w._color&&w._color.setAlpha(parseFloat(T))},offset:function(w,T){if(w.setOffset){var B=T.match(/(.*)%$/);w.setOffset(B?B[1]/100:parseFloat(T))}},viewBox:function(w,T,B,V,R){var $=new S(c(T,"array")),K=f(V,null,null,!0),Y,se;if(w instanceof le){var q=K?K.divide($.getSize()):1,se=new A().scale(q).translate($.getPoint().negate());Y=w}else w instanceof Q&&(K&&$.setSize(K),Y=w._item);if(Y){if(j(V,"overflow",R)!=="visible"){var re=new pe.Rectangle($);re.setClipMask(!0),Y.addChild(re)}se&&Y.transform(se)}}});function j(w,T,B){var V=w.attributes[T],R=V&&V.value;if(!R&&w.style){var $=o.camelize(T);R=w.style[$],!R&&B.node[$]!==B.parent[$]&&(R=B.node[$])}return R?R==="none"?null:R:i}function P(w,T,B){var V=T.parentNode,R={node:Xe.getStyles(T)||{},parent:!B&&!/^defs$/i.test(V.tagName)&&Xe.getStyles(V)||{}};return o.each(x,function($,K){var Y=j(T,K,R);w=Y!==i&&$(w,Y,K,T,R)||w}),w}function F(w){var T=w&&w.match(/\((?:["'#]*)([^"')]+)/),B=T&&T[1],V=B&&t[a?B.replace(a.location.href.split("#")[0]+"#",""):B];return V&&V._scaleToBounds&&(V=V.clone(),V._scaleToBounds=!0),V}function C(w,T,B){var V=w.nodeName.toLowerCase(),R=V!=="#document",$=u.body,K,Y,se;B&&R&&(r=Pe.getView().getSize(),r=f(w,null,null,!0)||r,K=Le.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),Y=w.parentNode,se=w.nextSibling,K.appendChild(w),$.appendChild(K));var q=Pe.settings,re=q.applyMatrix,ae=q.insertItems;q.applyMatrix=!1,q.insertItems=!1;var ue=b[V],fe=ue&&ue(w,V,T,B)||null;if(q.insertItems=ae,q.applyMatrix=re,fe){R&&!(fe instanceof le)&&(fe=P(fe,w,B));var ye=T.onImport,Ae=R&&w.getAttribute("data-paper-data");ye&&(fe=ye(w,fe,T)||fe),T.expandShapes&&fe instanceof pe&&(fe.remove(),fe=fe.toPath()),Ae&&(fe._data=JSON.parse(Ae))}return K&&($.removeChild(K),Y&&(se?Y.insertBefore(w,se):Y.appendChild(w))),B&&(t={},fe&&o.pick(T.applyMatrix,re)&&fe.matrix.apply(!0,!0)),fe}function L(w,T,B){if(!w)return null;T=typeof T=="function"?{onLoad:T}:T||{};var V=Pe,R=null;function $(q){try{var re=typeof q=="object"?q:new n.DOMParser().parseFromString(q.trim(),"image/svg+xml");if(!re.nodeName)throw re=null,new Error("Unsupported SVG source: "+w);Pe=V,R=C(re,T,!0),(!T||T.insert!==!1)&&B._insertItem(i,R);var ae=T.onLoad;ae&&ae(R,q)}catch(ue){K(ue)}}function K(q,re){var ae=T.onError;if(ae)ae(q,re);else throw new Error(q)}if(typeof w=="string"&&!/^[\s\S]*</.test(w)){var Y=u.getElementById(w);Y?$(Y):Re.request({url:w,async:!0,onLoad:$,onError:K})}else if(typeof File<"u"&&w instanceof File){var se=new FileReader;return se.onload=function(){$(se.result)},se.onerror=function(){K(se.error)},se.readAsText(w)}else $(w);return R}ie.inject({importSVG:function(w,T){return L(w,T,this)}}),J.inject({importSVG:function(w,T){return this.activate(),L(w,T,this)}})},o.exports.PaperScript=(function(){var t=this,r=t.acorn;if(!r&&typeof Gi<"u")try{r=require("acorn")}catch{}if(!r){var s,l;r=s=l={},function(P,F){if(typeof s=="object"&&typeof l=="object")return F(s);if(typeof i=="function"&&i.amd)return i(["exports"],F);F(P.acorn||(P.acorn={}))}(this,function(P){P.version="0.5.0";var F,C,L,w;P.parse=function(ee,oe){return C=String(ee),L=C.length,B(oe),Gu(),cp(F.program)};var T=P.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function B(ee){F=ee||{};for(var oe in T)Object.prototype.hasOwnProperty.call(F,oe)||(F[oe]=T[oe]);w=F.sourceFile||null}var V=P.getLineInfo=function(ee,oe){for(var Se=1,Ie=0;;){Xr.lastIndex=Ie;var Je=Xr.exec(ee);if(Je&&Je.index<oe)++Se,Ie=Je.index+Je[0].length;else break}return{line:Se,column:oe-Ie}};P.tokenize=function(ee,oe){C=String(ee),L=C.length,B(oe),Gu();var Se={};function Ie(Je){return Ae=K,Or(Je),Se.start=$,Se.end=K,Se.startLoc=Y,Se.endLoc=se,Se.type=q,Se.value=re,Se}return Ie.jumpTo=function(Je,tt){if(R=Je,F.locations){ue=1,fe=Xr.lastIndex=0;for(var it;(it=Xr.exec(C))&&it.index<Je;)++ue,fe=it.index+it[0].length}ae=tt,Yr()},Ie};var R,$,K,Y,se,q,re,ae,ue,fe,ye,Ae,De,Ue,He,Ee;function ze(ee,oe){var Se=V(C,ee);oe+=" ("+Se.line+":"+Se.column+")";var Ie=new SyntaxError(oe);throw Ie.pos=ee,Ie.loc=Se,Ie.raisedAt=R,Ie}var We=[],$e={type:"num"},Ze={type:"regexp"},Ye={type:"string"},Qe={type:"name"},rt={type:"eof"},at={keyword:"break"},nt={keyword:"case",beforeExpr:!0},Mt={keyword:"catch"},At={keyword:"continue"},Wt={keyword:"debugger"},zt={keyword:"default"},mt={keyword:"do",isLoop:!0},Tt={keyword:"else",beforeExpr:!0},rn={keyword:"finally"},Lt={keyword:"for",isLoop:!0},yn={keyword:"function"},sr={keyword:"if"},En={keyword:"return",beforeExpr:!0},Pn={keyword:"switch"},sn={keyword:"throw",beforeExpr:!0},cn={keyword:"try"},ar={keyword:"var"},zn={keyword:"while",isLoop:!0},Cs={keyword:"with"},Au={keyword:"new",beforeExpr:!0},Lu={keyword:"this"},Ru={keyword:"null",atomValue:null},Fu={keyword:"true",atomValue:!0},ju={keyword:"false",atomValue:!1},Es={keyword:"in",binop:7,beforeExpr:!0},Ja={break:at,case:nt,catch:Mt,continue:At,debugger:Wt,default:zt,do:mt,else:Tt,finally:rn,for:Lt,function:yn,if:sr,return:En,switch:Pn,throw:sn,try:cn,var:ar,while:zn,with:Cs,null:Ru,true:Fu,false:ju,new:Au,in:Es,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Lu,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Ps={type:"[",beforeExpr:!0},zs={type:"]"},Kr={type:"{",beforeExpr:!0},Tr={type:"}"},Dn={type:"(",beforeExpr:!0},Tn={type:")"},Gn={type:",",beforeExpr:!0},Bn={type:";",beforeExpr:!0},Qr={type:":",beforeExpr:!0},eo={type:"."},to={type:"?",beforeExpr:!0},no={binop:10,beforeExpr:!0},ro={isAssign:!0,beforeExpr:!0},Nr={isAssign:!0,beforeExpr:!0},jd={postfix:!0,prefix:!0,isUpdate:!0},Du={prefix:!0,beforeExpr:!0},Bu={binop:1,beforeExpr:!0},Uu={binop:2,beforeExpr:!0},Dd={binop:3,beforeExpr:!0},Bd={binop:4,beforeExpr:!0},Ud={binop:5,beforeExpr:!0},Wd={binop:6,beforeExpr:!0},Vd={binop:7,beforeExpr:!0},Hd={binop:8,beforeExpr:!0},Zd={binop:9,prefix:!0,beforeExpr:!0},$d={binop:10,beforeExpr:!0};P.tokTypes={bracketL:Ps,bracketR:zs,braceL:Kr,braceR:Tr,parenL:Dn,parenR:Tn,comma:Gn,semi:Bn,colon:Qr,dot:eo,question:to,slash:no,eq:ro,name:Qe,eof:rt,num:$e,regexp:Ze,string:Ye};for(var Wu in Ja)P.tokTypes["_"+Wu]=Ja[Wu];function Ni(ee){ee=ee.split(" ");var oe="",Se=[];e:for(var Ie=0;Ie<ee.length;++Ie){for(var Je=0;Je<Se.length;++Je)if(Se[Je][0].length==ee[Ie].length){Se[Je].push(ee[Ie]);continue e}Se.push([ee[Ie]])}function tt(gt){if(gt.length==1)return oe+="return str === "+JSON.stringify(gt[0])+";";oe+="switch(str){";for(var In=0;In<gt.length;++In)oe+="case "+JSON.stringify(gt[In])+":";oe+="return true}return false;"}if(Se.length>3){Se.sort(function(gt,In){return In.length-gt.length}),oe+="switch(str.length){";for(var Ie=0;Ie<Se.length;++Ie){var it=Se[Ie];oe+="case "+it[0].length+":",tt(it)}oe+="}"}else tt(ee);return new Function("str",oe)}var Gd=Ni("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),qd=Ni("class enum extends super const export import"),Vu=Ni("implements interface let package private protected public static yield"),Ts=Ni("eval arguments"),Kd=Ni("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Qd=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Hu="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Xd="------------------------------------------------------------------------------------------------------------------------------------------",Zu=new RegExp("["+Hu+"]"),Yd=new RegExp("["+Hu+Xd+"]"),Ns=/[\n\r\u2028\u2029]/,Xr=/\r\n|[\n\r\u2028\u2029]/g,Is=P.isIdentifierStart=function(ee){return ee<65?ee===36:ee<91?!0:ee<97?ee===95:ee<123?!0:ee>=170&&Zu.test(String.fromCharCode(ee))},$u=P.isIdentifierChar=function(ee){return ee<48?ee===36:ee<58?!0:ee<65?!1:ee<91?!0:ee<97?ee===95:ee<123?!0:ee>=170&&Yd.test(String.fromCharCode(ee))};function Ir(){this.line=ue,this.column=R-fe}function Gu(){ue=1,R=fe=0,ae=!0,Yr()}function jt(ee,oe){K=R,F.locations&&(se=new Ir),q=ee,Yr(),re=oe,ae=ee.beforeExpr}function Jd(){var ee=F.onComment&&F.locations&&new Ir,oe=R,Se=C.indexOf("*/",R+=2);if(Se===-1&&ze(R-2,"Unterminated comment"),R=Se+2,F.locations){Xr.lastIndex=oe;for(var Ie;(Ie=Xr.exec(C))&&Ie.index<R;)++ue,fe=Ie.index+Ie[0].length}F.onComment&&F.onComment(!0,C.slice(oe+2,Se),oe,R,ee,F.locations&&new Ir)}function io(){for(var ee=R,oe=F.onComment&&F.locations&&new Ir,Se=C.charCodeAt(R+=2);R<L&&Se!==10&&Se!==13&&Se!==8232&&Se!==8233;)++R,Se=C.charCodeAt(R);F.onComment&&F.onComment(!1,C.slice(ee+2,R),ee,R,oe,F.locations&&new Ir)}function Yr(){for(;R<L;){var ee=C.charCodeAt(R);if(ee===32)++R;else if(ee===13){++R;var oe=C.charCodeAt(R);oe===10&&++R,F.locations&&(++ue,fe=R)}else if(ee===10||ee===8232||ee===8233)++R,F.locations&&(++ue,fe=R);else if(ee>8&&ee<14)++R;else if(ee===47){var oe=C.charCodeAt(R+1);if(oe===42)Jd();else if(oe===47)io();else break}else if(ee===160)++R;else if(ee>=5760&&Qd.test(String.fromCharCode(ee)))++R;else break}}function ep(){var ee=C.charCodeAt(R+1);return ee>=48&&ee<=57?Ku(!0):(++R,jt(eo))}function tp(){var ee=C.charCodeAt(R+1);return ae?(++R,qu()):ee===61?Dt(Nr,2):Dt(no,1)}function np(){var ee=C.charCodeAt(R+1);return ee===61?Dt(Nr,2):Dt($d,1)}function rp(ee){var oe=C.charCodeAt(R+1);return oe===ee?Dt(ee===124?Bu:Uu,2):oe===61?Dt(Nr,2):Dt(ee===124?Dd:Ud,1)}function ip(){var ee=C.charCodeAt(R+1);return ee===61?Dt(Nr,2):Dt(Bd,1)}function sp(ee){var oe=C.charCodeAt(R+1);return oe===ee?oe==45&&C.charCodeAt(R+2)==62&&Ns.test(C.slice(Ae,R))?(R+=3,io(),Yr(),Or()):Dt(jd,2):oe===61?Dt(Nr,2):Dt(Zd,1)}function ap(ee){var oe=C.charCodeAt(R+1),Se=1;return oe===ee?(Se=ee===62&&C.charCodeAt(R+2)===62?3:2,C.charCodeAt(R+Se)===61?Dt(Nr,Se+1):Dt(Hd,Se)):oe==33&&ee==60&&C.charCodeAt(R+2)==45&&C.charCodeAt(R+3)==45?(R+=4,io(),Yr(),Or()):(oe===61&&(Se=C.charCodeAt(R+2)===61?3:2),Dt(Vd,Se))}function op(ee){var oe=C.charCodeAt(R+1);return oe===61?Dt(Wd,C.charCodeAt(R+2)===61?3:2):Dt(ee===61?ro:Du,1)}function lp(ee){switch(ee){case 46:return ep();case 40:return++R,jt(Dn);case 41:return++R,jt(Tn);case 59:return++R,jt(Bn);case 44:return++R,jt(Gn);case 91:return++R,jt(Ps);case 93:return++R,jt(zs);case 123:return++R,jt(Kr);case 125:return++R,jt(Tr);case 58:return++R,jt(Qr);case 63:return++R,jt(to);case 48:var oe=C.charCodeAt(R+1);if(oe===120||oe===88)return up();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ku(!1);case 34:case 39:return fp(ee);case 47:return tp();case 37:case 42:return np();case 124:case 38:return rp(ee);case 94:return ip();case 43:case 45:return sp(ee);case 60:case 62:return ap(ee);case 61:case 33:return op(ee);case 126:return Dt(Du,1)}return!1}function Or(ee){if(ee?R=$+1:$=R,F.locations&&(Y=new Ir),ee)return qu();if(R>=L)return jt(rt);var oe=C.charCodeAt(R);if(Is(oe)||oe===92)return Xu();var Se=lp(oe);if(Se===!1){var Ie=String.fromCharCode(oe);if(Ie==="\\"||Zu.test(Ie))return Xu();ze(R,"Unexpected character '"+Ie+"'")}return Se}function Dt(ee,oe){var Se=C.slice(R,R+oe);R+=oe,jt(ee,Se)}function qu(){for(var Je="",ee,oe,Se=R;;){R>=L&&ze(Se,"Unterminated regular expression");var Ie=C.charAt(R);if(Ns.test(Ie)&&ze(Se,"Unterminated regular expression"),ee)ee=!1;else{if(Ie==="[")oe=!0;else if(Ie==="]"&&oe)oe=!1;else if(Ie==="/"&&!oe)break;ee=Ie==="\\"}++R}var Je=C.slice(Se,R);++R;var tt=Qu();tt&&!/^[gmsiy]*$/.test(tt)&&ze(Se,"Invalid regexp flag");try{var it=new RegExp(Je,tt)}catch(gt){gt instanceof SyntaxError&&ze(Se,gt.message),ze(gt)}return jt(Ze,it)}function Ii(ee,oe){for(var Se=R,Ie=0,Je=0,tt=oe??1/0;Je<tt;++Je){var it=C.charCodeAt(R),gt;if(it>=97?gt=it-97+10:it>=65?gt=it-65+10:it>=48&&it<=57?gt=it-48:gt=1/0,gt>=ee)break;++R,Ie=Ie*ee+gt}return R===Se||oe!=null&&R-Se!==oe?null:Ie}function up(){R+=2;var ee=Ii(16);return ee==null&&ze($+2,"Expected hexadecimal number"),Is(C.charCodeAt(R))&&ze(R,"Identifier directly after number"),jt($e,ee)}function Ku(ee){var oe=R,Se=!1,Ie=C.charCodeAt(R)===48;!ee&&Ii(10)===null&&ze(oe,"Invalid number"),C.charCodeAt(R)===46&&(++R,Ii(10),Se=!0);var Je=C.charCodeAt(R);(Je===69||Je===101)&&(Je=C.charCodeAt(++R),(Je===43||Je===45)&&++R,Ii(10)===null&&ze(oe,"Invalid number"),Se=!0),Is(C.charCodeAt(R))&&ze(R,"Identifier directly after number");var tt=C.slice(oe,R),it;return Se?it=parseFloat(tt):!Ie||tt.length===1?it=parseInt(tt,10):/[89]/.test(tt)||Ee?ze(oe,"Invalid number"):it=parseInt(tt,8),jt($e,it)}function fp(ee){R++;for(var oe="";;){R>=L&&ze($,"Unterminated string constant");var Se=C.charCodeAt(R);if(Se===ee)return++R,jt(Ye,oe);if(Se===92){Se=C.charCodeAt(++R);var Ie=/^[0-7]+/.exec(C.slice(R,R+3));for(Ie&&(Ie=Ie[0]);Ie&&parseInt(Ie,8)>255;)Ie=Ie.slice(0,-1);if(Ie==="0"&&(Ie=null),++R,Ie)Ee&&ze(R-2,"Octal literal in strict mode"),oe+=String.fromCharCode(parseInt(Ie,8)),R+=Ie.length-1;else switch(Se){case 110:oe+=`
`;break;case 114:oe+="\r";break;case 120:oe+=String.fromCharCode(Os(2));break;case 117:oe+=String.fromCharCode(Os(4));break;case 85:oe+=String.fromCharCode(Os(8));break;case 116:oe+="	";break;case 98:oe+="\b";break;case 118:oe+="\v";break;case 102:oe+="\f";break;case 48:oe+="\0";break;case 13:C.charCodeAt(R)===10&&++R;case 10:F.locations&&(fe=R,++ue);break;default:oe+=String.fromCharCode(Se);break}}else(Se===13||Se===10||Se===8232||Se===8233)&&ze($,"Unterminated string constant"),oe+=String.fromCharCode(Se),++R}}function Os(ee){var oe=Ii(16,ee);return oe===null&&ze($,"Bad character escape sequence"),oe}var Jr;function Qu(){Jr=!1;for(var ee,oe=!0,Se=R;;){var Ie=C.charCodeAt(R);if($u(Ie))Jr&&(ee+=C.charAt(R)),++R;else if(Ie===92){Jr||(ee=C.slice(Se,R)),Jr=!0,C.charCodeAt(++R)!=117&&ze(R,"Expecting Unicode escape sequence \\uXXXX"),++R;var Je=Os(4),tt=String.fromCharCode(Je);tt||ze(R-1,"Invalid Unicode escape"),(oe?Is(Je):$u(Je))||ze(R-4,"Invalid Unicode escape"),ee+=tt}else break;oe=!1}return Jr?ee:C.slice(Se,R)}function Xu(){var ee=Qu(),oe=Qe;return!Jr&&Kd(ee)&&(oe=Ja[ee]),jt(oe,ee)}function dt(){ye=$,Ae=K,De=se,Or()}function so(ee){if(Ee=ee,R=$,F.locations)for(;R<fe;)fe=C.lastIndexOf(`
`,fe-2)+1,--ue;Yr(),Or()}function Yu(){this.type=null,this.start=$,this.end=null}function Ju(){this.start=Y,this.end=null,w!==null&&(this.source=w)}function Vt(){var ee=new Yu;return F.locations&&(ee.loc=new Ju),F.directSourceFile&&(ee.sourceFile=F.directSourceFile),F.ranges&&(ee.range=[$,0]),ee}function or(ee){var oe=new Yu;return oe.start=ee.start,F.locations&&(oe.loc=new Ju,oe.loc.start=ee.loc.start),F.ranges&&(oe.range=[ee.range[0],0]),oe}function ot(ee,oe){return ee.type=oe,ee.end=Ae,F.locations&&(ee.loc.end=De),F.ranges&&(ee.range[1]=Ae),ee}function ao(ee){return F.ecmaVersion>=5&&ee.type==="ExpressionStatement"&&ee.expression.type==="Literal"&&ee.expression.value==="use strict"}function kt(ee){if(q===ee)return dt(),!0}function Ms(){return!F.strictSemicolons&&(q===rt||q===Tr||Ns.test(C.slice(Ae,$)))}function Mr(){!kt(Bn)&&!Ms()&&qn()}function It(ee){q===ee?dt():qn()}function qn(){ze($,"Unexpected token")}function As(ee){ee.type!=="Identifier"&&ee.type!=="MemberExpression"&&ze(ee.start,"Assigning to rvalue"),Ee&&ee.type==="Identifier"&&Ts(ee.name)&&ze(ee.start,"Assigning to "+ee.name+" in strict mode")}function cp(ee){ye=Ae=R,F.locations&&(De=new Ir),Ue=Ee=null,He=[],Or();var oe=ee||Vt(),Se=!0;for(ee||(oe.body=[]);q!==rt;){var Ie=Nn();oe.body.push(Ie),Se&&ao(Ie)&&so(!0),Se=!1}return ot(oe,"Program")}var oo={kind:"loop"},hp={kind:"switch"};function Nn(){(q===no||q===Nr&&re=="/=")&&Or(!0);var ee=q,oe=Vt();switch(ee){case at:case At:dt();var Se=ee===at;kt(Bn)||Ms()?oe.label=null:q!==Qe?qn():(oe.label=lr(),Mr());for(var Ie=0;Ie<He.length;++Ie){var Je=He[Ie];if((oe.label==null||Je.name===oe.label.name)&&(Je.kind!=null&&(Se||Je.kind==="loop")||oe.label&&Se))break}return Ie===He.length&&ze(oe.start,"Unsyntactic "+ee.keyword),ot(oe,Se?"BreakStatement":"ContinueStatement");case Wt:return dt(),Mr(),ot(oe,"DebuggerStatement");case mt:return dt(),He.push(oo),oe.body=Nn(),He.pop(),It(zn),oe.test=Oi(),Mr(),ot(oe,"DoWhileStatement");case Lt:if(dt(),He.push(oo),It(Dn),q===Bn)return lo(oe,null);if(q===ar){var tt=Vt();return dt(),tf(tt,!0),ot(tt,"VariableDeclaration"),tt.declarations.length===1&&kt(Es)?ef(oe,tt):lo(oe,tt)}var tt=qt(!1,!0);return kt(Es)?(As(tt),ef(oe,tt)):lo(oe,tt);case yn:return dt(),po(oe,!0);case sr:return dt(),oe.test=Oi(),oe.consequent=Nn(),oe.alternate=kt(Tt)?Nn():null,ot(oe,"IfStatement");case En:return!Ue&&!F.allowReturnOutsideFunction&&ze($,"'return' outside of function"),dt(),kt(Bn)||Ms()?oe.argument=null:(oe.argument=qt(),Mr()),ot(oe,"ReturnStatement");case Pn:dt(),oe.discriminant=Oi(),oe.cases=[],It(Kr),He.push(hp);for(var it,gt;q!=Tr;)if(q===nt||q===zt){var In=q===nt;it&&ot(it,"SwitchCase"),oe.cases.push(it=Vt()),it.consequent=[],dt(),In?it.test=qt():(gt&&ze(ye,"Multiple default clauses"),gt=!0,it.test=null),It(Qr)}else it||qn(),it.consequent.push(Nn());return it&&ot(it,"SwitchCase"),dt(),He.pop(),ot(oe,"SwitchStatement");case sn:return dt(),Ns.test(C.slice(Ae,$))&&ze(Ae,"Illegal newline after throw"),oe.argument=qt(),Mr(),ot(oe,"ThrowStatement");case cn:if(dt(),oe.block=Mi(),oe.handler=null,q===Mt){var Ar=Vt();dt(),It(Dn),Ar.param=lr(),Ee&&Ts(Ar.param.name)&&ze(Ar.param.start,"Binding "+Ar.param.name+" in strict mode"),It(Tn),Ar.guard=null,Ar.body=Mi(),oe.handler=ot(Ar,"CatchClause")}return oe.guardedHandlers=We,oe.finalizer=kt(rn)?Mi():null,!oe.handler&&!oe.finalizer&&ze(oe.start,"Missing catch or finally clause"),ot(oe,"TryStatement");case ar:return dt(),tf(oe),Mr(),ot(oe,"VariableDeclaration");case zn:return dt(),oe.test=Oi(),He.push(oo),oe.body=Nn(),He.pop(),ot(oe,"WhileStatement");case Cs:return Ee&&ze($,"'with' in strict mode"),dt(),oe.object=Oi(),oe.body=Nn(),ot(oe,"WithStatement");case Kr:return Mi();case Bn:return dt(),ot(oe,"EmptyStatement");default:var mo=re,Ls=qt();if(ee===Qe&&Ls.type==="Identifier"&&kt(Qr)){for(var Ie=0;Ie<He.length;++Ie)He[Ie].name===mo&&ze(Ls.start,"Label '"+mo+"' is already declared");var vp=q.isLoop?"loop":q===Pn?"switch":null;return He.push({name:mo,kind:vp}),oe.body=Nn(),He.pop(),oe.label=Ls,ot(oe,"LabeledStatement")}else return oe.expression=Ls,Mr(),ot(oe,"ExpressionStatement")}}function Oi(){It(Dn);var ee=qt();return It(Tn),ee}function Mi(ee){var oe=Vt(),Se=!0,Ie=!1,Je;for(oe.body=[],It(Kr);!kt(Tr);){var tt=Nn();oe.body.push(tt),Se&&ee&&ao(tt)&&(Je=Ie,so(Ie=!0)),Se=!1}return Ie&&!Je&&so(!1),ot(oe,"BlockStatement")}function lo(ee,oe){return ee.init=oe,It(Bn),ee.test=q===Bn?null:qt(),It(Bn),ee.update=q===Tn?null:qt(),It(Tn),ee.body=Nn(),He.pop(),ot(ee,"ForStatement")}function ef(ee,oe){return ee.left=oe,ee.right=qt(),It(Tn),ee.body=Nn(),He.pop(),ot(ee,"ForInStatement")}function tf(ee,oe){for(ee.declarations=[],ee.kind="var";;){var Se=Vt();if(Se.id=lr(),Ee&&Ts(Se.id.name)&&ze(Se.id.start,"Binding "+Se.id.name+" in strict mode"),Se.init=kt(ro)?qt(!0,oe):null,ee.declarations.push(ot(Se,"VariableDeclarator")),!kt(Gn))break}return ee}function qt(ee,oe){var Se=uo(oe);if(!ee&&q===Gn){var Ie=or(Se);for(Ie.expressions=[Se];kt(Gn);)Ie.expressions.push(uo(oe));return ot(Ie,"SequenceExpression")}return Se}function uo(ee){var oe=dp(ee);if(q.isAssign){var Se=or(oe);return Se.operator=re,Se.left=oe,dt(),Se.right=uo(ee),As(oe),ot(Se,"AssignmentExpression")}return oe}function dp(ee){var oe=pp(ee);if(kt(to)){var Se=or(oe);return Se.test=oe,Se.consequent=qt(!0),It(Qr),Se.alternate=qt(!0,ee),ot(Se,"ConditionalExpression")}return oe}function pp(ee){return fo(co(),-1,ee)}function fo(ee,oe,Se){var Ie=q.binop;if(Ie!=null&&(!Se||q!==Es)&&Ie>oe){var Je=or(ee);Je.left=ee,Je.operator=re;var tt=q;dt(),Je.right=fo(co(),Ie,Se);var it=ot(Je,tt===Bu||tt===Uu?"LogicalExpression":"BinaryExpression");return fo(it,oe,Se)}return ee}function co(){if(q.prefix){var ee=Vt(),oe=q.isUpdate;return ee.operator=re,ee.prefix=!0,ae=!0,dt(),ee.argument=co(),oe?As(ee.argument):Ee&&ee.operator==="delete"&&ee.argument.type==="Identifier"&&ze(ee.start,"Deleting local variable in strict mode"),ot(ee,oe?"UpdateExpression":"UnaryExpression")}for(var Se=gp();q.postfix&&!Ms();){var ee=or(Se);ee.operator=re,ee.prefix=!1,ee.argument=Se,As(Se),dt(),Se=ot(ee,"UpdateExpression")}return Se}function gp(){return Ai(ho())}function Ai(ee,oe){if(kt(eo)){var Se=or(ee);return Se.object=ee,Se.property=lr(!0),Se.computed=!1,Ai(ot(Se,"MemberExpression"),oe)}else if(kt(Ps)){var Se=or(ee);return Se.object=ee,Se.property=qt(),Se.computed=!0,It(zs),Ai(ot(Se,"MemberExpression"),oe)}else if(!oe&&kt(Dn)){var Se=or(ee);return Se.callee=ee,Se.arguments=go(Tn,!1),Ai(ot(Se,"CallExpression"),oe)}else return ee}function ho(){switch(q){case Lu:var Ie=Vt();return dt(),ot(Ie,"ThisExpression");case Qe:return lr();case $e:case Ye:case Ze:var Ie=Vt();return Ie.value=re,Ie.raw=C.slice($,K),dt(),ot(Ie,"Literal");case Ru:case Fu:case ju:var Ie=Vt();return Ie.value=q.atomValue,Ie.raw=q.keyword,dt(),ot(Ie,"Literal");case Dn:var ee=Y,oe=$;dt();var Se=qt();return Se.start=oe,Se.end=K,F.locations&&(Se.loc.start=ee,Se.loc.end=se),F.ranges&&(Se.range=[oe,K]),It(Tn),Se;case Ps:var Ie=Vt();return dt(),Ie.elements=go(zs,!0,!0),ot(Ie,"ArrayExpression");case Kr:return _p();case yn:var Ie=Vt();return dt(),po(Ie,!1);case Au:return mp();default:qn()}}function mp(){var ee=Vt();return dt(),ee.callee=Ai(ho(),!0),kt(Dn)?ee.arguments=go(Tn,!1):ee.arguments=We,ot(ee,"NewExpression")}function _p(){var ee=Vt(),oe=!0,Se=!1;for(ee.properties=[],dt();!kt(Tr);){if(oe)oe=!1;else if(It(Gn),F.allowTrailingCommas&&kt(Tr))break;var Ie={key:nf()},Je=!1,tt;if(kt(Qr)?(Ie.value=qt(!0),tt=Ie.kind="init"):F.ecmaVersion>=5&&Ie.key.type==="Identifier"&&(Ie.key.name==="get"||Ie.key.name==="set")?(Je=Se=!0,tt=Ie.kind=Ie.key.name,Ie.key=nf(),q!==Dn&&qn(),Ie.value=po(Vt(),!1)):qn(),Ie.key.type==="Identifier"&&(Ee||Se))for(var it=0;it<ee.properties.length;++it){var gt=ee.properties[it];if(gt.key.name===Ie.key.name){var In=tt==gt.kind||Je&&gt.kind==="init"||tt==="init"&&(gt.kind==="get"||gt.kind==="set");In&&!Ee&&tt==="init"&&gt.kind==="init"&&(In=!1),In&&ze(Ie.key.start,"Redefinition of property")}}ee.properties.push(Ie)}return ot(ee,"ObjectExpression")}function nf(){return q===$e||q===Ye?ho():lr(!0)}function po(ee,oe){q===Qe?ee.id=lr():oe?qn():ee.id=null,ee.params=[];var Se=!0;for(It(Dn);!kt(Tn);)Se?Se=!1:It(Gn),ee.params.push(lr());var Ie=Ue,Je=He;if(Ue=!0,He=[],ee.body=Mi(!0),Ue=Ie,He=Je,Ee||ee.body.body.length&&ao(ee.body.body[0]))for(var tt=ee.id?-1:0;tt<ee.params.length;++tt){var it=tt<0?ee.id:ee.params[tt];if((Vu(it.name)||Ts(it.name))&&ze(it.start,"Defining '"+it.name+"' in strict mode"),tt>=0)for(var gt=0;gt<tt;++gt)it.name===ee.params[gt].name&&ze(it.start,"Argument name clash in strict mode")}return ot(ee,oe?"FunctionDeclaration":"FunctionExpression")}function go(ee,oe,Se){for(var Ie=[],Je=!0;!kt(ee);){if(Je)Je=!1;else if(It(Gn),oe&&F.allowTrailingCommas&&kt(ee))break;Se&&q===Gn?Ie.push(null):Ie.push(qt(!0))}return Ie}function lr(ee){var oe=Vt();return ee&&F.forbidReserved=="everywhere"&&(ee=!1),q===Qe?(!ee&&(F.forbidReserved&&(F.ecmaVersion===3?Gd:qd)(re)||Ee&&Vu(re))&&C.slice($,K).indexOf("\\")==-1&&ze($,"The keyword '"+re+"' is reserved"),oe.name=re):ee&&q.keyword?oe.name=q.keyword:qn(),ae=!1,dt(),ot(oe,"Identifier")}}),r.version||(r=null)}function f(P,F){return(t.acorn||r).parse(P,F)}var c={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},p={"-":"__negate","+":"__self"},d=o.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(P){this["__"+P]="#"+P},{__self:function(){return this}});v.inject(d),N.inject(d),Fe.inject(d);function m(P,F,C){var L=c[F];if(P&&P[L]){var w=P[L](C);return F==="!="?!w:w}switch(F){case"+":return P+C;case"-":return P-C;case"*":return P*C;case"/":return P/C;case"%":return P%C;case"==":return P==C;case"!=":return P!=C}}function _(P,F){var C=p[P];if(F&&F[C])return F[C]();switch(P){case"+":return+F;case"-":return-F}}function b(P,F){if(!P)return"";F=F||{};var C=[];function L(Ee){for(var ze=0,We=C.length;ze<We;ze++){var $e=C[ze];if($e[0]>=Ee)break;Ee+=$e[1]}return Ee}function w(Ee){return P.substring(L(Ee.range[0]),L(Ee.range[1]))}function T(Ee,ze){return P.substring(L(Ee.range[1]),L(ze.range[0]))}function B(Ee,ze){for(var We=L(Ee.range[0]),$e=L(Ee.range[1]),Ze=0,Ye=C.length-1;Ye>=0;Ye--)if(We>C[Ye][0]){Ze=Ye+1;break}C.splice(Ze,0,[We,ze.length-$e+We]),P=P.substring(0,We)+ze+P.substring($e)}function V(Ee,ze){switch(Ee.type){case"UnaryExpression":if(Ee.operator in p&&Ee.argument.type!=="Literal"){var We=w(Ee.argument);B(Ee,'$__("'+Ee.operator+'", '+We+")")}break;case"BinaryExpression":if(Ee.operator in c&&Ee.left.type!=="Literal"){var $e=w(Ee.left),Ze=w(Ee.right),Ye=T(Ee.left,Ee.right),Qe=Ee.operator;B(Ee,"__$__("+$e+","+Ye.replace(new RegExp("\\"+Qe),'"'+Qe+'"')+", "+Ze+")")}break;case"UpdateExpression":case"AssignmentExpression":var rt=ze&&ze.type;if(!(rt==="ForStatement"||rt==="BinaryExpression"&&/^[=!<>]/.test(ze.operator)||rt==="MemberExpression"&&ze.computed)){if(Ee.type==="UpdateExpression"){var We=w(Ee.argument),at="__$__("+We+', "'+Ee.operator[0]+'", 1)',nt=We+" = "+at;Ee.prefix?nt="("+nt+")":(rt==="AssignmentExpression"||rt==="VariableDeclarator"||rt==="BinaryExpression")&&(w(ze.left||ze.id)===We&&(nt=at),nt=We+"; "+nt),B(Ee,nt)}else if(/^.=$/.test(Ee.operator)&&Ee.left.type!=="Literal"){var $e=w(Ee.left),Ze=w(Ee.right),at=$e+" = __$__("+$e+', "'+Ee.operator[0]+'", '+Ze+")";B(Ee,/^\(.*\)$/.test(w(Ee))?"("+at+")":at)}}break}}function R(Ee){switch(Ee.type){case"ExportDefaultDeclaration":B({range:[Ee.start,Ee.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var ze=Ee.declaration,We=Ee.specifiers;if(ze){var $e=ze.declarations;$e&&($e.forEach(function(Ye){B(Ye,"module.exports."+w(Ye))}),B({range:[Ee.start,ze.start+ze.kind.length]},""))}else if(We){var Ze=We.map(function(Ye){var Qe=w(Ye);return"module.exports."+Qe+" = "+Qe+"; "}).join("");Ze&&B(Ee,Ze)}break}}function $(Ee,ze,We){if(Ee){for(var $e in Ee)if($e!=="range"&&$e!=="loc"){var Ze=Ee[$e];if(Array.isArray(Ze))for(var Ye=0,Qe=Ze.length;Ye<Qe;Ye++)$(Ze[Ye],Ee,We);else Ze&&typeof Ze=="object"&&$(Ze,Ee,We)}We.operatorOverloading!==!1&&V(Ee,ze),We.moduleExports!==!1&&R(Ee)}}function K(Ee){var ze="",We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Ee=(Math.abs(Ee)<<1)+(Ee<0?1:0);Ee||!ze;){var $e=Ee&31;Ee>>=5,Ee&&($e|=32),ze+=We[$e]}return ze}var Y=F.url||"",se=F.sourceMaps,q=F.paperFeatures||{},re=F.source||P,ae=F.offset||0,ue=Pe.agent,fe=ue.versionNumber,ye=!1,Ae=/\r\n|\n|\r/mg,De;if(se&&(ue.chrome&&fe>=30||ue.webkit&&fe>=537.76||ue.firefox&&fe>=23||ue.node)){if(ue.node)ae-=2;else if(a&&Y&&!a.location.href.indexOf(Y)){var Ue=u.getElementsByTagName("html")[0].innerHTML;ae=Ue.substr(0,Ue.indexOf(P)+1).match(Ae).length+1}ye=ae>0&&!(ue.chrome&&fe>=36||ue.safari&&fe>=600||ue.firefox&&fe>=40||ue.node);var He=["AA"+K(ye?0:ae)+"A"];He.length=(P.match(Ae)||[]).length+1+(ye?ae:0),De={version:3,file:Y,names:[],mappings:He.join(";AACA"),sourceRoot:"",sources:[Y],sourcesContent:[re]}}return(q.operatorOverloading!==!1||q.moduleExports!==!1)&&$(f(P,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,q),De&&(ye&&(P=new Array(ae+1).join(`
`)+P),/^(inline|both)$/.test(se)&&(P+=`
//# sourceMappingURL=data:application/json;base64,`+n.btoa(unescape(encodeURIComponent(JSON.stringify(De))))),P+=`
//# sourceURL=`+(Y||"paperscript")),{url:Y,source:re,code:P,map:De}}function E(P,F,C){Pe=F;var L=F.getView(),w=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(P)&&!/\bnew\s+Tool\b/.test(P)?new X:null,T=w?w._events:[],B=["onFrame","onResize"].concat(T),V=[],R=[],$,K=typeof P=="object"?P:b(P,C);P=K.code;function Y(fe,ye){for(var Ae in fe)(ye||!/^_/.test(Ae))&&new RegExp("([\\b\\s\\W]|^)"+Ae.replace(/\$/g,"\\$")+"\\b").test(P)&&(V.push(Ae),R.push(fe[Ae]))}Y({__$__:m,$__:_,paper:F,tool:w},!0),Y(F),P="var module = { exports: {} }; "+P;var ae=o.each(B,function(fe){new RegExp("\\s+"+fe+"\\b").test(P)&&(V.push(fe),this.push("module.exports."+fe+" = "+fe+";"))},[]).join(`
`);ae&&(P+=`
`+ae),P+=`
return module.exports;`;var se=Pe.agent;if(u&&(se.chrome||se.firefox&&se.versionNumber<40)){var q=u.createElement("script"),re=u.head||u.getElementsByTagName("head")[0];se.firefox&&(P=`
`+P),q.appendChild(u.createTextNode("document.__paperscript__ = function("+V+") {"+P+`
}`)),re.appendChild(q),$=u.__paperscript__,delete u.__paperscript__,re.removeChild(q)}else $=Function(V,P);var ae=$&&$.apply(F,R),ue=ae||{};return o.each(T,function(fe){var ye=ue[fe];ye&&(w[fe]=ye)}),L&&(ue.onResize&&L.setOnResize(ue.onResize),L.emit("resize",{size:L.size,delta:new v}),ue.onFrame&&L.setOnFrame(ue.onFrame),L.requestUpdate()),ae}function k(P){if(/^text\/(?:x-|)paperscript$/.test(P.type)&&g.getAttribute(P,"ignore")!=="true"){var F=g.getAttribute(P,"canvas"),C=u.getElementById(F),L=P.src||P.getAttribute("data-src"),w=g.hasAttribute(P,"async"),T="data-paper-scope";if(!C)throw new Error('Unable to find canvas with id "'+F+'"');var B=g.get(C.getAttribute(T))||new g().setup(C);return C.setAttribute(T,B._id),L?Re.request({url:L,async:w,mimeType:"text/plain",onLoad:function(V){E(V,B,L)}}):E(P.innerHTML,B,P.baseURI),P.setAttribute("data-paper-ignore","true"),B}}function x(){o.each(u&&u.getElementsByTagName("script"),k)}function j(P){return P?k(P):x()}return a&&(u.readyState==="complete"?setTimeout(x):ut.add(a,{load:x})),{compile:b,execute:E,load:j,parse:f,calculateBinary:m,calculateUnary:_}}).call(this);var Pe=new(g.inject(o.exports,{Base:o,Numerical:D,Key:Oe,DomEvent:ut,DomElement:Xe,document:u,window:a,Symbol:Q,PlacedSymbol:xe}));return Pe.agent.node&&wc(Pe),typeof i=="function"&&i.amd?i("paper",Pe):e&&(e.exports=Pe),Pe}).call(Vn,typeof self=="object"?self:null)})(Ld);var Y0=Ld.exports;const ct=Fl(Y0);function J0(e,n,i,a){const{margin:u}=n,{registrationMarks:o}=n,{effectiveTileWidth:h,effectiveTileHeight:g}=e;if(!o.enabled)return[];const y=[],U=o.size/2+1;if(o.placement==="inside")y.push({x:u+U,y:u+U},{x:u+h-U,y:u+U},{x:u+U,y:u+g-U},{x:u+h-U,y:u+g-U});else{const D=n.overlap>0?n.overlap/2:U;y.push({x:u-D,y:u-D},{x:u+h+D,y:u-D},{x:u-D,y:u+g+D},{x:u+h+D,y:u+g+D})}return y}function em(e,n,i){const a=i.size/2,u=i.strokeWidth;return`
    <line x1="${e-a}" y1="${n}" x2="${e+a}" y2="${n}" 
          stroke="black" stroke-width="${u}" />
    <line x1="${e}" y1="${n-a}" x2="${e}" y2="${n+a}" 
          stroke="black" stroke-width="${u}" />
  `}function tm(e,n,i){const a=i.holeDiameter/2,u=i.strokeWidth;return`
    <circle cx="${e}" cy="${n}" r="${a}" 
            fill="none" stroke="black" stroke-width="${u}" />
  `}function nm(e,n,i,a){const u=i.size,o=i.strokeWidth;let h="";switch(a){case"tl":h=`M ${e} ${n+u} L ${e} ${n} L ${e+u} ${n}`;break;case"tr":h=`M ${e-u} ${n} L ${e} ${n} L ${e} ${n+u}`;break;case"bl":h=`M ${e} ${n-u} L ${e} ${n} L ${e+u} ${n}`;break;case"br":h=`M ${e-u} ${n} L ${e} ${n} L ${e} ${n-u}`;break}return`<path d="${h}" fill="none" stroke="black" stroke-width="${o}" />`}function rm(e,n,i,a){const{registrationMarks:u}=n;if(!u.enabled)return"";const o=J0(e,n),h=["tl","tr","bl","br"];let g='<g id="registration-marks">';return o.forEach((y,I)=>{switch(u.type){case"crosshair":g+=em(y.x,y.y,u);break;case"pinhole":g+=tm(y.x,y.y,u);break;case"lmark":g+=nm(y.x,y.y,u,h[I]);break}}),g+="</g>",g}const im=()=>new Promise(e=>requestAnimationFrame(()=>e()));async function sm(e,n,i,a,u){const o=[],{tiles:h}=n,g=h.length,y=document.createElement("canvas");y.width=1,y.height=1,ct.setup(y);for(let I=0;I<g;I++){if(u())throw new Error("Processing cancelled");a(I+1,g);const U=h[I],D=await am(e,U,n,i);D&&o.push(D),I%2===0&&await im()}return o}async function am(e,n,i,a){var Z,S,z,A;const{margin:u,exportMode:o,guidesEnabled:h,expandStrokes:g,simplifyTolerance:y}=a;ct.project.clear();const I=e.detectedWidthMm/(((Z=e.viewBox)==null?void 0:Z.width)??e.width??e.detectedWidthMm),U=e.detectedHeightMm/(((S=e.viewBox)==null?void 0:S.height)??e.height??e.detectedHeightMm);new ct.Rectangle(n.x,n.y,i.effectiveTileWidth,i.effectiveTileHeight);const D=new ct.Rectangle(n.x/I+(((z=e.viewBox)==null?void 0:z.x)??0),n.y/U+(((A=e.viewBox)==null?void 0:A.y)??0),i.effectiveTileWidth/I,i.effectiveTileHeight/U),W=ct.project.importSVG(e.originalContent,{expandShapes:!0,insert:!0});if(!W)return n.isEmpty=!0,null;g&&um(W);let v=!1,H=!1;if(o==="laser-safe"){const G=new ct.Path.Rectangle(D),J=[],ie=Ou(W);for(const me of ie)if(me.bounds.intersects(D))try{const pe=om(me,G);pe&&!Mu(pe)&&(lm(me,pe),J.push(pe),v=!0)}catch{if(me.bounds.intersects(D)){const pe=me.clone();J.push(pe),v=!0,H=!0}}if(W.remove(),G.remove(),!v&&(n.isEmpty=!0,!a.exportEmptyTiles))return null;const le=new ct.Group(J);le.translate(new ct.Point(-D.x+u/I,-D.y+u/U)),y>0&&cm(le,y/I),h&&Sc(i,a,I,U)}else{const G=new ct.Path.Rectangle(D);G.clipMask=!0,new ct.Group([G,W]).translate(new ct.Point(-D.x+u/I,-D.y+u/U)),v=!0,h&&Sc(i,a,I,U)}if(n.isEmpty=!v,n.hasUnsafeFallback=H,!v&&!a.exportEmptyTiles)return null;const N=hm(i,a,n.row,n.col);return{tile:{...n,svgContent:N},svgContent:N}}function Ou(e){const n=[];function i(a){if(a instanceof ct.Path||a instanceof ct.CompoundPath)n.push(a);else if(a instanceof ct.Group||a instanceof ct.Layer)for(const u of a.children)i(u)}return i(e),n}function om(e,n){if(e instanceof ct.CompoundPath){const a=[];for(const u of e.children){const o=u.intersect(n,{insert:!1});o&&!Mu(o)&&a.push(o)}return a.length===0?null:a.length===1?a[0]:new ct.CompoundPath({children:a,insert:!1})}return e.intersect(n,{insert:!1})}function Mu(e){return e instanceof ct.Path?e.segments.length===0:e instanceof ct.CompoundPath?e.children.length===0||e.children.every(n=>Mu(n)):!1}function lm(e,n){e instanceof ct.PathItem&&n instanceof ct.PathItem&&(n.fillColor=e.fillColor,n.strokeColor=e.strokeColor,n.strokeWidth=e.strokeWidth,n.strokeCap=e.strokeCap,n.strokeJoin=e.strokeJoin,n.dashArray=e.dashArray,n.dashOffset=e.dashOffset,n.opacity=e.opacity)}function um(e){const n=Ou(e);for(const i of n)if(i.strokeColor&&i.strokeWidth&&i.strokeWidth>0)try{const a=fm(i);a&&i.replaceWith(a)}catch{}}function fm(e){if(!(e instanceof ct.Path))return null;const n=e.strokeWidth||0;if(n<=0)return null;try{const i=xc.offset(e,n/2,{join:"round"}),a=xc.offset(e,-n/2,{join:"round"});if(i&&a){const u=i.unite(a,{insert:!1});return u.fillColor=e.strokeColor,u.strokeColor=null,u}}catch{}return null}const xc={offset(e,n,i){return e.closed,e.clone()}};function cm(e,n){const i=Ou(e);for(const a of i)a instanceof ct.Path&&a.simplify(n)}function Sc(e,n,i,a){const{margin:u}=n,{effectiveTileWidth:o,effectiveTileHeight:h}=e,g=new ct.Path.Rectangle(new ct.Rectangle(u/i,u/a,o/i,h/a));g.strokeColor=new ct.Color("red"),g.strokeWidth=.1/i,g.fillColor=null;const y=5/i,I=[{x:u/i,y:u/a},{x:(u+o)/i,y:u/a},{x:u/i,y:(u+h)/a},{x:(u+o)/i,y:(u+h)/a}];for(const U of I){const D=new ct.Path.Line(new ct.Point(U.x-y,U.y),new ct.Point(U.x+y,U.y));D.strokeColor=new ct.Color("red"),D.strokeWidth=.1/i;const W=new ct.Path.Line(new ct.Point(U.x,U.y-y),new ct.Point(U.x,U.y+y));W.strokeColor=new ct.Color("red"),W.strokeWidth=.1/i}}function hm(e,n,i,a){const{tileWidth:u,tileHeight:o}=e,h=ct.project.exportSVG({asString:!0,bounds:new ct.Rectangle(0,0,u,o)}),y=new DOMParser().parseFromString(h,"image/svg+xml"),I=y.querySelector("svg");if(I&&(I.setAttribute("width",`${u}mm`),I.setAttribute("height",`${o}mm`),I.setAttribute("viewBox",`0 0 ${u} ${o}`),n.registrationMarks.enabled)){const D=rm(e,n);I.innerHTML+=D}return new XMLSerializer().serializeToString(y)}var Rd={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,n){(function(i){e.exports=i()})(function(){return function i(a,u,o){function h(I,U){if(!u[I]){if(!a[I]){var D=typeof Gi=="function"&&Gi;if(!U&&D)return D(I,!0);if(g)return g(I,!0);var W=new Error("Cannot find module '"+I+"'");throw W.code="MODULE_NOT_FOUND",W}var v=u[I]={exports:{}};a[I][0].call(v.exports,function(H){var N=a[I][1][H];return h(N||H)},v,v.exports,i,a,u,o)}return u[I].exports}for(var g=typeof Gi=="function"&&Gi,y=0;y<o.length;y++)h(o[y]);return h}({1:[function(i,a,u){var o=i("./utils"),h=i("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(y){for(var I,U,D,W,v,H,N,Z=[],S=0,z=y.length,A=z,G=o.getTypeOf(y)!=="string";S<y.length;)A=z-S,D=G?(I=y[S++],U=S<z?y[S++]:0,S<z?y[S++]:0):(I=y.charCodeAt(S++),U=S<z?y.charCodeAt(S++):0,S<z?y.charCodeAt(S++):0),W=I>>2,v=(3&I)<<4|U>>4,H=1<A?(15&U)<<2|D>>6:64,N=2<A?63&D:64,Z.push(g.charAt(W)+g.charAt(v)+g.charAt(H)+g.charAt(N));return Z.join("")},u.decode=function(y){var I,U,D,W,v,H,N=0,Z=0,S="data:";if(y.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var z,A=3*(y=y.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(y.charAt(y.length-1)===g.charAt(64)&&A--,y.charAt(y.length-2)===g.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(z=h.uint8array?new Uint8Array(0|A):new Array(0|A);N<y.length;)I=g.indexOf(y.charAt(N++))<<2|(W=g.indexOf(y.charAt(N++)))>>4,U=(15&W)<<4|(v=g.indexOf(y.charAt(N++)))>>2,D=(3&v)<<6|(H=g.indexOf(y.charAt(N++))),z[Z++]=I,v!==64&&(z[Z++]=U),H!==64&&(z[Z++]=D);return z}},{"./support":30,"./utils":32}],2:[function(i,a,u){var o=i("./external"),h=i("./stream/DataWorker"),g=i("./stream/Crc32Probe"),y=i("./stream/DataLengthProbe");function I(U,D,W,v,H){this.compressedSize=U,this.uncompressedSize=D,this.crc32=W,this.compression=v,this.compressedContent=H}I.prototype={getContentWorker:function(){var U=new h(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new y("data_length")),D=this;return U.on("end",function(){if(this.streamInfo.data_length!==D.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),U},getCompressedWorker:function(){return new h(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},I.createWorkerFrom=function(U,D,W){return U.pipe(new g).pipe(new y("uncompressedSize")).pipe(D.compressWorker(W)).pipe(new y("compressedSize")).withStreamInfo("compression",D)},a.exports=I},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,a,u){var o=i("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},u.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,a,u){var o=i("./utils"),h=function(){for(var g,y=[],I=0;I<256;I++){g=I;for(var U=0;U<8;U++)g=1&g?3988292384^g>>>1:g>>>1;y[I]=g}return y}();a.exports=function(g,y){return g!==void 0&&g.length?o.getTypeOf(g)!=="string"?function(I,U,D,W){var v=h,H=W+D;I^=-1;for(var N=W;N<H;N++)I=I>>>8^v[255&(I^U[N])];return-1^I}(0|y,g,g.length,0):function(I,U,D,W){var v=h,H=W+D;I^=-1;for(var N=W;N<H;N++)I=I>>>8^v[255&(I^U.charCodeAt(N))];return-1^I}(0|y,g,g.length,0):0}},{"./utils":32}],5:[function(i,a,u){u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(i,a,u){var o=null;o=typeof Promise<"u"?Promise:i("lie"),a.exports={Promise:o}},{lie:37}],7:[function(i,a,u){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=i("pako"),g=i("./utils"),y=i("./stream/GenericWorker"),I=o?"uint8array":"array";function U(D,W){y.call(this,"FlateWorker/"+D),this._pako=null,this._pakoAction=D,this._pakoOptions=W,this.meta={}}u.magic="\b\0",g.inherits(U,y),U.prototype.processChunk=function(D){this.meta=D.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(I,D.data),!1)},U.prototype.flush=function(){y.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},U.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this._pako=null},U.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var D=this;this._pako.onData=function(W){D.push({data:W,meta:D.meta})}},u.compressWorker=function(D){return new U("Deflate",D)},u.uncompressWorker=function(){return new U("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,a,u){function o(v,H){var N,Z="";for(N=0;N<H;N++)Z+=String.fromCharCode(255&v),v>>>=8;return Z}function h(v,H,N,Z,S,z){var A,G,J=v.file,ie=v.compression,le=z!==I.utf8encode,me=g.transformTo("string",z(J.name)),pe=g.transformTo("string",I.utf8encode(J.name)),he=J.comment,xe=g.transformTo("string",z(he)),Q=g.transformTo("string",I.utf8encode(he)),de=pe.length!==J.name.length,O=Q.length!==he.length,be="",ke="",Te="",Me=J.dir,ge=J.date,je={crc32:0,compressedSize:0,uncompressedSize:0};H&&!N||(je.crc32=v.crc32,je.compressedSize=v.compressedSize,je.uncompressedSize=v.uncompressedSize);var ve=0;H&&(ve|=8),le||!de&&!O||(ve|=2048);var _e=0,Ke=0;Me&&(_e|=16),S==="UNIX"?(Ke=798,_e|=function(Fe,ht){var yt=Fe;return Fe||(yt=ht?16893:33204),(65535&yt)<<16}(J.unixPermissions,Me)):(Ke=20,_e|=function(Fe){return 63&(Fe||0)}(J.dosPermissions)),A=ge.getUTCHours(),A<<=6,A|=ge.getUTCMinutes(),A<<=5,A|=ge.getUTCSeconds()/2,G=ge.getUTCFullYear()-1980,G<<=4,G|=ge.getUTCMonth()+1,G<<=5,G|=ge.getUTCDate(),de&&(ke=o(1,1)+o(U(me),4)+pe,be+="up"+o(ke.length,2)+ke),O&&(Te=o(1,1)+o(U(xe),4)+Q,be+="uc"+o(Te.length,2)+Te);var Ve="";return Ve+=`
\0`,Ve+=o(ve,2),Ve+=ie.magic,Ve+=o(A,2),Ve+=o(G,2),Ve+=o(je.crc32,4),Ve+=o(je.compressedSize,4),Ve+=o(je.uncompressedSize,4),Ve+=o(me.length,2),Ve+=o(be.length,2),{fileRecord:D.LOCAL_FILE_HEADER+Ve+me+be,dirRecord:D.CENTRAL_FILE_HEADER+o(Ke,2)+Ve+o(xe.length,2)+"\0\0\0\0"+o(_e,4)+o(Z,4)+me+be+xe}}var g=i("../utils"),y=i("../stream/GenericWorker"),I=i("../utf8"),U=i("../crc32"),D=i("../signature");function W(v,H,N,Z){y.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=H,this.zipPlatform=N,this.encodeFileName=Z,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(W,y),W.prototype.push=function(v){var H=v.meta.percent||0,N=this.entriesCount,Z=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,y.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:N?(H+100*(N-Z-1))/N:100}}))},W.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var H=this.streamFiles&&!v.file.dir;if(H){var N=h(v,H,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},W.prototype.closedSource=function(v){this.accumulate=!1;var H=this.streamFiles&&!v.file.dir,N=h(v,H,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),H)this.push({data:function(Z){return D.DATA_DESCRIPTOR+o(Z.crc32,4)+o(Z.compressedSize,4)+o(Z.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},W.prototype.flush=function(){for(var v=this.bytesWritten,H=0;H<this.dirRecords.length;H++)this.push({data:this.dirRecords[H],meta:{percent:100}});var N=this.bytesWritten-v,Z=function(S,z,A,G,J){var ie=g.transformTo("string",J(G));return D.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(S,2)+o(S,2)+o(z,4)+o(A,4)+o(ie.length,2)+ie}(this.dirRecords.length,N,v,this.zipComment,this.encodeFileName);this.push({data:Z,meta:{percent:100}})},W.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},W.prototype.registerPrevious=function(v){this._sources.push(v);var H=this;return v.on("data",function(N){H.processChunk(N)}),v.on("end",function(){H.closedSource(H.previous.streamInfo),H._sources.length?H.prepareNextSource():H.end()}),v.on("error",function(N){H.error(N)}),this},W.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},W.prototype.error=function(v){var H=this._sources;if(!y.prototype.error.call(this,v))return!1;for(var N=0;N<H.length;N++)try{H[N].error(v)}catch{}return!0},W.prototype.lock=function(){y.prototype.lock.call(this);for(var v=this._sources,H=0;H<v.length;H++)v[H].lock()},a.exports=W},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,a,u){var o=i("../compressions"),h=i("./ZipFileWorker");u.generateWorker=function(g,y,I){var U=new h(y.streamFiles,I,y.platform,y.encodeFileName),D=0;try{g.forEach(function(W,v){D++;var H=function(z,A){var G=z||A,J=o[G];if(!J)throw new Error(G+" is not a valid compression method !");return J}(v.options.compression,y.compression),N=v.options.compressionOptions||y.compressionOptions||{},Z=v.dir,S=v.date;v._compressWorker(H,N).withStreamInfo("file",{name:W,dir:Z,date:S,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(U)}),U.entriesCount=D}catch(W){U.error(W)}return U}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,a,u){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new o;for(var g in this)typeof this[g]!="function"&&(h[g]=this[g]);return h}}(o.prototype=i("./object")).loadAsync=i("./load"),o.support=i("./support"),o.defaults=i("./defaults"),o.version="3.10.1",o.loadAsync=function(h,g){return new o().loadAsync(h,g)},o.external=i("./external"),a.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,a,u){var o=i("./utils"),h=i("./external"),g=i("./utf8"),y=i("./zipEntries"),I=i("./stream/Crc32Probe"),U=i("./nodejsUtils");function D(W){return new h.Promise(function(v,H){var N=W.decompressed.getContentWorker().pipe(new I);N.on("error",function(Z){H(Z)}).on("end",function(){N.streamInfo.crc32!==W.decompressed.crc32?H(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}a.exports=function(W,v){var H=this;return v=o.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),U.isNode&&U.isStream(W)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",W,!0,v.optimizedBinaryString,v.base64).then(function(N){var Z=new y(v);return Z.load(N),Z}).then(function(N){var Z=[h.Promise.resolve(N)],S=N.files;if(v.checkCRC32)for(var z=0;z<S.length;z++)Z.push(D(S[z]));return h.Promise.all(Z)}).then(function(N){for(var Z=N.shift(),S=Z.files,z=0;z<S.length;z++){var A=S[z],G=A.fileNameStr,J=o.resolve(A.fileNameStr);H.file(J,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:v.createFolders}),A.dir||(H.file(J).unsafeOriginalName=G)}return Z.zipComment.length&&(H.comment=Z.zipComment),H})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,a,u){var o=i("../utils"),h=i("../stream/GenericWorker");function g(y,I){h.call(this,"Nodejs stream input adapter for "+y),this._upstreamEnded=!1,this._bindStream(I)}o.inherits(g,h),g.prototype._bindStream=function(y){var I=this;(this._stream=y).pause(),y.on("data",function(U){I.push({data:U,meta:{percent:0}})}).on("error",function(U){I.isPaused?this.generatedError=U:I.error(U)}).on("end",function(){I.isPaused?I._upstreamEnded=!0:I.end()})},g.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,a,u){var o=i("readable-stream").Readable;function h(g,y,I){o.call(this,y),this._helper=g;var U=this;g.on("data",function(D,W){U.push(D)||U._helper.pause(),I&&I(W)}).on("error",function(D){U.emit("error",D)}).on("end",function(){U.push(null)})}i("../utils").inherits(h,o),h.prototype._read=function(){this._helper.resume()},a.exports=h},{"../utils":32,"readable-stream":16}],14:[function(i,a,u){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,h);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,h)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var h=new Buffer(o);return h.fill(0),h},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(i,a,u){function o(J,ie,le){var me,pe=g.getTypeOf(ie),he=g.extend(le||{},U);he.date=he.date||new Date,he.compression!==null&&(he.compression=he.compression.toUpperCase()),typeof he.unixPermissions=="string"&&(he.unixPermissions=parseInt(he.unixPermissions,8)),he.unixPermissions&&16384&he.unixPermissions&&(he.dir=!0),he.dosPermissions&&16&he.dosPermissions&&(he.dir=!0),he.dir&&(J=S(J)),he.createFolders&&(me=Z(J))&&z.call(this,me,!0);var xe=pe==="string"&&he.binary===!1&&he.base64===!1;le&&le.binary!==void 0||(he.binary=!xe),(ie instanceof D&&ie.uncompressedSize===0||he.dir||!ie||ie.length===0)&&(he.base64=!1,he.binary=!0,ie="",he.compression="STORE",pe="string");var Q=null;Q=ie instanceof D||ie instanceof y?ie:H.isNode&&H.isStream(ie)?new N(J,ie):g.prepareContent(J,ie,he.binary,he.optimizedBinaryString,he.base64);var de=new W(J,Q,he);this.files[J]=de}var h=i("./utf8"),g=i("./utils"),y=i("./stream/GenericWorker"),I=i("./stream/StreamHelper"),U=i("./defaults"),D=i("./compressedObject"),W=i("./zipObject"),v=i("./generate"),H=i("./nodejsUtils"),N=i("./nodejs/NodejsStreamInputAdapter"),Z=function(J){J.slice(-1)==="/"&&(J=J.substring(0,J.length-1));var ie=J.lastIndexOf("/");return 0<ie?J.substring(0,ie):""},S=function(J){return J.slice(-1)!=="/"&&(J+="/"),J},z=function(J,ie){return ie=ie!==void 0?ie:U.createFolders,J=S(J),this.files[J]||o.call(this,J,null,{dir:!0,createFolders:ie}),this.files[J]};function A(J){return Object.prototype.toString.call(J)==="[object RegExp]"}var G={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(J){var ie,le,me;for(ie in this.files)me=this.files[ie],(le=ie.slice(this.root.length,ie.length))&&ie.slice(0,this.root.length)===this.root&&J(le,me)},filter:function(J){var ie=[];return this.forEach(function(le,me){J(le,me)&&ie.push(me)}),ie},file:function(J,ie,le){if(arguments.length!==1)return J=this.root+J,o.call(this,J,ie,le),this;if(A(J)){var me=J;return this.filter(function(he,xe){return!xe.dir&&me.test(he)})}var pe=this.files[this.root+J];return pe&&!pe.dir?pe:null},folder:function(J){if(!J)return this;if(A(J))return this.filter(function(pe,he){return he.dir&&J.test(pe)});var ie=this.root+J,le=z.call(this,ie),me=this.clone();return me.root=le.name,me},remove:function(J){J=this.root+J;var ie=this.files[J];if(ie||(J.slice(-1)!=="/"&&(J+="/"),ie=this.files[J]),ie&&!ie.dir)delete this.files[J];else for(var le=this.filter(function(pe,he){return he.name.slice(0,J.length)===J}),me=0;me<le.length;me++)delete this.files[le[me].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(J){var ie,le={};try{if((le=g.extend(J||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=le.type.toLowerCase(),le.compression=le.compression.toUpperCase(),le.type==="binarystring"&&(le.type="string"),!le.type)throw new Error("No output type specified.");g.checkSupport(le.type),le.platform!=="darwin"&&le.platform!=="freebsd"&&le.platform!=="linux"&&le.platform!=="sunos"||(le.platform="UNIX"),le.platform==="win32"&&(le.platform="DOS");var me=le.comment||this.comment||"";ie=v.generateWorker(this,le,me)}catch(pe){(ie=new y("error")).error(pe)}return new I(ie,le.type||"string",le.mimeType)},generateAsync:function(J,ie){return this.generateInternalStream(J).accumulate(ie)},generateNodeStream:function(J,ie){return(J=J||{}).type||(J.type="nodebuffer"),this.generateInternalStream(J).toNodejsStream(ie)}};a.exports=G},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,a,u){a.exports=i("stream")},{stream:void 0}],17:[function(i,a,u){var o=i("./DataReader");function h(g){o.call(this,g);for(var y=0;y<this.data.length;y++)g[y]=255&g[y]}i("../utils").inherits(h,o),h.prototype.byteAt=function(g){return this.data[this.zero+g]},h.prototype.lastIndexOfSignature=function(g){for(var y=g.charCodeAt(0),I=g.charCodeAt(1),U=g.charCodeAt(2),D=g.charCodeAt(3),W=this.length-4;0<=W;--W)if(this.data[W]===y&&this.data[W+1]===I&&this.data[W+2]===U&&this.data[W+3]===D)return W-this.zero;return-1},h.prototype.readAndCheckSignature=function(g){var y=g.charCodeAt(0),I=g.charCodeAt(1),U=g.charCodeAt(2),D=g.charCodeAt(3),W=this.readData(4);return y===W[0]&&I===W[1]&&U===W[2]&&D===W[3]},h.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,y},a.exports=h},{"../utils":32,"./DataReader":18}],18:[function(i,a,u){var o=i("../utils");function h(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var y,I=0;for(this.checkOffset(g),y=this.index+g-1;y>=this.index;y--)I=(I<<8)+this.byteAt(y);return this.index+=g,I},readString:function(g){return o.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},a.exports=h},{"../utils":32}],19:[function(i,a,u){var o=i("./Uint8ArrayReader");function h(g){o.call(this,g)}i("../utils").inherits(h,o),h.prototype.readData=function(g){this.checkOffset(g);var y=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,y},a.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,a,u){var o=i("./DataReader");function h(g){o.call(this,g)}i("../utils").inherits(h,o),h.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},h.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},h.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},h.prototype.readData=function(g){this.checkOffset(g);var y=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,y},a.exports=h},{"../utils":32,"./DataReader":18}],21:[function(i,a,u){var o=i("./ArrayReader");function h(g){o.call(this,g)}i("../utils").inherits(h,o),h.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,y},a.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(i,a,u){var o=i("../utils"),h=i("../support"),g=i("./ArrayReader"),y=i("./StringReader"),I=i("./NodeBufferReader"),U=i("./Uint8ArrayReader");a.exports=function(D){var W=o.getTypeOf(D);return o.checkSupport(W),W!=="string"||h.uint8array?W==="nodebuffer"?new I(D):h.uint8array?new U(o.transformTo("uint8array",D)):new g(o.transformTo("array",D)):new y(D)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,a,u){u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,a,u){var o=i("./GenericWorker"),h=i("../utils");function g(y){o.call(this,"ConvertWorker to "+y),this.destType=y}h.inherits(g,o),g.prototype.processChunk=function(y){this.push({data:h.transformTo(this.destType,y.data),meta:y.meta})},a.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(i,a,u){var o=i("./GenericWorker"),h=i("../crc32");function g(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(g,o),g.prototype.processChunk=function(y){this.streamInfo.crc32=h(y.data,this.streamInfo.crc32||0),this.push(y)},a.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,a,u){var o=i("../utils"),h=i("./GenericWorker");function g(y){h.call(this,"DataLengthProbe for "+y),this.propName=y,this.withStreamInfo(y,0)}o.inherits(g,h),g.prototype.processChunk=function(y){if(y){var I=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=I+y.data.length}h.prototype.processChunk.call(this,y)},a.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(i,a,u){var o=i("../utils"),h=i("./GenericWorker");function g(y){h.call(this,"DataWorker");var I=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(U){I.dataIsReady=!0,I.data=U,I.max=U&&U.length||0,I.type=o.getTypeOf(U),I.isPaused||I._tickAndRepeat()},function(U){I.error(U)})}o.inherits(g,h),g.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=null,I=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":y=this.data.substring(this.index,I);break;case"uint8array":y=this.data.subarray(this.index,I);break;case"array":case"nodebuffer":y=this.data.slice(this.index,I)}return this.index=I,this.push({data:y,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(i,a,u){function o(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,g){return this._listeners[h].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,g){if(this._listeners[h])for(var y=0;y<this._listeners[h].length;y++)this._listeners[h][y].call(this,g)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var g=this;return h.on("data",function(y){g.processChunk(y)}),h.on("end",function(){g.end()}),h.on("error",function(y){g.error(y)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,g){return this.extraStreamInfo[h]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},a.exports=o},{}],29:[function(i,a,u){var o=i("../utils"),h=i("./ConvertWorker"),g=i("./GenericWorker"),y=i("../base64"),I=i("../support"),U=i("../external"),D=null;if(I.nodestream)try{D=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function W(H,N){return new U.Promise(function(Z,S){var z=[],A=H._internalType,G=H._outputType,J=H._mimeType;H.on("data",function(ie,le){z.push(ie),N&&N(le)}).on("error",function(ie){z=[],S(ie)}).on("end",function(){try{var ie=function(le,me,pe){switch(le){case"blob":return o.newBlob(o.transformTo("arraybuffer",me),pe);case"base64":return y.encode(me);default:return o.transformTo(le,me)}}(G,function(le,me){var pe,he=0,xe=null,Q=0;for(pe=0;pe<me.length;pe++)Q+=me[pe].length;switch(le){case"string":return me.join("");case"array":return Array.prototype.concat.apply([],me);case"uint8array":for(xe=new Uint8Array(Q),pe=0;pe<me.length;pe++)xe.set(me[pe],he),he+=me[pe].length;return xe;case"nodebuffer":return Buffer.concat(me);default:throw new Error("concat : unsupported type '"+le+"'")}}(A,z),J);Z(ie)}catch(le){S(le)}z=[]}).resume()})}function v(H,N,Z){var S=N;switch(N){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=N,this._mimeType=Z,o.checkSupport(S),this._worker=H.pipe(new h(S)),H.lock()}catch(z){this._worker=new g("error"),this._worker.error(z)}}v.prototype={accumulate:function(H){return W(this,H)},on:function(H,N){var Z=this;return H==="data"?this._worker.on(H,function(S){N.call(Z,S.data,S.meta)}):this._worker.on(H,function(){o.delay(N,arguments,Z)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(H){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new D(this,{objectMode:this._outputType!=="nodebuffer"},H)}},a.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,a,u){if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=typeof Buffer<"u",u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var o=new ArrayBuffer(0);try{u.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(o),u.blob=h.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!i("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(i,a,u){for(var o=i("./utils"),h=i("./support"),g=i("./nodejsUtils"),y=i("./stream/GenericWorker"),I=new Array(256),U=0;U<256;U++)I[U]=252<=U?6:248<=U?5:240<=U?4:224<=U?3:192<=U?2:1;I[254]=I[254]=1;function D(){y.call(this,"utf-8 decode"),this.leftOver=null}function W(){y.call(this,"utf-8 encode")}u.utf8encode=function(v){return h.nodebuffer?g.newBufferFrom(v,"utf-8"):function(H){var N,Z,S,z,A,G=H.length,J=0;for(z=0;z<G;z++)(64512&(Z=H.charCodeAt(z)))==55296&&z+1<G&&(64512&(S=H.charCodeAt(z+1)))==56320&&(Z=65536+(Z-55296<<10)+(S-56320),z++),J+=Z<128?1:Z<2048?2:Z<65536?3:4;for(N=h.uint8array?new Uint8Array(J):new Array(J),z=A=0;A<J;z++)(64512&(Z=H.charCodeAt(z)))==55296&&z+1<G&&(64512&(S=H.charCodeAt(z+1)))==56320&&(Z=65536+(Z-55296<<10)+(S-56320),z++),Z<128?N[A++]=Z:(Z<2048?N[A++]=192|Z>>>6:(Z<65536?N[A++]=224|Z>>>12:(N[A++]=240|Z>>>18,N[A++]=128|Z>>>12&63),N[A++]=128|Z>>>6&63),N[A++]=128|63&Z);return N}(v)},u.utf8decode=function(v){return h.nodebuffer?o.transformTo("nodebuffer",v).toString("utf-8"):function(H){var N,Z,S,z,A=H.length,G=new Array(2*A);for(N=Z=0;N<A;)if((S=H[N++])<128)G[Z++]=S;else if(4<(z=I[S]))G[Z++]=65533,N+=z-1;else{for(S&=z===2?31:z===3?15:7;1<z&&N<A;)S=S<<6|63&H[N++],z--;1<z?G[Z++]=65533:S<65536?G[Z++]=S:(S-=65536,G[Z++]=55296|S>>10&1023,G[Z++]=56320|1023&S)}return G.length!==Z&&(G.subarray?G=G.subarray(0,Z):G.length=Z),o.applyFromCharCode(G)}(v=o.transformTo(h.uint8array?"uint8array":"array",v))},o.inherits(D,y),D.prototype.processChunk=function(v){var H=o.transformTo(h.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var N=H;(H=new Uint8Array(N.length+this.leftOver.length)).set(this.leftOver,0),H.set(N,this.leftOver.length)}else H=this.leftOver.concat(H);this.leftOver=null}var Z=function(z,A){var G;for((A=A||z.length)>z.length&&(A=z.length),G=A-1;0<=G&&(192&z[G])==128;)G--;return G<0||G===0?A:G+I[z[G]]>A?G:A}(H),S=H;Z!==H.length&&(h.uint8array?(S=H.subarray(0,Z),this.leftOver=H.subarray(Z,H.length)):(S=H.slice(0,Z),this.leftOver=H.slice(Z,H.length))),this.push({data:u.utf8decode(S),meta:v.meta})},D.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=D,o.inherits(W,y),W.prototype.processChunk=function(v){this.push({data:u.utf8encode(v.data),meta:v.meta})},u.Utf8EncodeWorker=W},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,a,u){var o=i("./support"),h=i("./base64"),g=i("./nodejsUtils"),y=i("./external");function I(N){return N}function U(N,Z){for(var S=0;S<N.length;++S)Z[S]=255&N.charCodeAt(S);return Z}i("setimmediate"),u.newBlob=function(N,Z){u.checkSupport("blob");try{return new Blob([N],{type:Z})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(N),S.getBlob(Z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var D={stringifyByChunk:function(N,Z,S){var z=[],A=0,G=N.length;if(G<=S)return String.fromCharCode.apply(null,N);for(;A<G;)Z==="array"||Z==="nodebuffer"?z.push(String.fromCharCode.apply(null,N.slice(A,Math.min(A+S,G)))):z.push(String.fromCharCode.apply(null,N.subarray(A,Math.min(A+S,G)))),A+=S;return z.join("")},stringifyByChar:function(N){for(var Z="",S=0;S<N.length;S++)Z+=String.fromCharCode(N[S]);return Z},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function W(N){var Z=65536,S=u.getTypeOf(N),z=!0;if(S==="uint8array"?z=D.applyCanBeUsed.uint8array:S==="nodebuffer"&&(z=D.applyCanBeUsed.nodebuffer),z)for(;1<Z;)try{return D.stringifyByChunk(N,S,Z)}catch{Z=Math.floor(Z/2)}return D.stringifyByChar(N)}function v(N,Z){for(var S=0;S<N.length;S++)Z[S]=N[S];return Z}u.applyFromCharCode=W;var H={};H.string={string:I,array:function(N){return U(N,new Array(N.length))},arraybuffer:function(N){return H.string.uint8array(N).buffer},uint8array:function(N){return U(N,new Uint8Array(N.length))},nodebuffer:function(N){return U(N,g.allocBuffer(N.length))}},H.array={string:W,array:I,arraybuffer:function(N){return new Uint8Array(N).buffer},uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return g.newBufferFrom(N)}},H.arraybuffer={string:function(N){return W(new Uint8Array(N))},array:function(N){return v(new Uint8Array(N),new Array(N.byteLength))},arraybuffer:I,uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return g.newBufferFrom(new Uint8Array(N))}},H.uint8array={string:W,array:function(N){return v(N,new Array(N.length))},arraybuffer:function(N){return N.buffer},uint8array:I,nodebuffer:function(N){return g.newBufferFrom(N)}},H.nodebuffer={string:W,array:function(N){return v(N,new Array(N.length))},arraybuffer:function(N){return H.nodebuffer.uint8array(N).buffer},uint8array:function(N){return v(N,new Uint8Array(N.length))},nodebuffer:I},u.transformTo=function(N,Z){if(Z=Z||"",!N)return Z;u.checkSupport(N);var S=u.getTypeOf(Z);return H[S][N](Z)},u.resolve=function(N){for(var Z=N.split("/"),S=[],z=0;z<Z.length;z++){var A=Z[z];A==="."||A===""&&z!==0&&z!==Z.length-1||(A===".."?S.pop():S.push(A))}return S.join("/")},u.getTypeOf=function(N){return typeof N=="string"?"string":Object.prototype.toString.call(N)==="[object Array]"?"array":o.nodebuffer&&g.isBuffer(N)?"nodebuffer":o.uint8array&&N instanceof Uint8Array?"uint8array":o.arraybuffer&&N instanceof ArrayBuffer?"arraybuffer":void 0},u.checkSupport=function(N){if(!o[N.toLowerCase()])throw new Error(N+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(N){var Z,S,z="";for(S=0;S<(N||"").length;S++)z+="\\x"+((Z=N.charCodeAt(S))<16?"0":"")+Z.toString(16).toUpperCase();return z},u.delay=function(N,Z,S){setImmediate(function(){N.apply(S||null,Z||[])})},u.inherits=function(N,Z){function S(){}S.prototype=Z.prototype,N.prototype=new S},u.extend=function(){var N,Z,S={};for(N=0;N<arguments.length;N++)for(Z in arguments[N])Object.prototype.hasOwnProperty.call(arguments[N],Z)&&S[Z]===void 0&&(S[Z]=arguments[N][Z]);return S},u.prepareContent=function(N,Z,S,z,A){return y.Promise.resolve(Z).then(function(G){return o.blob&&(G instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(G))!==-1)&&typeof FileReader<"u"?new y.Promise(function(J,ie){var le=new FileReader;le.onload=function(me){J(me.target.result)},le.onerror=function(me){ie(me.target.error)},le.readAsArrayBuffer(G)}):G}).then(function(G){var J=u.getTypeOf(G);return J?(J==="arraybuffer"?G=u.transformTo("uint8array",G):J==="string"&&(A?G=h.decode(G):S&&z!==!0&&(G=function(ie){return U(ie,o.uint8array?new Uint8Array(ie.length):new Array(ie.length))}(G))),G):y.Promise.reject(new Error("Can't read the data of '"+N+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,a,u){var o=i("./reader/readerFor"),h=i("./utils"),g=i("./signature"),y=i("./zipEntry"),I=i("./support");function U(D){this.files=[],this.loadOptions=D}U.prototype={checkSignature:function(D){if(!this.reader.readAndCheckSignature(D)){this.reader.index-=4;var W=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(W)+", expected "+h.pretty(D)+")")}},isSignature:function(D,W){var v=this.reader.index;this.reader.setIndex(D);var H=this.reader.readString(4)===W;return this.reader.setIndex(v),H},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var D=this.reader.readData(this.zipCommentLength),W=I.uint8array?"uint8array":"array",v=h.transformTo(W,D);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var D,W,v,H=this.zip64EndOfCentralSize-44;0<H;)D=this.reader.readInt(2),W=this.reader.readInt(4),v=this.reader.readData(W),this.zip64ExtensibleData[D]={id:D,length:W,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var D,W;for(D=0;D<this.files.length;D++)W=this.files[D],this.reader.setIndex(W.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),W.readLocalPart(this.reader),W.handleUTF8(),W.processAttributes()},readCentralDir:function(){var D;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(D=new y({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(D);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var D=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(D<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(D);var W=D;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(D=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(D),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var H=W-v;if(0<H)this.isSignature(W,g.CENTRAL_FILE_HEADER)||(this.reader.zero=H);else if(H<0)throw new Error("Corrupted zip: missing "+Math.abs(H)+" bytes.")},prepareReader:function(D){this.reader=o(D)},load:function(D){this.prepareReader(D),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=U},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,a,u){var o=i("./reader/readerFor"),h=i("./utils"),g=i("./compressedObject"),y=i("./crc32"),I=i("./utf8"),U=i("./compressions"),D=i("./support");function W(v,H){this.options=v,this.loadOptions=H}W.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var H,N;if(v.skip(22),this.fileNameLength=v.readInt(2),N=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(N),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((H=function(Z){for(var S in U)if(Object.prototype.hasOwnProperty.call(U,S)&&U[S].magic===Z)return U[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,H,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var H=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(H),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=o(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var H,N,Z,S=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<S;)H=v.readInt(2),N=v.readInt(2),Z=v.readData(N),this.extraFields[H]={id:H,length:N,value:Z};v.setIndex(S)},handleUTF8:function(){var v=D.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=I.utf8decode(this.fileName),this.fileCommentStr=I.utf8decode(this.fileComment);else{var H=this.findExtraFieldUnicodePath();if(H!==null)this.fileNameStr=H;else{var N=h.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var Z=this.findExtraFieldUnicodeComment();if(Z!==null)this.fileCommentStr=Z;else{var S=h.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var H=o(v.value);return H.readInt(1)!==1||y(this.fileName)!==H.readInt(4)?null:I.utf8decode(H.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var H=o(v.value);return H.readInt(1)!==1||y(this.fileComment)!==H.readInt(4)?null:I.utf8decode(H.readData(v.length-5))}return null}},a.exports=W},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,a,u){function o(H,N,Z){this.name=H,this.dir=Z.dir,this.date=Z.date,this.comment=Z.comment,this.unixPermissions=Z.unixPermissions,this.dosPermissions=Z.dosPermissions,this._data=N,this._dataBinary=Z.binary,this.options={compression:Z.compression,compressionOptions:Z.compressionOptions}}var h=i("./stream/StreamHelper"),g=i("./stream/DataWorker"),y=i("./utf8"),I=i("./compressedObject"),U=i("./stream/GenericWorker");o.prototype={internalStream:function(H){var N=null,Z="string";try{if(!H)throw new Error("No output type specified.");var S=(Z=H.toLowerCase())==="string"||Z==="text";Z!=="binarystring"&&Z!=="text"||(Z="string"),N=this._decompressWorker();var z=!this._dataBinary;z&&!S&&(N=N.pipe(new y.Utf8EncodeWorker)),!z&&S&&(N=N.pipe(new y.Utf8DecodeWorker))}catch(A){(N=new U("error")).error(A)}return new h(N,Z,"")},async:function(H,N){return this.internalStream(H).accumulate(N)},nodeStream:function(H,N){return this.internalStream(H||"nodebuffer").toNodejsStream(N)},_compressWorker:function(H,N){if(this._data instanceof I&&this._data.compression.magic===H.magic)return this._data.getCompressedWorker();var Z=this._decompressWorker();return this._dataBinary||(Z=Z.pipe(new y.Utf8EncodeWorker)),I.createWorkerFrom(Z,H,N)},_decompressWorker:function(){return this._data instanceof I?this._data.getContentWorker():this._data instanceof U?this._data:new g(this._data)}};for(var D=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],W=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<D.length;v++)o.prototype[D[v]]=W;a.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,a,u){(function(o){var h,g,y=o.MutationObserver||o.WebKitMutationObserver;if(y){var I=0,U=new y(H),D=o.document.createTextNode("");U.observe(D,{characterData:!0}),h=function(){D.data=I=++I%2}}else if(o.setImmediate||o.MessageChannel===void 0)h="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var N=o.document.createElement("script");N.onreadystatechange=function(){H(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},o.document.documentElement.appendChild(N)}:function(){setTimeout(H,0)};else{var W=new o.MessageChannel;W.port1.onmessage=H,h=function(){W.port2.postMessage(0)}}var v=[];function H(){var N,Z;g=!0;for(var S=v.length;S;){for(Z=v,v=[],N=-1;++N<S;)Z[N]();S=v.length}g=!1}a.exports=function(N){v.push(N)!==1||g||h()}}).call(this,typeof Vn<"u"?Vn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,a,u){var o=i("immediate");function h(){}var g={},y=["REJECTED"],I=["FULFILLED"],U=["PENDING"];function D(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=U,this.queue=[],this.outcome=void 0,S!==h&&N(this,S)}function W(S,z,A){this.promise=S,typeof z=="function"&&(this.onFulfilled=z,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function v(S,z,A){o(function(){var G;try{G=z(A)}catch(J){return g.reject(S,J)}G===S?g.reject(S,new TypeError("Cannot resolve promise with itself")):g.resolve(S,G)})}function H(S){var z=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof z=="function")return function(){z.apply(S,arguments)}}function N(S,z){var A=!1;function G(le){A||(A=!0,g.reject(S,le))}function J(le){A||(A=!0,g.resolve(S,le))}var ie=Z(function(){z(J,G)});ie.status==="error"&&G(ie.value)}function Z(S,z){var A={};try{A.value=S(z),A.status="success"}catch(G){A.status="error",A.value=G}return A}(a.exports=D).prototype.finally=function(S){if(typeof S!="function")return this;var z=this.constructor;return this.then(function(A){return z.resolve(S()).then(function(){return A})},function(A){return z.resolve(S()).then(function(){throw A})})},D.prototype.catch=function(S){return this.then(null,S)},D.prototype.then=function(S,z){if(typeof S!="function"&&this.state===I||typeof z!="function"&&this.state===y)return this;var A=new this.constructor(h);return this.state!==U?v(A,this.state===I?S:z,this.outcome):this.queue.push(new W(A,S,z)),A},W.prototype.callFulfilled=function(S){g.resolve(this.promise,S)},W.prototype.otherCallFulfilled=function(S){v(this.promise,this.onFulfilled,S)},W.prototype.callRejected=function(S){g.reject(this.promise,S)},W.prototype.otherCallRejected=function(S){v(this.promise,this.onRejected,S)},g.resolve=function(S,z){var A=Z(H,z);if(A.status==="error")return g.reject(S,A.value);var G=A.value;if(G)N(S,G);else{S.state=I,S.outcome=z;for(var J=-1,ie=S.queue.length;++J<ie;)S.queue[J].callFulfilled(z)}return S},g.reject=function(S,z){S.state=y,S.outcome=z;for(var A=-1,G=S.queue.length;++A<G;)S.queue[A].callRejected(z);return S},D.resolve=function(S){return S instanceof this?S:g.resolve(new this(h),S)},D.reject=function(S){var z=new this(h);return g.reject(z,S)},D.all=function(S){var z=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=S.length,G=!1;if(!A)return this.resolve([]);for(var J=new Array(A),ie=0,le=-1,me=new this(h);++le<A;)pe(S[le],le);return me;function pe(he,xe){z.resolve(he).then(function(Q){J[xe]=Q,++ie!==A||G||(G=!0,g.resolve(me,J))},function(Q){G||(G=!0,g.reject(me,Q))})}},D.race=function(S){var z=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=S.length,G=!1;if(!A)return this.resolve([]);for(var J=-1,ie=new this(h);++J<A;)le=S[J],z.resolve(le).then(function(me){G||(G=!0,g.resolve(ie,me))},function(me){G||(G=!0,g.reject(ie,me))});var le;return ie}},{immediate:36}],38:[function(i,a,u){var o={};(0,i("./lib/utils/common").assign)(o,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),a.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,a,u){var o=i("./zlib/deflate"),h=i("./utils/common"),g=i("./utils/strings"),y=i("./zlib/messages"),I=i("./zlib/zstream"),U=Object.prototype.toString,D=0,W=-1,v=0,H=8;function N(S){if(!(this instanceof N))return new N(S);this.options=h.assign({level:W,method:H,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},S||{});var z=this.options;z.raw&&0<z.windowBits?z.windowBits=-z.windowBits:z.gzip&&0<z.windowBits&&z.windowBits<16&&(z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var A=o.deflateInit2(this.strm,z.level,z.method,z.windowBits,z.memLevel,z.strategy);if(A!==D)throw new Error(y[A]);if(z.header&&o.deflateSetHeader(this.strm,z.header),z.dictionary){var G;if(G=typeof z.dictionary=="string"?g.string2buf(z.dictionary):U.call(z.dictionary)==="[object ArrayBuffer]"?new Uint8Array(z.dictionary):z.dictionary,(A=o.deflateSetDictionary(this.strm,G))!==D)throw new Error(y[A]);this._dict_set=!0}}function Z(S,z){var A=new N(z);if(A.push(S,!0),A.err)throw A.msg||y[A.err];return A.result}N.prototype.push=function(S,z){var A,G,J=this.strm,ie=this.options.chunkSize;if(this.ended)return!1;G=z===~~z?z:z===!0?4:0,typeof S=="string"?J.input=g.string2buf(S):U.call(S)==="[object ArrayBuffer]"?J.input=new Uint8Array(S):J.input=S,J.next_in=0,J.avail_in=J.input.length;do{if(J.avail_out===0&&(J.output=new h.Buf8(ie),J.next_out=0,J.avail_out=ie),(A=o.deflate(J,G))!==1&&A!==D)return this.onEnd(A),!(this.ended=!0);J.avail_out!==0&&(J.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(h.shrinkBuf(J.output,J.next_out))):this.onData(h.shrinkBuf(J.output,J.next_out)))}while((0<J.avail_in||J.avail_out===0)&&A!==1);return G===4?(A=o.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===D):G!==2||(this.onEnd(D),!(J.avail_out=0))},N.prototype.onData=function(S){this.chunks.push(S)},N.prototype.onEnd=function(S){S===D&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},u.Deflate=N,u.deflate=Z,u.deflateRaw=function(S,z){return(z=z||{}).raw=!0,Z(S,z)},u.gzip=function(S,z){return(z=z||{}).gzip=!0,Z(S,z)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,a,u){var o=i("./zlib/inflate"),h=i("./utils/common"),g=i("./utils/strings"),y=i("./zlib/constants"),I=i("./zlib/messages"),U=i("./zlib/zstream"),D=i("./zlib/gzheader"),W=Object.prototype.toString;function v(N){if(!(this instanceof v))return new v(N);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},N||{});var Z=this.options;Z.raw&&0<=Z.windowBits&&Z.windowBits<16&&(Z.windowBits=-Z.windowBits,Z.windowBits===0&&(Z.windowBits=-15)),!(0<=Z.windowBits&&Z.windowBits<16)||N&&N.windowBits||(Z.windowBits+=32),15<Z.windowBits&&Z.windowBits<48&&!(15&Z.windowBits)&&(Z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new U,this.strm.avail_out=0;var S=o.inflateInit2(this.strm,Z.windowBits);if(S!==y.Z_OK)throw new Error(I[S]);this.header=new D,o.inflateGetHeader(this.strm,this.header)}function H(N,Z){var S=new v(Z);if(S.push(N,!0),S.err)throw S.msg||I[S.err];return S.result}v.prototype.push=function(N,Z){var S,z,A,G,J,ie,le=this.strm,me=this.options.chunkSize,pe=this.options.dictionary,he=!1;if(this.ended)return!1;z=Z===~~Z?Z:Z===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof N=="string"?le.input=g.binstring2buf(N):W.call(N)==="[object ArrayBuffer]"?le.input=new Uint8Array(N):le.input=N,le.next_in=0,le.avail_in=le.input.length;do{if(le.avail_out===0&&(le.output=new h.Buf8(me),le.next_out=0,le.avail_out=me),(S=o.inflate(le,y.Z_NO_FLUSH))===y.Z_NEED_DICT&&pe&&(ie=typeof pe=="string"?g.string2buf(pe):W.call(pe)==="[object ArrayBuffer]"?new Uint8Array(pe):pe,S=o.inflateSetDictionary(this.strm,ie)),S===y.Z_BUF_ERROR&&he===!0&&(S=y.Z_OK,he=!1),S!==y.Z_STREAM_END&&S!==y.Z_OK)return this.onEnd(S),!(this.ended=!0);le.next_out&&(le.avail_out!==0&&S!==y.Z_STREAM_END&&(le.avail_in!==0||z!==y.Z_FINISH&&z!==y.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=g.utf8border(le.output,le.next_out),G=le.next_out-A,J=g.buf2string(le.output,A),le.next_out=G,le.avail_out=me-G,G&&h.arraySet(le.output,le.output,A,G,0),this.onData(J)):this.onData(h.shrinkBuf(le.output,le.next_out)))),le.avail_in===0&&le.avail_out===0&&(he=!0)}while((0<le.avail_in||le.avail_out===0)&&S!==y.Z_STREAM_END);return S===y.Z_STREAM_END&&(z=y.Z_FINISH),z===y.Z_FINISH?(S=o.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===y.Z_OK):z!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),!(le.avail_out=0))},v.prototype.onData=function(N){this.chunks.push(N)},v.prototype.onEnd=function(N){N===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},u.Inflate=v,u.inflate=H,u.inflateRaw=function(N,Z){return(Z=Z||{}).raw=!0,H(N,Z)},u.ungzip=H},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,a,u){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(y){for(var I=Array.prototype.slice.call(arguments,1);I.length;){var U=I.shift();if(U){if(typeof U!="object")throw new TypeError(U+"must be non-object");for(var D in U)U.hasOwnProperty(D)&&(y[D]=U[D])}}return y},u.shrinkBuf=function(y,I){return y.length===I?y:y.subarray?y.subarray(0,I):(y.length=I,y)};var h={arraySet:function(y,I,U,D,W){if(I.subarray&&y.subarray)y.set(I.subarray(U,U+D),W);else for(var v=0;v<D;v++)y[W+v]=I[U+v]},flattenChunks:function(y){var I,U,D,W,v,H;for(I=D=0,U=y.length;I<U;I++)D+=y[I].length;for(H=new Uint8Array(D),I=W=0,U=y.length;I<U;I++)v=y[I],H.set(v,W),W+=v.length;return H}},g={arraySet:function(y,I,U,D,W){for(var v=0;v<D;v++)y[W+v]=I[U+v]},flattenChunks:function(y){return[].concat.apply([],y)}};u.setTyped=function(y){y?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,h)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,g))},u.setTyped(o)},{}],42:[function(i,a,u){var o=i("./common"),h=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var y=new o.Buf8(256),I=0;I<256;I++)y[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function U(D,W){if(W<65537&&(D.subarray&&g||!D.subarray&&h))return String.fromCharCode.apply(null,o.shrinkBuf(D,W));for(var v="",H=0;H<W;H++)v+=String.fromCharCode(D[H]);return v}y[254]=y[254]=1,u.string2buf=function(D){var W,v,H,N,Z,S=D.length,z=0;for(N=0;N<S;N++)(64512&(v=D.charCodeAt(N)))==55296&&N+1<S&&(64512&(H=D.charCodeAt(N+1)))==56320&&(v=65536+(v-55296<<10)+(H-56320),N++),z+=v<128?1:v<2048?2:v<65536?3:4;for(W=new o.Buf8(z),N=Z=0;Z<z;N++)(64512&(v=D.charCodeAt(N)))==55296&&N+1<S&&(64512&(H=D.charCodeAt(N+1)))==56320&&(v=65536+(v-55296<<10)+(H-56320),N++),v<128?W[Z++]=v:(v<2048?W[Z++]=192|v>>>6:(v<65536?W[Z++]=224|v>>>12:(W[Z++]=240|v>>>18,W[Z++]=128|v>>>12&63),W[Z++]=128|v>>>6&63),W[Z++]=128|63&v);return W},u.buf2binstring=function(D){return U(D,D.length)},u.binstring2buf=function(D){for(var W=new o.Buf8(D.length),v=0,H=W.length;v<H;v++)W[v]=D.charCodeAt(v);return W},u.buf2string=function(D,W){var v,H,N,Z,S=W||D.length,z=new Array(2*S);for(v=H=0;v<S;)if((N=D[v++])<128)z[H++]=N;else if(4<(Z=y[N]))z[H++]=65533,v+=Z-1;else{for(N&=Z===2?31:Z===3?15:7;1<Z&&v<S;)N=N<<6|63&D[v++],Z--;1<Z?z[H++]=65533:N<65536?z[H++]=N:(N-=65536,z[H++]=55296|N>>10&1023,z[H++]=56320|1023&N)}return U(z,H)},u.utf8border=function(D,W){var v;for((W=W||D.length)>D.length&&(W=D.length),v=W-1;0<=v&&(192&D[v])==128;)v--;return v<0||v===0?W:v+y[D[v]]>W?v:W}},{"./common":41}],43:[function(i,a,u){a.exports=function(o,h,g,y){for(var I=65535&o|0,U=o>>>16&65535|0,D=0;g!==0;){for(g-=D=2e3<g?2e3:g;U=U+(I=I+h[y++]|0)|0,--D;);I%=65521,U%=65521}return I|U<<16|0}},{}],44:[function(i,a,u){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,a,u){var o=function(){for(var h,g=[],y=0;y<256;y++){h=y;for(var I=0;I<8;I++)h=1&h?3988292384^h>>>1:h>>>1;g[y]=h}return g}();a.exports=function(h,g,y,I){var U=o,D=I+y;h^=-1;for(var W=I;W<D;W++)h=h>>>8^U[255&(h^g[W])];return-1^h}},{}],46:[function(i,a,u){var o,h=i("../utils/common"),g=i("./trees"),y=i("./adler32"),I=i("./crc32"),U=i("./messages"),D=0,W=4,v=0,H=-2,N=-1,Z=4,S=2,z=8,A=9,G=286,J=30,ie=19,le=2*G+1,me=15,pe=3,he=258,xe=he+pe+1,Q=42,de=113,O=1,be=2,ke=3,Te=4;function Me(M,Oe){return M.msg=U[Oe],Oe}function ge(M){return(M<<1)-(4<M?9:0)}function je(M){for(var Oe=M.length;0<=--Oe;)M[Oe]=0}function ve(M){var Oe=M.state,Ce=Oe.pending;Ce>M.avail_out&&(Ce=M.avail_out),Ce!==0&&(h.arraySet(M.output,Oe.pending_buf,Oe.pending_out,Ce,M.next_out),M.next_out+=Ce,Oe.pending_out+=Ce,M.total_out+=Ce,M.avail_out-=Ce,Oe.pending-=Ce,Oe.pending===0&&(Oe.pending_out=0))}function _e(M,Oe){g._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,Oe),M.block_start=M.strstart,ve(M.strm)}function Ke(M,Oe){M.pending_buf[M.pending++]=Oe}function Ve(M,Oe){M.pending_buf[M.pending++]=Oe>>>8&255,M.pending_buf[M.pending++]=255&Oe}function Fe(M,Oe){var Ce,te,X=M.max_chain_length,ce=M.strstart,Re=M.prev_length,Ne=M.nice_match,we=M.strstart>M.w_size-xe?M.strstart-(M.w_size-xe):0,Le=M.window,Ge=M.w_mask,Pe=M.prev,t=M.strstart+he,r=Le[ce+Re-1],s=Le[ce+Re];M.prev_length>=M.good_match&&(X>>=2),Ne>M.lookahead&&(Ne=M.lookahead);do if(Le[(Ce=Oe)+Re]===s&&Le[Ce+Re-1]===r&&Le[Ce]===Le[ce]&&Le[++Ce]===Le[ce+1]){ce+=2,Ce++;do;while(Le[++ce]===Le[++Ce]&&Le[++ce]===Le[++Ce]&&Le[++ce]===Le[++Ce]&&Le[++ce]===Le[++Ce]&&Le[++ce]===Le[++Ce]&&Le[++ce]===Le[++Ce]&&Le[++ce]===Le[++Ce]&&Le[++ce]===Le[++Ce]&&ce<t);if(te=he-(t-ce),ce=t-he,Re<te){if(M.match_start=Oe,Ne<=(Re=te))break;r=Le[ce+Re-1],s=Le[ce+Re]}}while((Oe=Pe[Oe&Ge])>we&&--X!=0);return Re<=M.lookahead?Re:M.lookahead}function ht(M){var Oe,Ce,te,X,ce,Re,Ne,we,Le,Ge,Pe=M.w_size;do{if(X=M.window_size-M.lookahead-M.strstart,M.strstart>=Pe+(Pe-xe)){for(h.arraySet(M.window,M.window,Pe,Pe,0),M.match_start-=Pe,M.strstart-=Pe,M.block_start-=Pe,Oe=Ce=M.hash_size;te=M.head[--Oe],M.head[Oe]=Pe<=te?te-Pe:0,--Ce;);for(Oe=Ce=Pe;te=M.prev[--Oe],M.prev[Oe]=Pe<=te?te-Pe:0,--Ce;);X+=Pe}if(M.strm.avail_in===0)break;if(Re=M.strm,Ne=M.window,we=M.strstart+M.lookahead,Le=X,Ge=void 0,Ge=Re.avail_in,Le<Ge&&(Ge=Le),Ce=Ge===0?0:(Re.avail_in-=Ge,h.arraySet(Ne,Re.input,Re.next_in,Ge,we),Re.state.wrap===1?Re.adler=y(Re.adler,Ne,Ge,we):Re.state.wrap===2&&(Re.adler=I(Re.adler,Ne,Ge,we)),Re.next_in+=Ge,Re.total_in+=Ge,Ge),M.lookahead+=Ce,M.lookahead+M.insert>=pe)for(ce=M.strstart-M.insert,M.ins_h=M.window[ce],M.ins_h=(M.ins_h<<M.hash_shift^M.window[ce+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[ce+pe-1])&M.hash_mask,M.prev[ce&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=ce,ce++,M.insert--,!(M.lookahead+M.insert<pe)););}while(M.lookahead<xe&&M.strm.avail_in!==0)}function yt(M,Oe){for(var Ce,te;;){if(M.lookahead<xe){if(ht(M),M.lookahead<xe&&Oe===D)return O;if(M.lookahead===0)break}if(Ce=0,M.lookahead>=pe&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+pe-1])&M.hash_mask,Ce=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),Ce!==0&&M.strstart-Ce<=M.w_size-xe&&(M.match_length=Fe(M,Ce)),M.match_length>=pe)if(te=g._tr_tally(M,M.strstart-M.match_start,M.match_length-pe),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=pe){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+pe-1])&M.hash_mask,Ce=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else te=g._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(te&&(_e(M,!1),M.strm.avail_out===0))return O}return M.insert=M.strstart<pe-1?M.strstart:pe-1,Oe===W?(_e(M,!0),M.strm.avail_out===0?ke:Te):M.last_lit&&(_e(M,!1),M.strm.avail_out===0)?O:be}function lt(M,Oe){for(var Ce,te,X;;){if(M.lookahead<xe){if(ht(M),M.lookahead<xe&&Oe===D)return O;if(M.lookahead===0)break}if(Ce=0,M.lookahead>=pe&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+pe-1])&M.hash_mask,Ce=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=pe-1,Ce!==0&&M.prev_length<M.max_lazy_match&&M.strstart-Ce<=M.w_size-xe&&(M.match_length=Fe(M,Ce),M.match_length<=5&&(M.strategy===1||M.match_length===pe&&4096<M.strstart-M.match_start)&&(M.match_length=pe-1)),M.prev_length>=pe&&M.match_length<=M.prev_length){for(X=M.strstart+M.lookahead-pe,te=g._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-pe),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=X&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+pe-1])&M.hash_mask,Ce=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=pe-1,M.strstart++,te&&(_e(M,!1),M.strm.avail_out===0))return O}else if(M.match_available){if((te=g._tr_tally(M,0,M.window[M.strstart-1]))&&_e(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return O}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(te=g._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<pe-1?M.strstart:pe-1,Oe===W?(_e(M,!0),M.strm.avail_out===0?ke:Te):M.last_lit&&(_e(M,!1),M.strm.avail_out===0)?O:be}function Xe(M,Oe,Ce,te,X){this.good_length=M,this.max_lazy=Oe,this.nice_length=Ce,this.max_chain=te,this.func=X}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*le),this.dyn_dtree=new h.Buf16(2*(2*J+1)),this.bl_tree=new h.Buf16(2*(2*ie+1)),je(this.dyn_ltree),je(this.dyn_dtree),je(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(me+1),this.heap=new h.Buf16(2*G+1),je(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*G+1),je(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function st(M){var Oe;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=S,(Oe=M.state).pending=0,Oe.pending_out=0,Oe.wrap<0&&(Oe.wrap=-Oe.wrap),Oe.status=Oe.wrap?Q:de,M.adler=Oe.wrap===2?0:1,Oe.last_flush=D,g._tr_init(Oe),v):Me(M,H)}function vn(M){var Oe=st(M);return Oe===v&&function(Ce){Ce.window_size=2*Ce.w_size,je(Ce.head),Ce.max_lazy_match=o[Ce.level].max_lazy,Ce.good_match=o[Ce.level].good_length,Ce.nice_match=o[Ce.level].nice_length,Ce.max_chain_length=o[Ce.level].max_chain,Ce.strstart=0,Ce.block_start=0,Ce.lookahead=0,Ce.insert=0,Ce.match_length=Ce.prev_length=pe-1,Ce.match_available=0,Ce.ins_h=0}(M.state),Oe}function Gt(M,Oe,Ce,te,X,ce){if(!M)return H;var Re=1;if(Oe===N&&(Oe=6),te<0?(Re=0,te=-te):15<te&&(Re=2,te-=16),X<1||A<X||Ce!==z||te<8||15<te||Oe<0||9<Oe||ce<0||Z<ce)return Me(M,H);te===8&&(te=9);var Ne=new ut;return(M.state=Ne).strm=M,Ne.wrap=Re,Ne.gzhead=null,Ne.w_bits=te,Ne.w_size=1<<Ne.w_bits,Ne.w_mask=Ne.w_size-1,Ne.hash_bits=X+7,Ne.hash_size=1<<Ne.hash_bits,Ne.hash_mask=Ne.hash_size-1,Ne.hash_shift=~~((Ne.hash_bits+pe-1)/pe),Ne.window=new h.Buf8(2*Ne.w_size),Ne.head=new h.Buf16(Ne.hash_size),Ne.prev=new h.Buf16(Ne.w_size),Ne.lit_bufsize=1<<X+6,Ne.pending_buf_size=4*Ne.lit_bufsize,Ne.pending_buf=new h.Buf8(Ne.pending_buf_size),Ne.d_buf=1*Ne.lit_bufsize,Ne.l_buf=3*Ne.lit_bufsize,Ne.level=Oe,Ne.strategy=ce,Ne.method=Ce,vn(M)}o=[new Xe(0,0,0,0,function(M,Oe){var Ce=65535;for(Ce>M.pending_buf_size-5&&(Ce=M.pending_buf_size-5);;){if(M.lookahead<=1){if(ht(M),M.lookahead===0&&Oe===D)return O;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var te=M.block_start+Ce;if((M.strstart===0||M.strstart>=te)&&(M.lookahead=M.strstart-te,M.strstart=te,_e(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-xe&&(_e(M,!1),M.strm.avail_out===0))return O}return M.insert=0,Oe===W?(_e(M,!0),M.strm.avail_out===0?ke:Te):(M.strstart>M.block_start&&(_e(M,!1),M.strm.avail_out),O)}),new Xe(4,4,8,4,yt),new Xe(4,5,16,8,yt),new Xe(4,6,32,32,yt),new Xe(4,4,16,16,lt),new Xe(8,16,32,32,lt),new Xe(8,16,128,128,lt),new Xe(8,32,128,256,lt),new Xe(32,128,258,1024,lt),new Xe(32,258,258,4096,lt)],u.deflateInit=function(M,Oe){return Gt(M,Oe,z,15,8,0)},u.deflateInit2=Gt,u.deflateReset=vn,u.deflateResetKeep=st,u.deflateSetHeader=function(M,Oe){return M&&M.state?M.state.wrap!==2?H:(M.state.gzhead=Oe,v):H},u.deflate=function(M,Oe){var Ce,te,X,ce;if(!M||!M.state||5<Oe||Oe<0)return M?Me(M,H):H;if(te=M.state,!M.output||!M.input&&M.avail_in!==0||te.status===666&&Oe!==W)return Me(M,M.avail_out===0?-5:H);if(te.strm=M,Ce=te.last_flush,te.last_flush=Oe,te.status===Q)if(te.wrap===2)M.adler=0,Ke(te,31),Ke(te,139),Ke(te,8),te.gzhead?(Ke(te,(te.gzhead.text?1:0)+(te.gzhead.hcrc?2:0)+(te.gzhead.extra?4:0)+(te.gzhead.name?8:0)+(te.gzhead.comment?16:0)),Ke(te,255&te.gzhead.time),Ke(te,te.gzhead.time>>8&255),Ke(te,te.gzhead.time>>16&255),Ke(te,te.gzhead.time>>24&255),Ke(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),Ke(te,255&te.gzhead.os),te.gzhead.extra&&te.gzhead.extra.length&&(Ke(te,255&te.gzhead.extra.length),Ke(te,te.gzhead.extra.length>>8&255)),te.gzhead.hcrc&&(M.adler=I(M.adler,te.pending_buf,te.pending,0)),te.gzindex=0,te.status=69):(Ke(te,0),Ke(te,0),Ke(te,0),Ke(te,0),Ke(te,0),Ke(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),Ke(te,3),te.status=de);else{var Re=z+(te.w_bits-8<<4)<<8;Re|=(2<=te.strategy||te.level<2?0:te.level<6?1:te.level===6?2:3)<<6,te.strstart!==0&&(Re|=32),Re+=31-Re%31,te.status=de,Ve(te,Re),te.strstart!==0&&(Ve(te,M.adler>>>16),Ve(te,65535&M.adler)),M.adler=1}if(te.status===69)if(te.gzhead.extra){for(X=te.pending;te.gzindex<(65535&te.gzhead.extra.length)&&(te.pending!==te.pending_buf_size||(te.gzhead.hcrc&&te.pending>X&&(M.adler=I(M.adler,te.pending_buf,te.pending-X,X)),ve(M),X=te.pending,te.pending!==te.pending_buf_size));)Ke(te,255&te.gzhead.extra[te.gzindex]),te.gzindex++;te.gzhead.hcrc&&te.pending>X&&(M.adler=I(M.adler,te.pending_buf,te.pending-X,X)),te.gzindex===te.gzhead.extra.length&&(te.gzindex=0,te.status=73)}else te.status=73;if(te.status===73)if(te.gzhead.name){X=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>X&&(M.adler=I(M.adler,te.pending_buf,te.pending-X,X)),ve(M),X=te.pending,te.pending===te.pending_buf_size)){ce=1;break}ce=te.gzindex<te.gzhead.name.length?255&te.gzhead.name.charCodeAt(te.gzindex++):0,Ke(te,ce)}while(ce!==0);te.gzhead.hcrc&&te.pending>X&&(M.adler=I(M.adler,te.pending_buf,te.pending-X,X)),ce===0&&(te.gzindex=0,te.status=91)}else te.status=91;if(te.status===91)if(te.gzhead.comment){X=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>X&&(M.adler=I(M.adler,te.pending_buf,te.pending-X,X)),ve(M),X=te.pending,te.pending===te.pending_buf_size)){ce=1;break}ce=te.gzindex<te.gzhead.comment.length?255&te.gzhead.comment.charCodeAt(te.gzindex++):0,Ke(te,ce)}while(ce!==0);te.gzhead.hcrc&&te.pending>X&&(M.adler=I(M.adler,te.pending_buf,te.pending-X,X)),ce===0&&(te.status=103)}else te.status=103;if(te.status===103&&(te.gzhead.hcrc?(te.pending+2>te.pending_buf_size&&ve(M),te.pending+2<=te.pending_buf_size&&(Ke(te,255&M.adler),Ke(te,M.adler>>8&255),M.adler=0,te.status=de)):te.status=de),te.pending!==0){if(ve(M),M.avail_out===0)return te.last_flush=-1,v}else if(M.avail_in===0&&ge(Oe)<=ge(Ce)&&Oe!==W)return Me(M,-5);if(te.status===666&&M.avail_in!==0)return Me(M,-5);if(M.avail_in!==0||te.lookahead!==0||Oe!==D&&te.status!==666){var Ne=te.strategy===2?function(we,Le){for(var Ge;;){if(we.lookahead===0&&(ht(we),we.lookahead===0)){if(Le===D)return O;break}if(we.match_length=0,Ge=g._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++,Ge&&(_e(we,!1),we.strm.avail_out===0))return O}return we.insert=0,Le===W?(_e(we,!0),we.strm.avail_out===0?ke:Te):we.last_lit&&(_e(we,!1),we.strm.avail_out===0)?O:be}(te,Oe):te.strategy===3?function(we,Le){for(var Ge,Pe,t,r,s=we.window;;){if(we.lookahead<=he){if(ht(we),we.lookahead<=he&&Le===D)return O;if(we.lookahead===0)break}if(we.match_length=0,we.lookahead>=pe&&0<we.strstart&&(Pe=s[t=we.strstart-1])===s[++t]&&Pe===s[++t]&&Pe===s[++t]){r=we.strstart+he;do;while(Pe===s[++t]&&Pe===s[++t]&&Pe===s[++t]&&Pe===s[++t]&&Pe===s[++t]&&Pe===s[++t]&&Pe===s[++t]&&Pe===s[++t]&&t<r);we.match_length=he-(r-t),we.match_length>we.lookahead&&(we.match_length=we.lookahead)}if(we.match_length>=pe?(Ge=g._tr_tally(we,1,we.match_length-pe),we.lookahead-=we.match_length,we.strstart+=we.match_length,we.match_length=0):(Ge=g._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++),Ge&&(_e(we,!1),we.strm.avail_out===0))return O}return we.insert=0,Le===W?(_e(we,!0),we.strm.avail_out===0?ke:Te):we.last_lit&&(_e(we,!1),we.strm.avail_out===0)?O:be}(te,Oe):o[te.level].func(te,Oe);if(Ne!==ke&&Ne!==Te||(te.status=666),Ne===O||Ne===ke)return M.avail_out===0&&(te.last_flush=-1),v;if(Ne===be&&(Oe===1?g._tr_align(te):Oe!==5&&(g._tr_stored_block(te,0,0,!1),Oe===3&&(je(te.head),te.lookahead===0&&(te.strstart=0,te.block_start=0,te.insert=0))),ve(M),M.avail_out===0))return te.last_flush=-1,v}return Oe!==W?v:te.wrap<=0?1:(te.wrap===2?(Ke(te,255&M.adler),Ke(te,M.adler>>8&255),Ke(te,M.adler>>16&255),Ke(te,M.adler>>24&255),Ke(te,255&M.total_in),Ke(te,M.total_in>>8&255),Ke(te,M.total_in>>16&255),Ke(te,M.total_in>>24&255)):(Ve(te,M.adler>>>16),Ve(te,65535&M.adler)),ve(M),0<te.wrap&&(te.wrap=-te.wrap),te.pending!==0?v:1)},u.deflateEnd=function(M){var Oe;return M&&M.state?(Oe=M.state.status)!==Q&&Oe!==69&&Oe!==73&&Oe!==91&&Oe!==103&&Oe!==de&&Oe!==666?Me(M,H):(M.state=null,Oe===de?Me(M,-3):v):H},u.deflateSetDictionary=function(M,Oe){var Ce,te,X,ce,Re,Ne,we,Le,Ge=Oe.length;if(!M||!M.state||(ce=(Ce=M.state).wrap)===2||ce===1&&Ce.status!==Q||Ce.lookahead)return H;for(ce===1&&(M.adler=y(M.adler,Oe,Ge,0)),Ce.wrap=0,Ge>=Ce.w_size&&(ce===0&&(je(Ce.head),Ce.strstart=0,Ce.block_start=0,Ce.insert=0),Le=new h.Buf8(Ce.w_size),h.arraySet(Le,Oe,Ge-Ce.w_size,Ce.w_size,0),Oe=Le,Ge=Ce.w_size),Re=M.avail_in,Ne=M.next_in,we=M.input,M.avail_in=Ge,M.next_in=0,M.input=Oe,ht(Ce);Ce.lookahead>=pe;){for(te=Ce.strstart,X=Ce.lookahead-(pe-1);Ce.ins_h=(Ce.ins_h<<Ce.hash_shift^Ce.window[te+pe-1])&Ce.hash_mask,Ce.prev[te&Ce.w_mask]=Ce.head[Ce.ins_h],Ce.head[Ce.ins_h]=te,te++,--X;);Ce.strstart=te,Ce.lookahead=pe-1,ht(Ce)}return Ce.strstart+=Ce.lookahead,Ce.block_start=Ce.strstart,Ce.insert=Ce.lookahead,Ce.lookahead=0,Ce.match_length=Ce.prev_length=pe-1,Ce.match_available=0,M.next_in=Ne,M.input=we,M.avail_in=Re,Ce.wrap=ce,v},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,a,u){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,a,u){a.exports=function(o,h){var g,y,I,U,D,W,v,H,N,Z,S,z,A,G,J,ie,le,me,pe,he,xe,Q,de,O,be;g=o.state,y=o.next_in,O=o.input,I=y+(o.avail_in-5),U=o.next_out,be=o.output,D=U-(h-o.avail_out),W=U+(o.avail_out-257),v=g.dmax,H=g.wsize,N=g.whave,Z=g.wnext,S=g.window,z=g.hold,A=g.bits,G=g.lencode,J=g.distcode,ie=(1<<g.lenbits)-1,le=(1<<g.distbits)-1;e:do{A<15&&(z+=O[y++]<<A,A+=8,z+=O[y++]<<A,A+=8),me=G[z&ie];t:for(;;){if(z>>>=pe=me>>>24,A-=pe,(pe=me>>>16&255)===0)be[U++]=65535&me;else{if(!(16&pe)){if(!(64&pe)){me=G[(65535&me)+(z&(1<<pe)-1)];continue t}if(32&pe){g.mode=12;break e}o.msg="invalid literal/length code",g.mode=30;break e}he=65535&me,(pe&=15)&&(A<pe&&(z+=O[y++]<<A,A+=8),he+=z&(1<<pe)-1,z>>>=pe,A-=pe),A<15&&(z+=O[y++]<<A,A+=8,z+=O[y++]<<A,A+=8),me=J[z&le];n:for(;;){if(z>>>=pe=me>>>24,A-=pe,!(16&(pe=me>>>16&255))){if(!(64&pe)){me=J[(65535&me)+(z&(1<<pe)-1)];continue n}o.msg="invalid distance code",g.mode=30;break e}if(xe=65535&me,A<(pe&=15)&&(z+=O[y++]<<A,(A+=8)<pe&&(z+=O[y++]<<A,A+=8)),v<(xe+=z&(1<<pe)-1)){o.msg="invalid distance too far back",g.mode=30;break e}if(z>>>=pe,A-=pe,(pe=U-D)<xe){if(N<(pe=xe-pe)&&g.sane){o.msg="invalid distance too far back",g.mode=30;break e}if(de=S,(Q=0)===Z){if(Q+=H-pe,pe<he){for(he-=pe;be[U++]=S[Q++],--pe;);Q=U-xe,de=be}}else if(Z<pe){if(Q+=H+Z-pe,(pe-=Z)<he){for(he-=pe;be[U++]=S[Q++],--pe;);if(Q=0,Z<he){for(he-=pe=Z;be[U++]=S[Q++],--pe;);Q=U-xe,de=be}}}else if(Q+=Z-pe,pe<he){for(he-=pe;be[U++]=S[Q++],--pe;);Q=U-xe,de=be}for(;2<he;)be[U++]=de[Q++],be[U++]=de[Q++],be[U++]=de[Q++],he-=3;he&&(be[U++]=de[Q++],1<he&&(be[U++]=de[Q++]))}else{for(Q=U-xe;be[U++]=be[Q++],be[U++]=be[Q++],be[U++]=be[Q++],2<(he-=3););he&&(be[U++]=be[Q++],1<he&&(be[U++]=be[Q++]))}break}}break}}while(y<I&&U<W);y-=he=A>>3,z&=(1<<(A-=he<<3))-1,o.next_in=y,o.next_out=U,o.avail_in=y<I?I-y+5:5-(y-I),o.avail_out=U<W?W-U+257:257-(U-W),g.hold=z,g.bits=A}},{}],49:[function(i,a,u){var o=i("../utils/common"),h=i("./adler32"),g=i("./crc32"),y=i("./inffast"),I=i("./inftrees"),U=1,D=2,W=0,v=-2,H=1,N=852,Z=592;function S(Q){return(Q>>>24&255)+(Q>>>8&65280)+((65280&Q)<<8)+((255&Q)<<24)}function z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(Q){var de;return Q&&Q.state?(de=Q.state,Q.total_in=Q.total_out=de.total=0,Q.msg="",de.wrap&&(Q.adler=1&de.wrap),de.mode=H,de.last=0,de.havedict=0,de.dmax=32768,de.head=null,de.hold=0,de.bits=0,de.lencode=de.lendyn=new o.Buf32(N),de.distcode=de.distdyn=new o.Buf32(Z),de.sane=1,de.back=-1,W):v}function G(Q){var de;return Q&&Q.state?((de=Q.state).wsize=0,de.whave=0,de.wnext=0,A(Q)):v}function J(Q,de){var O,be;return Q&&Q.state?(be=Q.state,de<0?(O=0,de=-de):(O=1+(de>>4),de<48&&(de&=15)),de&&(de<8||15<de)?v:(be.window!==null&&be.wbits!==de&&(be.window=null),be.wrap=O,be.wbits=de,G(Q))):v}function ie(Q,de){var O,be;return Q?(be=new z,(Q.state=be).window=null,(O=J(Q,de))!==W&&(Q.state=null),O):v}var le,me,pe=!0;function he(Q){if(pe){var de;for(le=new o.Buf32(512),me=new o.Buf32(32),de=0;de<144;)Q.lens[de++]=8;for(;de<256;)Q.lens[de++]=9;for(;de<280;)Q.lens[de++]=7;for(;de<288;)Q.lens[de++]=8;for(I(U,Q.lens,0,288,le,0,Q.work,{bits:9}),de=0;de<32;)Q.lens[de++]=5;I(D,Q.lens,0,32,me,0,Q.work,{bits:5}),pe=!1}Q.lencode=le,Q.lenbits=9,Q.distcode=me,Q.distbits=5}function xe(Q,de,O,be){var ke,Te=Q.state;return Te.window===null&&(Te.wsize=1<<Te.wbits,Te.wnext=0,Te.whave=0,Te.window=new o.Buf8(Te.wsize)),be>=Te.wsize?(o.arraySet(Te.window,de,O-Te.wsize,Te.wsize,0),Te.wnext=0,Te.whave=Te.wsize):(be<(ke=Te.wsize-Te.wnext)&&(ke=be),o.arraySet(Te.window,de,O-be,ke,Te.wnext),(be-=ke)?(o.arraySet(Te.window,de,O-be,be,0),Te.wnext=be,Te.whave=Te.wsize):(Te.wnext+=ke,Te.wnext===Te.wsize&&(Te.wnext=0),Te.whave<Te.wsize&&(Te.whave+=ke))),0}u.inflateReset=G,u.inflateReset2=J,u.inflateResetKeep=A,u.inflateInit=function(Q){return ie(Q,15)},u.inflateInit2=ie,u.inflate=function(Q,de){var O,be,ke,Te,Me,ge,je,ve,_e,Ke,Ve,Fe,ht,yt,lt,Xe,ut,st,vn,Gt,M,Oe,Ce,te,X=0,ce=new o.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Q||!Q.state||!Q.output||!Q.input&&Q.avail_in!==0)return v;(O=Q.state).mode===12&&(O.mode=13),Me=Q.next_out,ke=Q.output,je=Q.avail_out,Te=Q.next_in,be=Q.input,ge=Q.avail_in,ve=O.hold,_e=O.bits,Ke=ge,Ve=je,Oe=W;e:for(;;)switch(O.mode){case H:if(O.wrap===0){O.mode=13;break}for(;_e<16;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}if(2&O.wrap&&ve===35615){ce[O.check=0]=255&ve,ce[1]=ve>>>8&255,O.check=g(O.check,ce,2,0),_e=ve=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&ve)<<8)+(ve>>8))%31){Q.msg="incorrect header check",O.mode=30;break}if((15&ve)!=8){Q.msg="unknown compression method",O.mode=30;break}if(_e-=4,M=8+(15&(ve>>>=4)),O.wbits===0)O.wbits=M;else if(M>O.wbits){Q.msg="invalid window size",O.mode=30;break}O.dmax=1<<M,Q.adler=O.check=1,O.mode=512&ve?10:12,_e=ve=0;break;case 2:for(;_e<16;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}if(O.flags=ve,(255&O.flags)!=8){Q.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){Q.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=ve>>8&1),512&O.flags&&(ce[0]=255&ve,ce[1]=ve>>>8&255,O.check=g(O.check,ce,2,0)),_e=ve=0,O.mode=3;case 3:for(;_e<32;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}O.head&&(O.head.time=ve),512&O.flags&&(ce[0]=255&ve,ce[1]=ve>>>8&255,ce[2]=ve>>>16&255,ce[3]=ve>>>24&255,O.check=g(O.check,ce,4,0)),_e=ve=0,O.mode=4;case 4:for(;_e<16;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}O.head&&(O.head.xflags=255&ve,O.head.os=ve>>8),512&O.flags&&(ce[0]=255&ve,ce[1]=ve>>>8&255,O.check=g(O.check,ce,2,0)),_e=ve=0,O.mode=5;case 5:if(1024&O.flags){for(;_e<16;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}O.length=ve,O.head&&(O.head.extra_len=ve),512&O.flags&&(ce[0]=255&ve,ce[1]=ve>>>8&255,O.check=g(O.check,ce,2,0)),_e=ve=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(ge<(Fe=O.length)&&(Fe=ge),Fe&&(O.head&&(M=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),o.arraySet(O.head.extra,be,Te,Fe,M)),512&O.flags&&(O.check=g(O.check,be,Fe,Te)),ge-=Fe,Te+=Fe,O.length-=Fe),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(ge===0)break e;for(Fe=0;M=be[Te+Fe++],O.head&&M&&O.length<65536&&(O.head.name+=String.fromCharCode(M)),M&&Fe<ge;);if(512&O.flags&&(O.check=g(O.check,be,Fe,Te)),ge-=Fe,Te+=Fe,M)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(ge===0)break e;for(Fe=0;M=be[Te+Fe++],O.head&&M&&O.length<65536&&(O.head.comment+=String.fromCharCode(M)),M&&Fe<ge;);if(512&O.flags&&(O.check=g(O.check,be,Fe,Te)),ge-=Fe,Te+=Fe,M)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;_e<16;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}if(ve!==(65535&O.check)){Q.msg="header crc mismatch",O.mode=30;break}_e=ve=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),Q.adler=O.check=0,O.mode=12;break;case 10:for(;_e<32;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}Q.adler=O.check=S(ve),_e=ve=0,O.mode=11;case 11:if(O.havedict===0)return Q.next_out=Me,Q.avail_out=je,Q.next_in=Te,Q.avail_in=ge,O.hold=ve,O.bits=_e,2;Q.adler=O.check=1,O.mode=12;case 12:if(de===5||de===6)break e;case 13:if(O.last){ve>>>=7&_e,_e-=7&_e,O.mode=27;break}for(;_e<3;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}switch(O.last=1&ve,_e-=1,3&(ve>>>=1)){case 0:O.mode=14;break;case 1:if(he(O),O.mode=20,de!==6)break;ve>>>=2,_e-=2;break e;case 2:O.mode=17;break;case 3:Q.msg="invalid block type",O.mode=30}ve>>>=2,_e-=2;break;case 14:for(ve>>>=7&_e,_e-=7&_e;_e<32;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}if((65535&ve)!=(ve>>>16^65535)){Q.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&ve,_e=ve=0,O.mode=15,de===6)break e;case 15:O.mode=16;case 16:if(Fe=O.length){if(ge<Fe&&(Fe=ge),je<Fe&&(Fe=je),Fe===0)break e;o.arraySet(ke,be,Te,Fe,Me),ge-=Fe,Te+=Fe,je-=Fe,Me+=Fe,O.length-=Fe;break}O.mode=12;break;case 17:for(;_e<14;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}if(O.nlen=257+(31&ve),ve>>>=5,_e-=5,O.ndist=1+(31&ve),ve>>>=5,_e-=5,O.ncode=4+(15&ve),ve>>>=4,_e-=4,286<O.nlen||30<O.ndist){Q.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;_e<3;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}O.lens[Re[O.have++]]=7&ve,ve>>>=3,_e-=3}for(;O.have<19;)O.lens[Re[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,Ce={bits:O.lenbits},Oe=I(0,O.lens,0,19,O.lencode,0,O.work,Ce),O.lenbits=Ce.bits,Oe){Q.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;Xe=(X=O.lencode[ve&(1<<O.lenbits)-1])>>>16&255,ut=65535&X,!((lt=X>>>24)<=_e);){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}if(ut<16)ve>>>=lt,_e-=lt,O.lens[O.have++]=ut;else{if(ut===16){for(te=lt+2;_e<te;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}if(ve>>>=lt,_e-=lt,O.have===0){Q.msg="invalid bit length repeat",O.mode=30;break}M=O.lens[O.have-1],Fe=3+(3&ve),ve>>>=2,_e-=2}else if(ut===17){for(te=lt+3;_e<te;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}_e-=lt,M=0,Fe=3+(7&(ve>>>=lt)),ve>>>=3,_e-=3}else{for(te=lt+7;_e<te;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}_e-=lt,M=0,Fe=11+(127&(ve>>>=lt)),ve>>>=7,_e-=7}if(O.have+Fe>O.nlen+O.ndist){Q.msg="invalid bit length repeat",O.mode=30;break}for(;Fe--;)O.lens[O.have++]=M}}if(O.mode===30)break;if(O.lens[256]===0){Q.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,Ce={bits:O.lenbits},Oe=I(U,O.lens,0,O.nlen,O.lencode,0,O.work,Ce),O.lenbits=Ce.bits,Oe){Q.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,Ce={bits:O.distbits},Oe=I(D,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,Ce),O.distbits=Ce.bits,Oe){Q.msg="invalid distances set",O.mode=30;break}if(O.mode=20,de===6)break e;case 20:O.mode=21;case 21:if(6<=ge&&258<=je){Q.next_out=Me,Q.avail_out=je,Q.next_in=Te,Q.avail_in=ge,O.hold=ve,O.bits=_e,y(Q,Ve),Me=Q.next_out,ke=Q.output,je=Q.avail_out,Te=Q.next_in,be=Q.input,ge=Q.avail_in,ve=O.hold,_e=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;Xe=(X=O.lencode[ve&(1<<O.lenbits)-1])>>>16&255,ut=65535&X,!((lt=X>>>24)<=_e);){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}if(Xe&&!(240&Xe)){for(st=lt,vn=Xe,Gt=ut;Xe=(X=O.lencode[Gt+((ve&(1<<st+vn)-1)>>st)])>>>16&255,ut=65535&X,!(st+(lt=X>>>24)<=_e);){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}ve>>>=st,_e-=st,O.back+=st}if(ve>>>=lt,_e-=lt,O.back+=lt,O.length=ut,Xe===0){O.mode=26;break}if(32&Xe){O.back=-1,O.mode=12;break}if(64&Xe){Q.msg="invalid literal/length code",O.mode=30;break}O.extra=15&Xe,O.mode=22;case 22:if(O.extra){for(te=O.extra;_e<te;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}O.length+=ve&(1<<O.extra)-1,ve>>>=O.extra,_e-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;Xe=(X=O.distcode[ve&(1<<O.distbits)-1])>>>16&255,ut=65535&X,!((lt=X>>>24)<=_e);){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}if(!(240&Xe)){for(st=lt,vn=Xe,Gt=ut;Xe=(X=O.distcode[Gt+((ve&(1<<st+vn)-1)>>st)])>>>16&255,ut=65535&X,!(st+(lt=X>>>24)<=_e);){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}ve>>>=st,_e-=st,O.back+=st}if(ve>>>=lt,_e-=lt,O.back+=lt,64&Xe){Q.msg="invalid distance code",O.mode=30;break}O.offset=ut,O.extra=15&Xe,O.mode=24;case 24:if(O.extra){for(te=O.extra;_e<te;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}O.offset+=ve&(1<<O.extra)-1,ve>>>=O.extra,_e-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){Q.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(je===0)break e;if(Fe=Ve-je,O.offset>Fe){if((Fe=O.offset-Fe)>O.whave&&O.sane){Q.msg="invalid distance too far back",O.mode=30;break}ht=Fe>O.wnext?(Fe-=O.wnext,O.wsize-Fe):O.wnext-Fe,Fe>O.length&&(Fe=O.length),yt=O.window}else yt=ke,ht=Me-O.offset,Fe=O.length;for(je<Fe&&(Fe=je),je-=Fe,O.length-=Fe;ke[Me++]=yt[ht++],--Fe;);O.length===0&&(O.mode=21);break;case 26:if(je===0)break e;ke[Me++]=O.length,je--,O.mode=21;break;case 27:if(O.wrap){for(;_e<32;){if(ge===0)break e;ge--,ve|=be[Te++]<<_e,_e+=8}if(Ve-=je,Q.total_out+=Ve,O.total+=Ve,Ve&&(Q.adler=O.check=O.flags?g(O.check,ke,Ve,Me-Ve):h(O.check,ke,Ve,Me-Ve)),Ve=je,(O.flags?ve:S(ve))!==O.check){Q.msg="incorrect data check",O.mode=30;break}_e=ve=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;_e<32;){if(ge===0)break e;ge--,ve+=be[Te++]<<_e,_e+=8}if(ve!==(4294967295&O.total)){Q.msg="incorrect length check",O.mode=30;break}_e=ve=0}O.mode=29;case 29:Oe=1;break e;case 30:Oe=-3;break e;case 31:return-4;case 32:default:return v}return Q.next_out=Me,Q.avail_out=je,Q.next_in=Te,Q.avail_in=ge,O.hold=ve,O.bits=_e,(O.wsize||Ve!==Q.avail_out&&O.mode<30&&(O.mode<27||de!==4))&&xe(Q,Q.output,Q.next_out,Ve-Q.avail_out)?(O.mode=31,-4):(Ke-=Q.avail_in,Ve-=Q.avail_out,Q.total_in+=Ke,Q.total_out+=Ve,O.total+=Ve,O.wrap&&Ve&&(Q.adler=O.check=O.flags?g(O.check,ke,Ve,Q.next_out-Ve):h(O.check,ke,Ve,Q.next_out-Ve)),Q.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(Ke==0&&Ve===0||de===4)&&Oe===W&&(Oe=-5),Oe)},u.inflateEnd=function(Q){if(!Q||!Q.state)return v;var de=Q.state;return de.window&&(de.window=null),Q.state=null,W},u.inflateGetHeader=function(Q,de){var O;return Q&&Q.state&&2&(O=Q.state).wrap?((O.head=de).done=!1,W):v},u.inflateSetDictionary=function(Q,de){var O,be=de.length;return Q&&Q.state?(O=Q.state).wrap!==0&&O.mode!==11?v:O.mode===11&&h(1,de,be,0)!==O.check?-3:xe(Q,de,be,be)?(O.mode=31,-4):(O.havedict=1,W):v},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,a,u){var o=i("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],I=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(U,D,W,v,H,N,Z,S){var z,A,G,J,ie,le,me,pe,he,xe=S.bits,Q=0,de=0,O=0,be=0,ke=0,Te=0,Me=0,ge=0,je=0,ve=0,_e=null,Ke=0,Ve=new o.Buf16(16),Fe=new o.Buf16(16),ht=null,yt=0;for(Q=0;Q<=15;Q++)Ve[Q]=0;for(de=0;de<v;de++)Ve[D[W+de]]++;for(ke=xe,be=15;1<=be&&Ve[be]===0;be--);if(be<ke&&(ke=be),be===0)return H[N++]=20971520,H[N++]=20971520,S.bits=1,0;for(O=1;O<be&&Ve[O]===0;O++);for(ke<O&&(ke=O),Q=ge=1;Q<=15;Q++)if(ge<<=1,(ge-=Ve[Q])<0)return-1;if(0<ge&&(U===0||be!==1))return-1;for(Fe[1]=0,Q=1;Q<15;Q++)Fe[Q+1]=Fe[Q]+Ve[Q];for(de=0;de<v;de++)D[W+de]!==0&&(Z[Fe[D[W+de]]++]=de);if(le=U===0?(_e=ht=Z,19):U===1?(_e=h,Ke-=257,ht=g,yt-=257,256):(_e=y,ht=I,-1),Q=O,ie=N,Me=de=ve=0,G=-1,J=(je=1<<(Te=ke))-1,U===1&&852<je||U===2&&592<je)return 1;for(;;){for(me=Q-Me,he=Z[de]<le?(pe=0,Z[de]):Z[de]>le?(pe=ht[yt+Z[de]],_e[Ke+Z[de]]):(pe=96,0),z=1<<Q-Me,O=A=1<<Te;H[ie+(ve>>Me)+(A-=z)]=me<<24|pe<<16|he|0,A!==0;);for(z=1<<Q-1;ve&z;)z>>=1;if(z!==0?(ve&=z-1,ve+=z):ve=0,de++,--Ve[Q]==0){if(Q===be)break;Q=D[W+Z[de]]}if(ke<Q&&(ve&J)!==G){for(Me===0&&(Me=ke),ie+=O,ge=1<<(Te=Q-Me);Te+Me<be&&!((ge-=Ve[Te+Me])<=0);)Te++,ge<<=1;if(je+=1<<Te,U===1&&852<je||U===2&&592<je)return 1;H[G=ve&J]=ke<<24|Te<<16|ie-N|0}}return ve!==0&&(H[ie+ve]=Q-Me<<24|64<<16|0),S.bits=ke,0}},{"../utils/common":41}],51:[function(i,a,u){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,a,u){var o=i("../utils/common"),h=0,g=1;function y(X){for(var ce=X.length;0<=--ce;)X[ce]=0}var I=0,U=29,D=256,W=D+1+U,v=30,H=19,N=2*W+1,Z=15,S=16,z=7,A=256,G=16,J=17,ie=18,le=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],me=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xe=new Array(2*(W+2));y(xe);var Q=new Array(2*v);y(Q);var de=new Array(512);y(de);var O=new Array(256);y(O);var be=new Array(U);y(be);var ke,Te,Me,ge=new Array(v);function je(X,ce,Re,Ne,we){this.static_tree=X,this.extra_bits=ce,this.extra_base=Re,this.elems=Ne,this.max_length=we,this.has_stree=X&&X.length}function ve(X,ce){this.dyn_tree=X,this.max_code=0,this.stat_desc=ce}function _e(X){return X<256?de[X]:de[256+(X>>>7)]}function Ke(X,ce){X.pending_buf[X.pending++]=255&ce,X.pending_buf[X.pending++]=ce>>>8&255}function Ve(X,ce,Re){X.bi_valid>S-Re?(X.bi_buf|=ce<<X.bi_valid&65535,Ke(X,X.bi_buf),X.bi_buf=ce>>S-X.bi_valid,X.bi_valid+=Re-S):(X.bi_buf|=ce<<X.bi_valid&65535,X.bi_valid+=Re)}function Fe(X,ce,Re){Ve(X,Re[2*ce],Re[2*ce+1])}function ht(X,ce){for(var Re=0;Re|=1&X,X>>>=1,Re<<=1,0<--ce;);return Re>>>1}function yt(X,ce,Re){var Ne,we,Le=new Array(Z+1),Ge=0;for(Ne=1;Ne<=Z;Ne++)Le[Ne]=Ge=Ge+Re[Ne-1]<<1;for(we=0;we<=ce;we++){var Pe=X[2*we+1];Pe!==0&&(X[2*we]=ht(Le[Pe]++,Pe))}}function lt(X){var ce;for(ce=0;ce<W;ce++)X.dyn_ltree[2*ce]=0;for(ce=0;ce<v;ce++)X.dyn_dtree[2*ce]=0;for(ce=0;ce<H;ce++)X.bl_tree[2*ce]=0;X.dyn_ltree[2*A]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function Xe(X){8<X.bi_valid?Ke(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function ut(X,ce,Re,Ne){var we=2*ce,Le=2*Re;return X[we]<X[Le]||X[we]===X[Le]&&Ne[ce]<=Ne[Re]}function st(X,ce,Re){for(var Ne=X.heap[Re],we=Re<<1;we<=X.heap_len&&(we<X.heap_len&&ut(ce,X.heap[we+1],X.heap[we],X.depth)&&we++,!ut(ce,Ne,X.heap[we],X.depth));)X.heap[Re]=X.heap[we],Re=we,we<<=1;X.heap[Re]=Ne}function vn(X,ce,Re){var Ne,we,Le,Ge,Pe=0;if(X.last_lit!==0)for(;Ne=X.pending_buf[X.d_buf+2*Pe]<<8|X.pending_buf[X.d_buf+2*Pe+1],we=X.pending_buf[X.l_buf+Pe],Pe++,Ne===0?Fe(X,we,ce):(Fe(X,(Le=O[we])+D+1,ce),(Ge=le[Le])!==0&&Ve(X,we-=be[Le],Ge),Fe(X,Le=_e(--Ne),Re),(Ge=me[Le])!==0&&Ve(X,Ne-=ge[Le],Ge)),Pe<X.last_lit;);Fe(X,A,ce)}function Gt(X,ce){var Re,Ne,we,Le=ce.dyn_tree,Ge=ce.stat_desc.static_tree,Pe=ce.stat_desc.has_stree,t=ce.stat_desc.elems,r=-1;for(X.heap_len=0,X.heap_max=N,Re=0;Re<t;Re++)Le[2*Re]!==0?(X.heap[++X.heap_len]=r=Re,X.depth[Re]=0):Le[2*Re+1]=0;for(;X.heap_len<2;)Le[2*(we=X.heap[++X.heap_len]=r<2?++r:0)]=1,X.depth[we]=0,X.opt_len--,Pe&&(X.static_len-=Ge[2*we+1]);for(ce.max_code=r,Re=X.heap_len>>1;1<=Re;Re--)st(X,Le,Re);for(we=t;Re=X.heap[1],X.heap[1]=X.heap[X.heap_len--],st(X,Le,1),Ne=X.heap[1],X.heap[--X.heap_max]=Re,X.heap[--X.heap_max]=Ne,Le[2*we]=Le[2*Re]+Le[2*Ne],X.depth[we]=(X.depth[Re]>=X.depth[Ne]?X.depth[Re]:X.depth[Ne])+1,Le[2*Re+1]=Le[2*Ne+1]=we,X.heap[1]=we++,st(X,Le,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],function(s,l){var f,c,p,d,m,_,b=l.dyn_tree,E=l.max_code,k=l.stat_desc.static_tree,x=l.stat_desc.has_stree,j=l.stat_desc.extra_bits,P=l.stat_desc.extra_base,F=l.stat_desc.max_length,C=0;for(d=0;d<=Z;d++)s.bl_count[d]=0;for(b[2*s.heap[s.heap_max]+1]=0,f=s.heap_max+1;f<N;f++)F<(d=b[2*b[2*(c=s.heap[f])+1]+1]+1)&&(d=F,C++),b[2*c+1]=d,E<c||(s.bl_count[d]++,m=0,P<=c&&(m=j[c-P]),_=b[2*c],s.opt_len+=_*(d+m),x&&(s.static_len+=_*(k[2*c+1]+m)));if(C!==0){do{for(d=F-1;s.bl_count[d]===0;)d--;s.bl_count[d]--,s.bl_count[d+1]+=2,s.bl_count[F]--,C-=2}while(0<C);for(d=F;d!==0;d--)for(c=s.bl_count[d];c!==0;)E<(p=s.heap[--f])||(b[2*p+1]!==d&&(s.opt_len+=(d-b[2*p+1])*b[2*p],b[2*p+1]=d),c--)}}(X,ce),yt(Le,r,X.bl_count)}function M(X,ce,Re){var Ne,we,Le=-1,Ge=ce[1],Pe=0,t=7,r=4;for(Ge===0&&(t=138,r=3),ce[2*(Re+1)+1]=65535,Ne=0;Ne<=Re;Ne++)we=Ge,Ge=ce[2*(Ne+1)+1],++Pe<t&&we===Ge||(Pe<r?X.bl_tree[2*we]+=Pe:we!==0?(we!==Le&&X.bl_tree[2*we]++,X.bl_tree[2*G]++):Pe<=10?X.bl_tree[2*J]++:X.bl_tree[2*ie]++,Le=we,r=(Pe=0)===Ge?(t=138,3):we===Ge?(t=6,3):(t=7,4))}function Oe(X,ce,Re){var Ne,we,Le=-1,Ge=ce[1],Pe=0,t=7,r=4;for(Ge===0&&(t=138,r=3),Ne=0;Ne<=Re;Ne++)if(we=Ge,Ge=ce[2*(Ne+1)+1],!(++Pe<t&&we===Ge)){if(Pe<r)for(;Fe(X,we,X.bl_tree),--Pe!=0;);else we!==0?(we!==Le&&(Fe(X,we,X.bl_tree),Pe--),Fe(X,G,X.bl_tree),Ve(X,Pe-3,2)):Pe<=10?(Fe(X,J,X.bl_tree),Ve(X,Pe-3,3)):(Fe(X,ie,X.bl_tree),Ve(X,Pe-11,7));Le=we,r=(Pe=0)===Ge?(t=138,3):we===Ge?(t=6,3):(t=7,4)}}y(ge);var Ce=!1;function te(X,ce,Re,Ne){Ve(X,(I<<1)+(Ne?1:0),3),function(we,Le,Ge,Pe){Xe(we),Ke(we,Ge),Ke(we,~Ge),o.arraySet(we.pending_buf,we.window,Le,Ge,we.pending),we.pending+=Ge}(X,ce,Re)}u._tr_init=function(X){Ce||(function(){var ce,Re,Ne,we,Le,Ge=new Array(Z+1);for(we=Ne=0;we<U-1;we++)for(be[we]=Ne,ce=0;ce<1<<le[we];ce++)O[Ne++]=we;for(O[Ne-1]=we,we=Le=0;we<16;we++)for(ge[we]=Le,ce=0;ce<1<<me[we];ce++)de[Le++]=we;for(Le>>=7;we<v;we++)for(ge[we]=Le<<7,ce=0;ce<1<<me[we]-7;ce++)de[256+Le++]=we;for(Re=0;Re<=Z;Re++)Ge[Re]=0;for(ce=0;ce<=143;)xe[2*ce+1]=8,ce++,Ge[8]++;for(;ce<=255;)xe[2*ce+1]=9,ce++,Ge[9]++;for(;ce<=279;)xe[2*ce+1]=7,ce++,Ge[7]++;for(;ce<=287;)xe[2*ce+1]=8,ce++,Ge[8]++;for(yt(xe,W+1,Ge),ce=0;ce<v;ce++)Q[2*ce+1]=5,Q[2*ce]=ht(ce,5);ke=new je(xe,le,D+1,W,Z),Te=new je(Q,me,0,v,Z),Me=new je(new Array(0),pe,0,H,z)}(),Ce=!0),X.l_desc=new ve(X.dyn_ltree,ke),X.d_desc=new ve(X.dyn_dtree,Te),X.bl_desc=new ve(X.bl_tree,Me),X.bi_buf=0,X.bi_valid=0,lt(X)},u._tr_stored_block=te,u._tr_flush_block=function(X,ce,Re,Ne){var we,Le,Ge=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=function(Pe){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&Pe.dyn_ltree[2*t]!==0)return h;if(Pe.dyn_ltree[18]!==0||Pe.dyn_ltree[20]!==0||Pe.dyn_ltree[26]!==0)return g;for(t=32;t<D;t++)if(Pe.dyn_ltree[2*t]!==0)return g;return h}(X)),Gt(X,X.l_desc),Gt(X,X.d_desc),Ge=function(Pe){var t;for(M(Pe,Pe.dyn_ltree,Pe.l_desc.max_code),M(Pe,Pe.dyn_dtree,Pe.d_desc.max_code),Gt(Pe,Pe.bl_desc),t=H-1;3<=t&&Pe.bl_tree[2*he[t]+1]===0;t--);return Pe.opt_len+=3*(t+1)+5+5+4,t}(X),we=X.opt_len+3+7>>>3,(Le=X.static_len+3+7>>>3)<=we&&(we=Le)):we=Le=Re+5,Re+4<=we&&ce!==-1?te(X,ce,Re,Ne):X.strategy===4||Le===we?(Ve(X,2+(Ne?1:0),3),vn(X,xe,Q)):(Ve(X,4+(Ne?1:0),3),function(Pe,t,r,s){var l;for(Ve(Pe,t-257,5),Ve(Pe,r-1,5),Ve(Pe,s-4,4),l=0;l<s;l++)Ve(Pe,Pe.bl_tree[2*he[l]+1],3);Oe(Pe,Pe.dyn_ltree,t-1),Oe(Pe,Pe.dyn_dtree,r-1)}(X,X.l_desc.max_code+1,X.d_desc.max_code+1,Ge+1),vn(X,X.dyn_ltree,X.dyn_dtree)),lt(X),Ne&&Xe(X)},u._tr_tally=function(X,ce,Re){return X.pending_buf[X.d_buf+2*X.last_lit]=ce>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&ce,X.pending_buf[X.l_buf+X.last_lit]=255&Re,X.last_lit++,ce===0?X.dyn_ltree[2*Re]++:(X.matches++,ce--,X.dyn_ltree[2*(O[Re]+D+1)]++,X.dyn_dtree[2*_e(ce)]++),X.last_lit===X.lit_bufsize-1},u._tr_align=function(X){Ve(X,2,3),Fe(X,A,xe),function(ce){ce.bi_valid===16?(Ke(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)}(X)}},{"../utils/common":41}],53:[function(i,a,u){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,a,u){(function(o){(function(h,g){if(!h.setImmediate){var y,I,U,D,W=1,v={},H=!1,N=h.document,Z=Object.getPrototypeOf&&Object.getPrototypeOf(h);Z=Z&&Z.setTimeout?Z:h,y={}.toString.call(h.process)==="[object process]"?function(G){process.nextTick(function(){z(G)})}:function(){if(h.postMessage&&!h.importScripts){var G=!0,J=h.onmessage;return h.onmessage=function(){G=!1},h.postMessage("","*"),h.onmessage=J,G}}()?(D="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",A,!1):h.attachEvent("onmessage",A),function(G){h.postMessage(D+G,"*")}):h.MessageChannel?((U=new MessageChannel).port1.onmessage=function(G){z(G.data)},function(G){U.port2.postMessage(G)}):N&&"onreadystatechange"in N.createElement("script")?(I=N.documentElement,function(G){var J=N.createElement("script");J.onreadystatechange=function(){z(G),J.onreadystatechange=null,I.removeChild(J),J=null},I.appendChild(J)}):function(G){setTimeout(z,0,G)},Z.setImmediate=function(G){typeof G!="function"&&(G=new Function(""+G));for(var J=new Array(arguments.length-1),ie=0;ie<J.length;ie++)J[ie]=arguments[ie+1];var le={callback:G,args:J};return v[W]=le,y(W),W++},Z.clearImmediate=S}function S(G){delete v[G]}function z(G){if(H)setTimeout(z,0,G);else{var J=v[G];if(J){H=!0;try{(function(ie){var le=ie.callback,me=ie.args;switch(me.length){case 0:le();break;case 1:le(me[0]);break;case 2:le(me[0],me[1]);break;case 3:le(me[0],me[1],me[2]);break;default:le.apply(g,me)}})(J)}finally{S(G),H=!1}}}}function A(G){G.source===h&&typeof G.data=="string"&&G.data.indexOf(D)===0&&z(+G.data.slice(D.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Vn<"u"?Vn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Rd);var dm=Rd.exports;const pm=Fl(dm);var Fd={exports:{}};(function(e,n){(function(i,a){a()})(Vn,function(){function i(I,U){return typeof U>"u"?U={autoBom:!1}:typeof U!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),U={autoBom:!U}),U.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(I.type)?new Blob(["\uFEFF",I],{type:I.type}):I}function a(I,U,D){var W=new XMLHttpRequest;W.open("GET",I),W.responseType="blob",W.onload=function(){y(W.response,U,D)},W.onerror=function(){console.error("could not download file")},W.send()}function u(I){var U=new XMLHttpRequest;U.open("HEAD",I,!1);try{U.send()}catch{}return 200<=U.status&&299>=U.status}function o(I){try{I.dispatchEvent(new MouseEvent("click"))}catch{var U=document.createEvent("MouseEvents");U.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),I.dispatchEvent(U)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Vn=="object"&&Vn.global===Vn?Vn:void 0,g=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),y=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(I,U,D){var W=h.URL||h.webkitURL,v=document.createElement("a");U=U||I.name||"download",v.download=U,v.rel="noopener",typeof I=="string"?(v.href=I,v.origin===location.origin?o(v):u(v.href)?a(I,U,D):o(v,v.target="_blank")):(v.href=W.createObjectURL(I),setTimeout(function(){W.revokeObjectURL(v.href)},4e4),setTimeout(function(){o(v)},0))}:"msSaveOrOpenBlob"in navigator?function(I,U,D){if(U=U||I.name||"download",typeof I!="string")navigator.msSaveOrOpenBlob(i(I,D),U);else if(u(I))a(I,U,D);else{var W=document.createElement("a");W.href=I,W.target="_blank",setTimeout(function(){o(W)})}}:function(I,U,D,W){if(W=W||open("","_blank"),W&&(W.document.title=W.document.body.innerText="downloading..."),typeof I=="string")return a(I,U,D);var v=I.type==="application/octet-stream",H=/constructor/i.test(h.HTMLElement)||h.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||v&&H||g)&&typeof FileReader<"u"){var Z=new FileReader;Z.onloadend=function(){var A=Z.result;A=N?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),W?W.location.href=A:location=A,W=null},Z.readAsDataURL(I)}else{var S=h.URL||h.webkitURL,z=S.createObjectURL(I);W?W.location=z:location.href=z,W=null,setTimeout(function(){S.revokeObjectURL(z)},4e4)}});h.saveAs=y.saveAs=y,e.exports=y})})(Fd);var gm=Fd.exports;function mm(e,n,i,a){var pe;const{bedWidth:u,bedHeight:o,margin:h,overlap:g}=n,{rows:y,cols:I,effectiveTileWidth:U,effectiveTileHeight:D}=i,W=20,v=80,H=10,N=e.detectedWidthMm,Z=e.detectedHeightMm,S=Math.min(400/N,300/Z,1),z=N*S,A=Z*S,G=z+W*2,J=A+W*2+v;let ie=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" 
     width="${G}mm" height="${J}mm" 
     viewBox="0 0 ${G} ${J}">
  <style>
    .tile-rect { fill: #f0f9ff; stroke: #0ea5e9; stroke-width: 0.5; }
    .tile-rect-empty { fill: #f5f5f5; stroke: #d4d4d4; stroke-width: 0.5; }
    .tile-label { font-family: sans-serif; font-size: ${H}px; text-anchor: middle; fill: #1e40af; }
    .design-border { fill: none; stroke: #64748b; stroke-width: 1; stroke-dasharray: 2,2; }
    .legend-text { font-family: sans-serif; font-size: 8px; fill: #475569; }
    .title-text { font-family: sans-serif; font-size: 12px; font-weight: bold; fill: #1e293b; }
  </style>
  
  <!-- Background -->
  <rect x="0" y="0" width="${G}" height="${J}" fill="white"/>
  
  <!-- Title -->
  <text x="${G/2}" y="12" class="title-text" text-anchor="middle">Assembly Map - ${e.fileName}</text>
  
  <!-- Design area -->
  <g transform="translate(${W}, ${W+5})">
    <!-- Overall design bounds -->
    <rect x="0" y="0" width="${z}" height="${A}" class="design-border"/>
    
    <!-- Tile grid -->
`;const le=U-g,me=D-g;for(const he of a){const xe=he.col*le*S,Q=he.row*me*S,de=Math.min(U,N-he.col*le)*S,O=Math.min(D,Z-he.row*me)*S,be=he.isEmpty?"tile-rect-empty":"tile-rect";if(ie+=`    <rect x="${xe}" y="${Q}" width="${de}" height="${O}" class="${be}"/>
`,n.assemblyMap.includeLabels){const ke=xe+de/2,Te=Q+O/2+H/3;ie+=`    <text x="${ke}" y="${Te}" class="tile-label">${he.label}</text>
`}}return ie+=`  </g>
  
  <!-- Legend -->
  <g transform="translate(${W}, ${A+W*2+10})">
    <text x="0" y="0" class="legend-text">Design Size: ${N.toFixed(1)}  ${Z.toFixed(1)} mm</text>
    <text x="0" y="12" class="legend-text">Bed Size: ${u}  ${o} mm</text>
    <text x="0" y="24" class="legend-text">Margin: ${h} mm | Overlap: ${g} mm</text>
    <text x="0" y="36" class="legend-text">Grid: ${I}  ${y} (${a.length} tiles, ${a.filter(he=>!he.isEmpty).length} with content)</text>
    <text x="0" y="48" class="legend-text">Numbering: ${n.numberingFormat}</text>
    <text x="0" y="60" class="legend-text">Generated: ${new Date().toISOString().split("T")[0]}</text>
  </g>
  
  <!-- Assembly direction arrows -->
  <g transform="translate(${G-60}, ${A+W*2+10})">
    <text x="0" y="0" class="legend-text" font-weight="bold">Assembly Order:</text>
    <text x="0" y="12" class="legend-text"> Left to Right</text>
    <text x="0" y="24" class="legend-text"> Top to Bottom</text>
    <text x="0" y="36" class="legend-text">Start: ${((pe=a[0])==null?void 0:pe.label)||"R01C01"}</text>
  </g>
</svg>`,ie}function _m(e){const{svgInfo:n,settings:i,gridInfo:a,tiles:u}=e,o=u.filter(y=>!y.isEmpty),h=u.filter(y=>y.hasUnsafeFallback),g=["========================================","Panel Splitter - Export Summary","========================================","","INPUT DESIGN",`  File: ${n.fileName}`,`  Size: ${n.detectedWidthMm.toFixed(2)} x ${n.detectedHeightMm.toFixed(2)} mm`,"","BED SETTINGS",`  Bed Size: ${i.bedWidth} x ${i.bedHeight} mm`,`  Margin: ${i.margin} mm`,`  Overlap: ${i.overlap} mm`,`  Export Mode: ${i.exportMode==="laser-safe"?"Laser-Safe Trim":"Fast Clip"}`,"","GRID LAYOUT",`  Rows: ${a.rows}`,`  Columns: ${a.cols}`,`  Total Tiles: ${u.length}`,`  Non-Empty Tiles: ${o.length}`,`  Effective Tile Area: ${a.effectiveTileWidth.toFixed(2)} x ${a.effectiveTileHeight.toFixed(2)} mm`,"","NUMBERING",`  Format: ${i.numberingFormat}`,`  Enabled: ${i.numberingEnabled?"Yes":"No"}`,"","TILE LIST"];for(const y of u){const I=y.isEmpty?" (EMPTY)":y.hasUnsafeFallback?" (UNSAFE FALLBACK)":"";g.push(`  ${y.label}: Row ${y.row+1}, Col ${y.col+1}${I}`)}if(h.length>0){g.push(""),g.push("  WARNING: UNSAFE FALLBACK TILES"),g.push("The following tiles contain geometry that could not be properly trimmed."),g.push("Boolean operations failed, so the original shapes were included without clipping."),g.push("Please verify these tiles manually in your laser software:");for(const y of h)g.push(`  - ${y.label}`)}return i.exportMode==="fast-clip"&&(g.push(""),g.push("  WARNING: FAST CLIP MODE"),g.push("Tiles were exported using clipPath, not real geometry trimming."),g.push("Some laser software (e.g., older LightBurn versions) may ignore clip paths."),g.push("If you see artifacts, re-export using Laser-Safe Trim mode.")),i.registrationMarks.enabled&&(g.push(""),g.push("REGISTRATION MARKS"),g.push(`  Type: ${i.registrationMarks.type}`),g.push(`  Placement: ${i.registrationMarks.placement}`),g.push(`  Size: ${i.registrationMarks.size} mm`),g.push(`  Stroke Width: ${i.registrationMarks.strokeWidth} mm`),i.registrationMarks.type==="pinhole"&&g.push(`  Hole Diameter: ${i.registrationMarks.holeDiameter} mm`)),g.push(""),g.push("ASSEMBLY TIPS"),g.push("1. Start with tile R01C01 (top-left corner)"),g.push("2. Work left-to-right, then top-to-bottom"),g.push("3. If overlap is set, align overlapping edges carefully"),g.push("4. Use registration marks if guides were enabled"),g.push(""),g.push("Generated by Panel Splitter - LaserFilesPro"),g.push(`Date: ${new Date().toISOString()}`),g.join(`
`)}async function vm(e,n){const{svgInfo:i,settings:a,gridInfo:u,tiles:o}=e,h=G0(i.fileName),g=o.filter(W=>!W.isEmpty&&W.svgContent),y=new pm,I=a.assemblyMap.enabled;g.length+1+(I?1:0);for(let W=0;W<g.length;W++){const v=g[W],H=`${h}_${v.label}.svg`;y.file(H,v.svgContent)}const U=_m(e);if(y.file("README.txt",U),I){const W=mm(i,a,u,o);y.file("assembly_map.svg",W)}const D=await y.generateAsync({type:"blob"});gm.saveAs(D,`${h}_tiles.zip`)}const ym={bedWidth:300,bedHeight:200,margin:5,overlap:0,exportMode:"laser-safe",numberingEnabled:!0,numberingFormat:"R01C01",startIndexAtOne:!0,guidesEnabled:!1,expandStrokes:!1,simplifyTolerance:0,exportEmptyTiles:!1,unitMode:"auto",registrationMarks:{enabled:!1,type:"crosshair",placement:"inside",size:6,strokeWidth:.2,holeDiameter:2},assemblyMap:{enabled:!0,includeLabels:!0,includeThumbnails:!1}};function wm(e){const n=[];e.bedWidth<10&&n.push({field:"bedWidth",message:"Bed width must be at least 10mm"}),e.bedHeight<10&&n.push({field:"bedHeight",message:"Bed height must be at least 10mm"}),e.margin<0&&n.push({field:"margin",message:"Margin cannot be negative"}),e.overlap<0&&n.push({field:"overlap",message:"Overlap cannot be negative"});const i=e.bedWidth-2*e.margin,a=e.bedHeight-2*e.margin;return i<=0&&n.push({field:"margin",message:"Margin too large for bed width"}),a<=0&&n.push({field:"margin",message:"Margin too large for bed height"}),e.overlap>=i&&n.push({field:"overlap",message:"Overlap must be less than effective tile width"}),e.overlap>=a&&n.push({field:"overlap",message:"Overlap must be less than effective tile height"}),n}function xm(){const[e,n]=et.useState(null),[i,a]=et.useState(ym),[u,o]=et.useState(null),[h,g]=et.useState(null),[y,I]=et.useState([]),[U,D]=et.useState([]),W=et.useRef(null),v=et.useRef(null),[H,N]=et.useState(!1),[Z,S]=et.useState(()=>{if(typeof window>"u")return 900;const xe=window.localStorage.getItem("panelSplitter:leftPaneWidth"),Q=xe?Number(xe):NaN;return Number.isFinite(Q)&&Q>0?Q:Math.round(Math.min(980,Math.max(520,window.innerWidth*.62)))}),[z,A]=et.useState({isProcessing:!1,currentTile:0,totalTiles:0,phase:"idle",error:null}),G=et.useRef(!1);et.useEffect(()=>{typeof window>"u"||window.localStorage.setItem("panelSplitter:leftPaneWidth",String(Z))},[Z]),et.useEffect(()=>{if(!H)return;const xe=de=>{const O=v.current,be=W.current;if(!O||!be)return;const ke=be.getBoundingClientRect(),Te=420,ge=Math.max(Te,ke.width-340-12),je=O.width+(de.clientX-O.x);S(Math.max(Te,Math.min(ge,Math.round(je))))},Q=()=>{N(!1),v.current=null};return window.addEventListener("mousemove",xe),window.addEventListener("mouseup",Q),()=>{window.removeEventListener("mousemove",xe),window.removeEventListener("mouseup",Q)}},[H]),et.useEffect(()=>{const xe=wm(i);if(D(xe),e&&xe.length===0)try{const Q=K0(e.detectedWidthMm,e.detectedHeightMm,i);o(Q),I([]),g(null)}catch(Q){o(null),D([{field:"general",message:Q instanceof Error?Q.message:"Failed to compute grid"}])}else e||o(null)},[e,i]);const J=et.useCallback(xe=>{n(xe),I([]),g(null),A(Q=>({...Q,error:null,phase:"idle"}))},[]),ie=et.useCallback(xe=>{if(a(Q=>({...Q,unitMode:xe})),e)try{const Q=Rl(e.originalContent,e.fileName,xe);n(Q)}catch(Q){console.error("Failed to reparse SVG with new unit mode:",Q)}},[e]),le=et.useCallback(async()=>{if(!(!e||!u||U.length>0)){G.current=!1,A({isProcessing:!0,currentTile:0,totalTiles:u.tiles.length,phase:"preparing",error:null});try{A(de=>({...de,phase:"tiling"}));const xe=await sm(e,u,i,(de,O)=>{A(be=>({...be,currentTile:de,totalTiles:O}))},()=>G.current),Q=u.tiles.map(de=>{const O=xe.find(be=>be.tile.id===de.id);return O?O.tile:{...de,isEmpty:!0}});I(Q),o(de=>de?{...de,tiles:Q}:null),A({isProcessing:!1,currentTile:u.tiles.length,totalTiles:u.tiles.length,phase:"done",error:null})}catch(xe){const Q=xe instanceof Error?xe.message:"Processing failed";A({isProcessing:!1,currentTile:0,totalTiles:0,phase:"idle",error:Q==="Processing cancelled"?null:Q})}}},[e,u,i,U]),me=et.useCallback(()=>{G.current=!0,A(xe=>({...xe,phase:"cancelled"}))},[]),pe=et.useCallback(async()=>{if(!(!e||!u||y.length===0)){A(xe=>({...xe,isProcessing:!0,phase:"exporting"}));try{await vm({svgInfo:e,settings:i,gridInfo:u,tiles:y}),A(xe=>({...xe,isProcessing:!1,phase:"done"}))}catch(xe){A(Q=>({...Q,isProcessing:!1,phase:"idle",error:xe instanceof Error?xe.message:"Export failed"}))}}},[e,u,i,y]),he=e!==null&&u!==null&&U.length===0&&!z.isProcessing;return ne.jsxs("div",{className:"min-h-screen bg-gray-100",children:[ne.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:ne.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 py-4",children:ne.jsxs("div",{className:"flex items-center gap-3",children:[ne.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 100 100",children:[ne.jsx("rect",{x:"5",y:"5",width:"40",height:"40",fill:"#0ea5e9",rx:"4"}),ne.jsx("rect",{x:"55",y:"5",width:"40",height:"40",fill:"#38bdf8",rx:"4"}),ne.jsx("rect",{x:"5",y:"55",width:"40",height:"40",fill:"#38bdf8",rx:"4"}),ne.jsx("rect",{x:"55",y:"55",width:"40",height:"40",fill:"#0ea5e9",rx:"4"})]}),ne.jsxs("div",{children:[ne.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Panel Splitter"}),ne.jsx("p",{className:"text-sm text-gray-500",children:"LaserFilesPro"})]})]})})}),ne.jsxs("main",{className:"max-w-screen-2xl mx-auto p-4",children:[ne.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:hidden",children:[ne.jsx("div",{className:"h-[500px]",children:ne.jsx(_c,{svgInfo:e,gridInfo:u,selectedTile:h,onTileSelect:g})}),ne.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ne.jsx(vc,{gridInfo:u,selectedTile:h,onTileSelect:g}),ne.jsx(yc,{gridInfo:u,processingState:z,processedTiles:y,onGenerate:le,onCancel:me,onExport:pe,canGenerate:he})]}),ne.jsx(gc,{onSVGLoaded:J,unitMode:i.unitMode,onUnitModeChange:ie,svgInfo:e}),ne.jsx(mc,{settings:i,onChange:a,errors:U})]}),ne.jsxs("div",{ref:W,className:"hidden lg:flex gap-4",children:[ne.jsx("div",{className:"sticky top-4 self-start",style:{width:Z,height:"calc(100vh - 140px)"},children:ne.jsxs("div",{className:"h-full flex flex-col gap-4",children:[ne.jsx("div",{className:"flex-1 min-h-[360px]",children:ne.jsx(_c,{svgInfo:e,gridInfo:u,selectedTile:h,onTileSelect:g})}),ne.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ne.jsx(vc,{gridInfo:u,selectedTile:h,onTileSelect:g}),ne.jsx(yc,{gridInfo:u,processingState:z,processedTiles:y,onGenerate:le,onCancel:me,onExport:pe,canGenerate:he})]})]})}),ne.jsx("div",{className:`w-2 -mx-1 cursor-col-resize rounded hover:bg-gray-300/60 ${H?"bg-gray-300/80":"bg-transparent"}`,onMouseDown:xe=>{xe.preventDefault(),v.current={x:xe.clientX,width:Z},N(!0)},title:"Drag to resize"}),ne.jsxs("div",{className:"flex-1 space-y-4",children:[ne.jsx(gc,{onSVGLoaded:J,unitMode:i.unitMode,onUnitModeChange:ie,svgInfo:e}),ne.jsx(mc,{settings:i,onChange:a,errors:U})]})]})]}),ne.jsx("footer",{className:"mt-8 py-4 border-t border-gray-200 bg-white",children:ne.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 text-center text-sm text-gray-500",children:"Panel Splitter by LaserFilesPro  Client-side SVG tiling for laser cutters"})})]})}Vo.createRoot(document.getElementById("root")).render(ne.jsx(Lp.StrictMode,{children:ne.jsx(xm,{})}));
